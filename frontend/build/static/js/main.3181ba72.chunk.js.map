{"version":3,"sources":["serviceWorker.js","layout/themeContext.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/api.js","services/socket.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useDate/index.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","rules.js","components/Can/index.js","hooks/usePlans/index.js","hooks/useVersion/index.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","components/TicketListItem/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/NotificationsVolume/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","components/DarkMode/index.js","components/AnnouncementsPopover/index.js","pages/Chat/ChatPopover.js","layout/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","components/Dashboard/CardCounter.js","components/Dashboard/TableAttendantsStatus.js","hooks/useDashboard/index.js","hooks/useContacts/index.js","hooks/useMessages/index.js","pages/Dashboard/ChartsUser.js","pages/Dashboard/Filters.js","pages/Dashboard/ChartsDate.js","pages/Dashboard/index.js","components/ContactModal/index.js","components/NewTicketModal/index.js","context/Tickets/TicketsContext.js","components/LocationPreview/index.js","components/ModalImageCors/index.js","components/ConfirmationModal/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/TicketListForwardMessageItem/index.js","components/ForwardMessageModal/index.js","components/MessageOptionsMenu/index.js","components/MessagesList/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/TicketMessagesDialog/index.js","helpers/contrastColor.js","components/ContactTag/index.js","components/TicketListItemCustom/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TicketsListGroup/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/TicketsManagerTabs/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/ContactNotesDialogListItem/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/ContactDrawer/index.js","components/MessageInputCustom/RecordingTimer.js","hooks/useQuickMessages/index.js","components/MessageInputCustom/index.js","hooks/useQueues/index.js","components/TransferTicketModalCustom/index.js","components/ScheduleModal/index.js","hooks/useSettings/index.js","components/TicketActionButtonsCustom/index.js","components/TagsContainer/index.js","components/Ticket/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","utils/FormatMask.js","utils/formatSerializedId.js","pages/Connections/index.js","components/SchedulesForm/index.js","hooks/useCompanies/index.js","components/QueueSelectCustom/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","hooks/useHelps/index.js","components/HelpsManager/index.js","components/Settings/Options.js","components/OnlyForSuperUser/index.js","pages/SettingsCustom/index.js","components/FormFields/InputField.js","components/FormFields/SelectField.js","components/CheckoutPage/Forms/AddressForm.js","components/CheckoutPage/Forms/PaymentForm.js","components/CheckoutPage/ReviewOrder/styles.js","components/CheckoutPage/ReviewOrder/ShippingDetails.js","components/CheckoutPage/ReviewOrder/index.js","components/CheckoutPage/ReviewOrder/ReviewOrder.js","components/CheckoutPage/CheckoutSuccess/style.js","components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js","components/CheckoutPage/CheckoutSuccess/index.js","components/CheckoutPage/FormModel/checkoutFormModel.js","components/CheckoutPage/FormModel/validationSchema.js","components/CheckoutPage/FormModel/formInitialValues.js","components/CheckoutPage/styles.js","components/CheckoutPage/index.js","components/CheckoutPage/CheckoutPage.js","components/SubscriptionModal/index.js","pages/Financeiro/index.js","components/UserModal/statusIcon.js","pages/Users/index.js","pages/Contacts/index.js","components/ToolTips/index.js","components/ChatBots/options.js","components/ColorPicker/index.js","components/QueueOptions/style.js","config.js","components/QueueModal/index.js","pages/Queues/index.js","components/TagModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/CompaniesModal/index.js","pages/Companies/index.js","components/QuickMessagesTable/index.js","components/Dialog/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","pages/Reports/components/MainContainer/index.js","pages/Integrations/components/GoogleCalendarComponent/styles.js","pages/Integrations/components/IntegrationLinkBox/styles.js","pages/Integrations/components/IntegrationLinkBox/index.js","pages/Integrations/index.js","pages/Integrations/components/MikWebComponent/styles.js","pages/Integrations/components/MikWebComponent/index.js","pages/Subscription/index.js","components/RatingModal/index.js","pages/Ratings/index.js","pages/ToDoList/index.js","pages/Kanban/index.js","pages/TagsKanban/index.js","pages/ConfirmPage/index.js","pages/ForgetPassWord/index.js","pages/Email/index.js","pages/EmailLis/index.js","pages/EmailScheduler/index.js","pages/EmailsAgendado/index.js","pages/ChatGPT/index.js","pages/Calendario/index.js","routes/index.js","App.js","index.js","assets/logo.png","assets/planilha.xlsx","assets/sound.mp3","assets/chat_notify.mp3","assets/wa-background.png","assets/wa-background-dark.png","assets/mikweb.png","assets/asaas.png","assets/hinova.png","assets/siprov.png","assets/bling.png"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ColorModeContext","React","createContext","toggleColorMode","messages","pt","translations","signup","title","toasts","success","fail","form","name","email","password","company","phone","buttons","submit","login","companies","plan","token","auth","dueDate","expiration","days","day","expirationToday","dashboard","charts","perDay","connections","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","number","whatsappModal","edit","maxUseBotQueues","expiresTicket","outOfHoursMessage","greetingMessage","complationMessage","okAdd","okEdit","cancel","qrCode","message","contacts","searchPlaceholder","importTitlte","importMessage","import","export","whatsapp","forwardMessage","text","forwardMessageModal","ok","contactModal","mainInfo","extraInfo","extraName","extraValue","addExtraInfo","queueModal","color","userModal","farewellMessage","profile","startWork","endWork","companyModal","passwordDefault","numberAttendants","numberConections","scheduleModal","body","contact","sendAt","sentAt","tagModal","ratingModal","options","chat","noTicketMessage","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","tabs","open","closed","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","noOptions","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","accept","reopen","newTicketModal","mainDrawer","listItems","quickMessages","queues","tags","administration","users","settings","ratings","helps","messagesAPI","schedules","campaigns","annoucements","chats","financeiro","appBar","user","logout","refresh","languages","undefined","es","en","tr","textMessage","mediaMessage","media","notifications","noTickets","dialog","shortcode","contactLists","contactListItems","lists","contactList","scheduledAt","completedAt","confirmation","new","update","readonly","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","okadd","restart","close","attach","announcements","priority","mediaName","mediaPath","campaignsConfig","greeting","queueSelect","inputLabel","compaies","value","namePlan","numberQueues","useCampaigns","useExternalApi","useFacebook","useInstagram","useWhatsapp","useInternalChat","useSchedules","createdAt","lastLogin","deletedAll","deleteAll","deleteAllTitle","deleteAllMessage","userCreation","enabled","disabled","messagesList","header","assignedTo","dialogRatingTitle","dialogClosingTitle","dialogRatingCancel","dialogRatingSuccess","dialogRatingWithoutFarewellMsg","ratingTitle","return","resolve","rating","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","ticketOptionsMenu","schedule","delete","transfer","registerAppointment","resolveWithNoFarewell","acceptAudioMessage","appointmentsModal","textarea","confirm","messageOptionsMenu","reply","forward","toForward","talkTo","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","ERR_OUT_OF_HOURS","titleFrom","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","toastError","err","_err$response","_err$response$data","_err$response2","_err$response2$data","errorMsg","response","data","exists","concat","toast","t","toastId","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","theme","isString","api","axios","create","baseURL","process","withCredentials","openApi","socketConnection","params","userId","localStorage","getItem","openSocket","transports","pingTimeout","pingInterval","query","isObject","reducer","action","type","payload","whatsApp","whatsAppIndex","findIndex","s","id","updatedAt","retries","whatsAppId","splice","useWhatsApps","whatsApps","dispatch","useReducer","loading","setLoading","useState","useEffect","async","get","fetchSession","companyId","socket","on","whatsappId","WhatsAppsContext","WhatsAppsProvider","_ref","children","createElement","Provider","useDate","dateToClient","strDate","moment","isValid","format","datetimeToClient","dateToDatabase","returnDays","date","data1","Date","result","getTime","Math","ceil","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","headers","JSON","parse","Promise","reject","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","handleLogin","userData","has","isArray","setting","find","key","locale","vencimento","diff","before","isBefore","dias","duration","asDays","round","warn","push","handleLogout","getCurrentUserInfo","AuthContext","AuthProvider","rules","static","admin","Can","role","perform","yes","no","check","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","defaultProps","usePlans","getPlanList","url","method","list","save","responseData","remove","getPlanCompany","useVersion","getVersion","ListItemLink","props","icon","primary","to","className","renderLink","useMemo","forwardRef","itemProps","ref","RouterLink","Object","assign","ListItem","dense","button","component","ListItemIcon","ListItemText","newChats","forEach","chatIndex","u","chatId","map","MainListItems","collapsed","drawerClose","useContext","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","showCampaigns","setShowCampaigns","showSchedules","setShowSchedules","showInternalChat","setShowInternalChat","showExternalApi","setShowExternalApi","openKanbanSubmenu","setOpenKanbanSubmenu","openEmailSubmenu","setOpenEmailSubmenu","invisible","setInvisible","pageNumber","setPageNumber","searchParam","version","setVersion","_version","fetchVersion","planConfigs","fetchData","delayDebounceFn","setTimeout","fetchChats","clearTimeout","unreadsCount","length","chatUser","unreads","filter","whats","records","onClick","DashboardOutlinedIcon","WhatsAppIcon","prev","MailOutlineIcon","ExpandLessIcon","ExpandMoreIcon","Collapse","in","unmountOnExit","List","disablePadding","style","paddingLeft","SendIcon","EventIcon","ScheduleIcon","LoyaltyRounded","ListIcon","CalendarToday","FlashOnIcon","ContactPhoneOutlinedIcon","Fragment","LocalOfferIcon","Badge","variant","ForumIcon","LiveHelpIcon","HelpOutlineIcon","Divider","ListSubheader","inset","EventAvailableIcon","PeopleIcon","SettingsOutlinedIcon","super","AnnouncementIcon","CodeRoundedIcon","PeopleAltOutlinedIcon","AccountTreeOutlinedIcon","badgeContent","SyncAltIcon","StarOutlineIcon","AddToQueueRounded","LocalAtmIcon","BusinessIcon","Typography","fontSize","padding","textAlign","fontWeight","useStyles","makeStyles","position","buttonProgress","green","top","left","marginTop","marginLeft","ButtonWithSpinner","rest","classes","Button","CircularProgress","size","elements","allowedElements","CustomLink","target","rel","MarkdownWrapper","_ref2","boldRegex","tildaRegex","test","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","element","el","Markdown","ticket","pendingTicket","cursor","noTicketsDiv","display","height","margin","flexDirection","alignItems","justifyContent","noTicketsText","lineHeight","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","alignSelf","marginRight","contactLastMessage","paddingRight","newMessagesCount","badgeStyle","backgroundColor","acceptButton","ticketQueueColor","flex","width","userTag","right","bottom","palette","optionsBackground","border","borderRadius","TicketListItem","_ticket$queue","_ticket$queue2","_ticket$contact","ticketId","useParams","isMounted","useRef","current","e","uuid","handleSelectTicket","selected","clsx","Tooltip","arrow","placement","queue","ListItemAvatar","Avatar","src","profilePicUrl","disableTypography","noWrap","lastMessage","isSameDay","parseISO","secondary","unreadMessages","badge","put","handleAcepptTicket","useTickets","queueIds","withUnreadMessages","hasMore","setHasMore","setTickets","fetchTickets","tabContainer","overflowY","maxHeight","scrollbarStyles","popoverPaper","maxWidth","spacing","breakpoints","down","noShadow","boxShadow","icons","customBadge","NotificationsPopOver","volume","ticketIdUrl","pathname","split","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","Notification","requestPermission","q","filteredTickets","indexOf","queueId","emit","prevState","ticketIndex","notfiticationIndex","n","tag","String","read","_data$ticket$queue","document","visibilityState","isGroup","isBot","handleNotifications","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","IconButton","handleClick","aria-label","overlap","Popover","disableScrollLock","anchorOrigin","vertical","horizontal","transformOrigin","paper","onClose","NotificationsVolume","setVolume","VolumeUpIcon","Grid","container","item","VolumeDownIcon","xs","Slider","aria-labelledby","step","min","max","onChange","handleVolumeChange","chips","flexWrap","chip","QueueSelect","selectedQueueIds","setQueues","FormControl","fullWidth","InputLabel","Select","multiple","labelWidth","MenuProps","getContentAnchorEl","renderValue","Chip","label","MenuItem","root","multFieldLine","btnWrapper","formControl","minWidth","textField","UserSchema","Yup","shape","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","showPassword","setShowPassword","setWhatsappId","startWorkRef","endWorkRef","_data$queues","userQueueIds","fetchUser","handleClose","Dialog","scroll","DialogTitle","Formik","initialValues","enableReinitialize","validationSchema","onSubmit","values","handleSaveUser","setSubmitting","touched","errors","isSubmitting","Form","DialogContent","dividers","Field","as","TextField","autoFocus","helperText","InputProps","endAdornment","InputAdornment","VisibilityOff","Visibility","labelId","noValidate","ampm","defaultValue","inputRef","InputLabelProps","shrink","inputProps","multiline","rows","DialogActions","backdrop","zIndex","drawer","BackdropLoading","Backdrop","switch","visible","btnHeader","DarkMode","mainPaper","AnnouncementDialog","announcement","aria-describedby","backgroundImage","filename","backgroundRepeat","backgroundSize","backgroundPosition","DialogContentText","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnchorEl","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","record","event","currentTarget","Notifications","Paper","onScroll","scrollTop","scrollHeight","clientHeight","background","borderLeft","alt","ChatPopover","notifySound","newMessage","senderId","goToMessages","href","fancyBackground","mode","avatar","toolbar","dark","main","barraSuperior","toolbarIcon","minHeight","transition","transitions","easing","sharp","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","scrollbarStylesSoft","drawerPaperClose","overflowX","up","appBarSpacer","overflow","paddingTop","paddingBottom","containerWithScroll","logo","LoggedInLayout","_user$company","_user$company2","_user$company3","_user$company4","themeToggle","userModalOpen","setUserModalOpen","menuOpen","setMenuOpen","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","useTheme","colorMode","greaterThenSm","useMediaQuery","offsetWidth","clear","reload","interval","setInterval","clearInterval","handleCloseMenu","Drawer","ChevronLeftIcon","AppBar","Toolbar","edge","MenuIcon","Brightness7Icon","Brightness4Icon","handleRefreshPage","CachedIcon","aria-controls","aria-haspopup","AccountCircle","Menu","handleOpenUserModal","handleClickLogout","Title","gutterBottom","Chart","cardAvatar","grey","cardTitle","cardSubtitle","CardCounter","Skeleton","Card","CardHeader","subheader","off","red","pointer","RatingBox","ratingTrunc","trunc","Rating","readOnly","TableAttendantsStatus","attendants","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","minutes","avgSupportTime","startOf","online","CheckCircleIcon","ErrorIcon","useDashboard","useContacts","dateStart","dateEnd","setContacts","count","setCount","fetchContacts","useMessages","fromMe","fetchMessages","ChartJS","CategoryScale","LinearScale","BarElement","Legend","ChartDataLabels","responsive","plugins","legend","datalabels","anchor","offset","textStrokeColor","textStrokeWidth","font","weight","ChatsUser","initialDate","setInitialDate","finalDate","setFinalDate","ticketsData","setTicketsData","handleGetTicketsInformation","dataCharts","labels","nome","datasets","index","quantidade","Stack","direction","sx","my","LocalizationProvider","dateAdapter","AdapterDateFns","adapterLocale","brLocale","DatePicker","newValue","renderInput","Bar","Filters","setDateStartTicket","setDateEndTicket","dateStartTicket","dateEndTicket","setQueueTicket","queueTicket","setDateStart","setDateEnd","customFixedHeightPaperLg","elevation","sm","md","ChartsDate","hasOwnProperty","horario","total","fixedHeightPaper","blue","alignRight","selectContainer","iframeDashboard","customFixedHeightPaper","card1","card2","card3","card4","card5","card6","card7","card8","card9","fixedHeightPaper2","Dashboard","counters","setCounters","setAttendants","filterType","setFilterType","period","setPeriod","dateFrom","setDateFrom","dateTo","setDateTo","newDate","getDate","month","getMonth","year","getFullYear","now","showFilter","setShowFilter","formatTime","firstLoad","isEmpty","date_from","date_to","keys","GetMessages","all","Container","float","ClearIcon","FilterListIcon","paragraph","supportHappening","CallIcon","supportPending","HourglassEmptyIcon","GetUsers","userOnline","RecordVoiceOverIcon","supportFinished","MessageIcon","GetContacts","GroupAddIcon","AccessAlarmIcon","avgWaitTime","TimerIcon","extraAttr","ContactSchema","ContactModal","contactId","onSave","disableBot","setContact","fetchContact","handleSaveContact","marginBottom","Switch","checked","FieldArray","_ref3","info","DeleteOutlineIcon","createFilterOptions","trim","NewTicketModal","_user$queues","modalOpen","initialContact","setOptions","setSearchParam","selectedContact","setSelectedContact","selectedQueue","setSelectedQueue","newContact","setNewContact","contactModalOpen","setContactModalOpen","handleSaveTicket","createAddContactOption","filterOptions","filtered","inputValue","renderOption","option","renderOptionLabel","handleCloseContactModal","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","handleSelectOption","onKeyPress","displayEmpty","TicketsContext","TicketsContextProvider","currentTicket","setCurrentTicket","code","LocationPreview","image","link","description","handleLocation","dangerouslySetInnerHTML","__html","messageMedia","objectFit","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","medium","large","showRotate","ConfirmationModal","onConfirm","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","selectedTicketText","TicketListForwardMessageItem","selectedTicket","sendData","selectedTicketBackground","ForwardMessageModal","setSelectedTicket","loadTickets","getData","val","isForwarded","MessageOptionsMenu","confirmationOpen","setConfirmationOpen","forwardMessageModalOpen","setForwardMessageModalOpen","hanldeReplyMessage","handleCloseForwardMessageModal","messagesListWrapper","messageCenter","verticalAlign","alignContent","whatsBackground","whatsBackgroundDark","circleLoading","opacity","messageLeft","quotedContainerLeft","quotedMsg","quotedSideColorLeft","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","messageContactName","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","dailyTimestamp","dailyTimestampText","ackIcons","deletedIcon","ackDoneAllIcon","downloadMedia","deletedMessage","newMessages","messageIndex","m","messageToUpdate","MessagesList","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","scrollToBottom","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","locationParts","imageLocation","linkLocation","descriptionLocation","mediaUrl","controls","startIcon","GetApp","renderDailyTimestamps","messageDay","previousMessageDay","renderNumberTicket","ticketNunberClosed","ticketNunberOpen","renderMessageDivider","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","_message$quotedMsg5","getElementById","prevPageNumber","renderMessages","_message$contact","_message$queue2","_message$queue","_message$contact2","isDeleted","ExpandMore","xmlns","viewBox","fill","d","ack","AccessTime","Done","DoneAll","renderMessageAck","channel","Facebook","small","Instagram","ticketHeader","borderBottom","TicketHeaderSkeleton","square","titleTypographyProps","subheaderTypographyProps","animation","fundoBackground","TicketHeader","TicketInfo","userName","setUserName","contactName","setContactName","truncadName","substring","mainWrapper","mainWrapperShift","easeOut","TicketMessagesDialog","setTicket","fetchTicket","_data$contact","handleDrawerOpen","renderTicketInfo","Box","contrastColor","ContactTag","queueTag","connectionTag","ticketInfo","secondaryContentSecond","ticketInfo1","Radiusdot","transform","TicketListItemCustom","_ticket$queue5","_ticket$queue5$name","_ticket$queue6","_ticket$contact2","_ticket$whatsapp","_ticket$whatsapp2","_ticket$whatsapp2$nam","_ticket$queue7","_ticket$queue8","_ticket$queue8$name","ticketUser","setTicketUser","ticketQueueName","setTicketQueueName","setTicketQueueColor","setTag","whatsAppName","setWhatsAppName","openTicketMessageDialog","setOpenTicketMessageDialog","_ticket$queue$name","_ticket$user","_ticket$user$name","_ticket$whatsapp$name","toUpperCase","uuidv4","VisibilityIcon","ListItemSecondaryAction","chatbot","AndroidIcon","_ticket$queue3","handleCloseTicket","_ticket$queue4","handleReopenTicket","TicketsSkeleton","ticketsListWrapper","borderTop","ticketsListHeader","ticketsCount","unshift","TicketsListCustom","updateCount","allTicket","shouldUpdateTicket","toString","TicketsListSkeleton","tabHeaderBackground","TabPanel","TicketsQueueSelect","userQueues","Checkbox","TagsFilter","onFiltered","setTags","selecteds","setSelecteds","loadTags","v","r","renderTags","getTagProps","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","Array","userList","getOptionSelected","toLowerCase","getUserProps","ticketsWrapper","tabsHeader","settingsIcon","tab","tabPanelItem","ticketOptionsBox","serachInputWrapper","searchIcon","searchInput","show","hide","TicketsManagerTabs","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","selectedTags","setSelectedTags","selectedUsers","setSelectedUsers","searchTimeout","allUserChat","handleChangeTabOpen","applyPanelStyle","handleCloseOrOpenTicket","Tabs","handleChangeTab","indicatorColor","textColor","Tab","LibraryBooksIcon","LibraryAddCheckIcon","GroupIcon","PageviewIcon","SearchIcon","InputBase","searchedTerm","FormControlLabel","labelPlacement","control","TicketsList","TicketsListGroup","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","textCenter","ContactForm","onCancel","inline","ContactNotesDialogListItem","note","deleteItem","DeleteIcon","useTicketNotes","saveNote","deleteNote","listNotes","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleOpenDialogDelete","handleSave","setErrors","flexShrink","borderRight","ContactDrawer","_contact$extraInfo","handleDrawerClose","setModalOpen","openForm","setOpenForm","PaperProps","BackdropProps","ModalProps","CloseIcon","CreateIcon","Link","timerBox","RecordingTimer","timer","setTimer","seconds","addZero","useQuickMessages","deleteRecord","Mp3Recorder","MicRecorder","bitRate","newMessageBox","messageInputWrapper","messageInput","sendMessageIcons","messageIcons","uploadInput","viewMediaInputWrapper","emojiBox","audioLoading","recorderWrapper","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","EmojiOptions","showEmoji","setShowEmoji","handleAddEmoji","MoodIcon","Picker","perLine","showPreview","showSkinTones","onSelect","SignSwitch","setSignMessage","isWidthUp","FileInput","handleChangeMedias","disableOption","htmlFor","AttachFileIcon","ActionButtons","inputMessage","recording","ticketStatus","handleSendMessage","handleCancelAudio","handleUploadAudio","handleStartRecording","HighlightOffIcon","CheckCircleOutlineIcon","MicIcon","CustomInput","setInputMessage","handleInputPaste","setQuickMessages","popupOpen","setPopupOpen","listQuickMessages","truncatedMessage","firstWord","charAt","filteredOptions","setInputRef","input","closeIcon","opt","onInputChange","reason","onPaste","shiftKey","maxRows","withWidth","_medias$","medias","setMedias","setRecording","emoji","native","files","selectedMedias","from","clipboardData","mediaDevices","getUserMedia","audio","start","blob","stop","getMp3","formData","FormData","append","CancelIcon","renderReplyingMessage","useQueues","findAll","TransferTicketModalCustom","ticketid","allQueues","setAllQueues","selectedUser","setSelectedUser","findAllQueues","loadQueues","fetchUsers","noOptionsText","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","setSchedule","currentContact","setCurrentContact","c","customList","capitalize","scheduleData","handleSaveSchedule","useSettings","getAll","actionButtons","bottomButtonVisibilityIcon","botoes","SessionSchema","ratingId","TicketActionButtonsCustom","setInitialState","dataRating","setDataRating","setOpen","formRef","transferTicketModalOpen","setTransferTicketModalOpen","scheduleModalOpen","setScheduleModalOpen","setContactId","setAcceptAudio","setRatings","getAllSettings","createTheme","resetForm","handleOpenConfirmationModal","handleUpdateTicketStatus","Replay","loadRatings","UndoIcon","CachedOutlinedIcon","handleOpenScheduleModal","handleContactToggleAcceptAudio","handleCloseTransferTicketModal","handleCloseScheduleModal","innerRef","handleSendRating","setFieldValue","sendFarewellMessage","amountUsedBotQueues","handleCloseTicketWithoutFarewellMsg","TagsContainer","createTag","optionsChanged","newTag","syncTags","PaperComponent","Ticket","TicketActionButtons","MessageInput","chatContainer","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","TicketsCustom","TicketsManager","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","ChatIcon","QuestionAnswerIcon","Tickets","underline","powered","whatsappButton","textDecoration","gap","SignUp","qs","companyName","planId","plans","setPlans","planList","listPlans","listPublic","CssBaseline","recurrence","campaignsEnabled","handleSignUp","autoComplete","amount","justify","Login","handleChangeInput","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","_","memo","inputFileRef","attachment","setAttachment","attachmentName","setAttachmentName","ratingMessage","isDefault","provider","setWhatsApp","greetingMediaAttachment","whatsQueueIds","handleFileUpload","file","currentAttachment","whatsappData","localAttachmentName","handleSaveWhatsApp","textFieldTime","endIcon","handleDeleFile","selectedIds","setQrCode","QRCode","FormatMask","setPhoneFormatMask","phoneToFormat","phoneNumberFormatted","removeMask","maskPhonePattern","phoneNumber","formatSerializedId","serializedId","formatMask","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","planConfig","setPlanConfig","responseFacebook","accessToken","facebookUserId","facebookUserToken","responseInstagram","addInstagram","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","QrcodeModal","WhatsAppModal","openInNewTab","PopupState","popupId","popupState","_planConfig$plan","bindTrigger","bindMenu","WhatsApp","FacebookLogin","appId","autoLoad","fields","scope","callback","render","renderProps","_planConfig$plan2","_planConfig$plan3","IconChannel","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","DeleteOutline","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","setSchedules","weekday","weekdayEn","startTime","endTime","arrayHelpers","FastField","field","NumberFormat","customInput","_ref4","useCompanies","updateSchedules","QueueSelectCustom","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","initialValue","modalUser","setModalUser","firstUser","setFirstUser","setRecord","handleCloseModalUsers","handleSubmit","setValues","incrementDueDate","head","handleOpenModalUsers","CompaniesManagerGrid","rowStyle","EditIcon","renderPlan","toLocaleString","minimumFractionDigits","renderPlanValue","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","paymentMethod","loadPlans","companyList","handleCancel","handleOpenDeleteDialog","handleDelete","PlanManagerForm","PlansManagerGrid","renderWhatsapp","renderFacebook","renderInstagram","renderCampaigns","renderSchedules","renderInternalChat","renderExternalApi","PlansManager","HelpManagerForm","HelpsManagerGrid","video","HelpsManager","useHelps","loadHelps","helpList","Options","scheduleTypeChanged","userRating","setUserRating","scheduleType","setScheduleType","chatBotType","setChatBotType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","UserCreation","setUserCreation","loadingUserCreation","setLoadingUserCreation","CheckMsgIsGroup","setCheckMsgIsGroup","loadingCheckMsgIsGroup","setLoadingCheckMsgIsGroup","SendGreetingAccepted","setSendGreetingAccepted","loadingSendGreetingAccepted","setLoadingSendGreetingAccepted","UserRandom","setUserRandom","loadingUserRandom","setLoadingUserRandom","SettingsTransfTicket","setSettingsTransfTicket","loadingSettingsTransfTicket","setLoadingSettingsTransfTicket","AcceptCallWhatsapp","setAcceptCallWhatsapp","loadingAcceptCallWhatsapp","setLoadingAcceptCallWhatsapp","HoursCloseTicketsAuto","setHoursCloseTicketsAuto","loadingHoursCloseTicketsAuto","setLoadingHoursCloseTicketsAuto","sendSignMessage","setSendSignMessage","loadingSendSignMessage","setLoadingSendSignMessage","sendGreetingMessageOneQueues","setSendGreetingMessageOneQueues","loadingSendGreetingMessageOneQueues","setLoadingSendGreetingMessageOneQueues","sendQueuePosition","setSendQueuePosition","loadingSendQueuePosition","setLoadingSendQueuePosition","sendFarewellWaitingTicket","setSendFarewellWaitingTicket","loadingSendFarewellWaitingTicket","setLoadingSendFarewellWaitingTicket","acceptAudioMessageContact","setAcceptAudioMessageContact","loadingAcceptAudioMessageContact","setLoadingAcceptAudioMessageContact","ipixcType","setIpIxcType","loadingIpIxcType","setLoadingIpIxcType","tokenixcType","setTokenIxcType","loadingTokenIxcType","setLoadingTokenIxcType","smtpauthType","setUrlSmtpauthType","loadingUrlSmtpauthType","setLoadingUrlSmtpauthType","usersmtpauthType","setUserSmtpauthType","loadingSmtpauthType","setLoadingSmptauthType","clientsecretsmtpauthType","setClientSecrectSmtpauthType","loadingClientSecrectSmtpauthType","setLoadingClientSecrectSmtpauthType","ipmkauthType","setIpMkauthType","loadingIpMkauthType","setLoadingIpMkauthType","clientidmkauthType","setClientIdMkauthType","loadingClientIdMkauthType","setLoadingClientIdMkauthType","clientsecretmkauthType","setClientSecrectMkauthType","loadingClientSecrectMkauthType","setLoadingClientSecrectMkauthType","asaasType","setAsaasType","loadingAsaasType","setLoadingAsaasType","setCompanyId","handleChangeUserCreation","FormHelperText","handleChangeUserRating","handleScheduleType","handleSendGreetingAccepted","handleUserRandom","handleSettingsTransfTicket","handleCheckMsgIsGroup","handleChatBotType","handleAcceptCallWhatsapp","handleSendSignMessage","handleSendGreetingMessageOneQueues","handleSendQueuePosition","handleSendFarewellWaitingTicket","handleAcceptAudioMessageContact","scrollButtons","handleChangeIpMkauth","handleChangeClientIdMkauth","handleChangeClientSecrectMkauth","handleChangeAsaas","handleChangeUrlSmtpauth","handleChangeUserSmptauth","handleChangeClientSecrectSmtpauth","OnlyForSuperUser","SettingsCustom","setCompany","currentUser","setCurrentUser","setSettings","schedulesEnabled","setSchedulesEnabled","settingList","findData","isSuper","handleTabChange","InputField","errorText","meta","useField","at","_renderHelperText","SelectField","selectedValue","isError","countries","AddressForm","billingName","setBillingName","addressZipCode","setAddressZipCode","addressStreet","setAddressStreet","addressState","setAddressState","addressCity","setAddressCity","addressDistrict","setAddressDistrict","formField","firstName","address1","city","zipcode","country","ul","listStyle","cardHeader","cardPricing","footer","divider","customCard","custom","Pricing","setActiveStep","activeStep","usersPlans","setUsersPlans","connectionsPlans","setConnectionsPlans","storagePlans","setStoragePlans","price","buttonText","buttonVariant","customValuePlans","setCustomValuePlans","tier","StarIcon","CardContent","line","MinimizeIcon","handleChangeMin","AddIcon","handleChangeAdd","handleChangeConnectionsMin","handleChangeConnectionsAdd","CardActions","listItem","PaymentDetails","formValues","newPlan","ReviewOrder","useFormikContext","ShippingDetails","div","_templateObject","_taggedTemplateLiteral","Total","_templateObject2","SuccessContent","_templateObject3","_templateObject4","CheckoutSuccess","pix","pixString","copied","setCopied","valor","original","CopyToClipboard","onCopy","handleCopyQR","FaCheckCircle","FaCopy","formId","requiredErrorMsg","lastName","invalidErrorMsg","useAddressForPaymentDetails","invoiceId","nameOnCard","cardNumber","expiryDate","cvv","checkoutFormModel","nullable","stepper","wrapper","CheckoutPage","steps","datePayment","setDatePayment","Invoice","currentValidationSchema","isLastStep","_handleBack","Stepper","Step","StepLabel","formInitialValues","newValues","address2","_submitForm","setTouched","PaymentForm","_renderStepContent","invoices","newUsers","userIndex","Invoices","selectedContactId","setSelectedContactId","fetchInvoices","hoje","rowStatus","SubscriptionModal","detail","currency","handleOpenContactModal","UserStatusIcon","Users","deletingUser","setDeletingUser","handleDeleteUser","handleCloseUserModal","startAdornment","_user$whatsapp","handleEditUser","newContacts","contactIndex","Contacts","deletingContact","setDeletingContact","ImportContacts","setImportContacts","blockingContact","setBlockingContact","unBlockingContact","setUnBlockingContact","confirmOpen","setConfirmOpen","confirmChatsOpen","setConfirmChatsOpen","contactTicket","setContactTicket","fileUploadRef","handleDeleteContact","active","handleBlockContact","handleUnBlockContact","go","handleimportContact","handleImportExcel","handleimportChats","ArrowDropDown","ContactPhone","click","Backup","hours","getHours","getMinutes","getDateLastMessage","hadleEditContact","BlockIcon","ToolTip","QueueSchema","of","VerticalLinearStepper","setSteps","isStepContent","setIsStepContent","isNameEdit","setIsNamedEdit","isGreetingMessageEdit","setGreetingMessageEdit","handleSaveBot","chatBotId","fetchList","handleCloseConfirmationModal","handleDeleteQueue","validateOnChange","nonLinear","orientation","_steps$options$index","_touched$options","_touched$options$inde","_errors$options","_errors$options$index","_steps$options$index2","isAgent","SaveIcon","StepContent","HelpOutlineOutlinedIcon","ColorPicker","currentColor","selectedColor","setSelectedColor","BlockPicker","triangle","colors","hex","onChangeComplete","addButton","getConfig","arguments","ENV","colorAdorment","QueueModal","onEdit","chatbots","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","timestampUpdated","setTimestampUpdated","setFile","makeFileLink","handleSetFile","handleSaveQueue","handleChange","onFocus","Colorize","_ref5","_queue$chatbots$index","_touched$chatbots","_touched$chatbots$ind","_errors$chatbots","_errors$chatbots$inde","_queue$chatbots$index2","optionType","handleOptionChangeType","edition","handleSaveFile","Send","OptionsChatBot","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleEditQueue","handleCloseQueueModal","res","handleOpenQueueModal","TagSchema","TagModal","tagId","kanban","tagData","handleSaveTag","ColorBox","disableAlpha","hslGradient","newTags","tagIndex","Tags","selectedTag","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchTags","handleDeleteTag","handleCloseTagModal","handleOpenTagModal","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","handleSendTextMessage","firstFile","handleSendMediaMessage","heading","flexBasis","secondaryHeading","Helps","Accordion","AccordionSummary","expandIcon","AccordionDetails","frameBorder","allow","allowFullScreen","renderVideo","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","contactListData","handleSaveContactList","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","handleDeleteContactList","ContactListDialog","handleCloseContactListModal","handleOpenContactListModal","contactsCount","planilhaExemplo","download","DownloadIcon","goToContacts","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","findContactList","handleCloseContactListItemModal","handleImportContacts","goToContactLists","handleOpenContactListItemModal","isWhatsappValid","titleAccess","htmlColor","CompanySchema","CompanyModal","fetchCompany","companyData","handleSaveCompany","newCompanies","companyIndex","Companies","selectedCompany","setSelectedCompany","deletingCompany","setDeletingCompany","companyModalOpen","setCompanyModalOpen","fetchCompanies","handleDeleteCompany","handleCloseCompanyModal","QuickMessagesTable","showLoading","editMessage","setRows","handleEdit","CoreDialog","MessageSchema","QuickMessageDialog","initialMessage","saveMessage","messageSelected","dialogOpen","setDialogOpen","setMessage","verifyAndSetMessage","messageSelectedIsValid","isNil","propType","PropType","bool","func","QuickMessages","setMessages","setMessageSelected","listMessages","updateMessage","loadingQuickMessages","handleCloseModal","handleOpenToAdd","Route","Component","isPrivate","Redirect","RouterRoute","newSchedules","scheduleIndex","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","param","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleDeleteSchedule","str","len","handleEditSchedule","truncate","CampaignSchema","CampaignModal","campaignId","resetPagination","campaign","setCampaign","whatsapps","setWhatsapps","setContactLists","messageTab","setMessageTab","campaignEditable","setCampaignEditable","attachmentFile","prevCampaignData","entries","moreThenAnHour","Number","isNaN","isEditable","renderMessageField","identifier","renderConfirmationMessageField","handleAttachmentFile","dataValues","_ref6","handleSaveCampaign","_ref7","centered","restartCampaign","cancelCampaign","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","handleDeleteCampaign","handleCloseCampaignModal","handleOpenCampaignModal","formatStatus","PauseCircleOutlineIcon","PlayCircleOutlineIcon","DescriptionIcon","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","settingsList","fromEntries","handleOnChangeVariable","changedProp","handleOnChangeSettings","removeVariable","newList","addVariable","variablesExists","CampaignReport","validContacts","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","LinearProgress","DoneIcon","DoneAllIcon","ListAltIcon","AnnouncementSchema","AnnouncementModal","announcementData","handleSaveAnnouncement","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleCloseAnnouncementModal","handleOpenAnnouncementModal","_announcement$mediaNa","handleEditAnnouncement","chatList","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","getPrimaryText","mainText","getSecondaryText","getItemStyle","ownerId","messageList","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridContainer","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","changedChats","filteredChats","sendMessage","deleteChat","loadMoreMessages","StyledMainHeader","_templateObject5","_templateObject6","listPaper","IntegrationLinkBox","customStyle","img","Integrations","hinovaImg","siprovImg","mikwebImg","asaasImg","blingImg","TextContainer","yup","mik_web","tokens","when","is","MikWebComponent","removeTokens","setRemoveTokens","ChevronLeft","_values$tokens","_values$tokens$index","mik_web_send_billings_messages","RatingSchema","RatingModal","setRating","ratingData","handleSaveRating","minRows","newRatings","ratingIndex","Ratings","selectedRating","setSelectedRating","deletingRating","setDeletingRating","ratingModalOpen","setRatingModalOpen","fetchRatings","handleDeleteRating","handleCloseRatingModal","handleOpenRatingModal","handleEditRating","inputContainer","descriptionInput","listContainer","separator","card","ToDoList","task","setTask","setDescription","tasks","setTasks","editIndex","setEditIndex","setError","expandedTask","setExpandedTask","fetchTasks","updatedTask","updatedTasks","newTask","created_at","updated_at","completed","completedTask","handleEditTask","taskId","handleDeleteTask","Kanban","reloadData","setReloadData","isInitialLoadComplete","setIsInitialLoadComplete","fetchedTags","lista","jsonString","lanes","UserQueue","teste","handleCardClick","cards","popularCards","Board","onCardMoveAcrossLanes","cardId","sourceLaneId","targetLaneId","ConfirmPage","passwordRegex","ForgetPassword","showAdditionalFields","setShowAdditionalFields","showResetPasswordButton","setShowResetPasswordButton","showConfirmPassword","setShowConfirmPassword","togglePasswordVisibility","toggleConfirmPasswordVisibility","isResetPasswordButtonClicked","newPassword","matches","confirmPassword","oneOf","otherwise","handleResetPassword","handleSendEmail","VisibilityOffIcon","mt","emailSection","App","setSender","subject","setSubject","emails","setEmails","senderEmails","tokenSenha","assunto","mensagem","pagination","EmailList","currentPage","setCurrentPage","selectedEmail","setSelectedEmail","loadEmails","indexOfLastEmail","indexOfFirstEmail","currentEmails","slice","openEmail","i","CSSTransition","classNames","closeEmail","EmailScheduler","selectedDate","setSelectedDate","formattedDate","ChatApp","welcomeMessage","setInput","isLoading","setIsLoading","messageContainerRef","prompt","answerMessage","answer","localizer","momentLocalizer","MyCalendar","onEventCompleted","events","setEvents","modalIsOpen","setModalIsOpen","eventTitle","setEventTitle","eventDescription","setEventDescription","fetchEvents","closeModal","Calendar","startAccessor","endAccessor","selectable","onSelectSlot","today","previous","next","week","agenda","newEvent","end","eventId","updatedEvents","concluido","handleCompleteEvent","Routes","BrowserRouter","exact","path","Signup","Financeiro","TicketResponsiveContainer","TagsKanban","Email","EmailLis","EmailsAgendado","ChatGPT","Calendario","Annoucements","Chat","ToastContainer","queryClient","QueryClient","setLocale","prefersDarkMode","preferredTheme","setMode","prevMode","primaryDark","textPrimary","borderPrimary","light","inputBackground","i18nlocale","ptBR","ThemeProvider","QueryClientProvider","client","ReactDOM","origin","addEventListener","fetch","contentType","ready","unregister","checkValidServiceWorker","serviceworker","module","exports"],"mappings":"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ACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,OAiBAC,OAbW5N,IAAqC,IAApC,QAAEb,EAAO,SAAEc,KAAa4N,GAAM7N,EACxD,MAAM8N,EAAUX,KAEhB,OACCrjB,IAAAoW,cAAC6N,KAAMvH,OAAAC,OAAA,CAACR,UAAW6H,EAAQlH,OAAQvP,SAAU8H,GAAa0O,GACxD5N,EACAd,GACArV,IAAAoW,cAAC8N,KAAgB,CAACC,KAAM,GAAIhI,UAAW6H,EAAQR,mB,UCzBnD,MAAMY,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAapO,IAAA,IAAC,SAAEC,KAAa4F,GAAO7F,EAAA,OACzClW,IAAAoW,cAAA,IAAAsG,OAAAC,OAAA,GAAOZ,EAAK,CAAEwI,OAAO,SAASC,IAAI,wBAChCrO,IAsCYsO,OAlCSC,IAAmB,IAAlB,SAAEvO,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","file":"static/js/main.3181ba72.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}","import React from \"react\";\n\nconst ColorModeContext = React.createContext({ toggleColorMode: () => { } });\n\nexport default ColorModeContext;","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"CADASTRE-SE\",\n        toasts: {\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          company: \"Nome da Empresa\",\n          phone: \"Whatsapp (DDD + NÚMERO)\"\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"Já tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"Não tem um conta? Cadastre-se!\",\n        },\n      },\n      companies: {\n        title: \"Cadastrar Empresa\",\n        form: {\n          name: \"Nome da Empresa\",\n          plan: \"Plano\",\n          token: \"Token\",\n          submit: \"Cadastrar\",\n          success: \"Empresa criada com sucesso!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n        dueDate: {\n          expiration: \"Sua assinatura expira em\",\n          days: \"dias!\",\n          day: \"dia!\",\n          expirationToday: \"Sua assinatura expira hoje!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Atendimentos hoje: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexões\",\n        toasts: {\n          deleted: \"Conexão com o WhatsApp excluída com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sessão do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\n          },\n          connected: {\n            title: \"Conexão estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexão com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\n          },\n          \n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"Última atualização\",\n          default: \"Padrão\",\n          actions: \"Ações\",\n          session: \"Sessão\",\n          number: \"Número do Whatsapp\"\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padrão\",\n          maxUseBotQueues: \"Quantidade máxima de vezes que o chatbot vai ser enviado\",\n          expiresTicket: \"Encerrar chats abertos após x horas\",\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\n          greetingMessage: \"Mensagem de saudação\",\n          complationMessage: \"Mensagem de conclusão\",\n          token: \"Token para integração externa\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sessão\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excluído com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados serão perdidos.\",\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n          export: \"Exportar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Ações\",\n        },\n      },\n      forwardMessage: {\n        text: \"Encaminhada\"\n      },\n      forwardMessageModal: {\n        title: \"Encaminhar mensagem\",\n        buttons: {\n          ok: \"Encaminhar\"\n        }\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informações adicionais\",\n          name: \"Nome\",\n          number: \"Número do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informação\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudação\",\n          complationMessage: \"Mensagem de conclusão\",\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\n          token: \"Token\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usuário\",\n          edit: \"Editar usuário\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          farewellMessage: \"Mensagem de despedida\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexão Padrão\",\n          startWork: \"Inicio de trabalho\",\n          endWork: \"Fim de trabalho\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuário salvo com sucesso.\",\n      },\n      companyModal: {\n        title: {\n          add: \"Adicionar empresa\",\n          edit: \"Editar empresa\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          passwordDefault: \"Senha\",\n          numberAttendants: \"Usuários\",\n          numberConections: \"Conexões\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Empresa salva com sucesso.\",\n      },\n      scheduleModal: {\n        title: {\n          add: \"Novo Agendamento\",\n          edit: \"Editar Agendamento\",\n        },\n        form: {\n          body: \"Mensagem\",\n          contact: \"Contato\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Agendamento salvo com sucesso.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nova Tag\",\n          edit: \"Editar Tag\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag salvo com sucesso.\",\n      },\n      ratingModal: {\n        title: {\n          add: \"Adicionar menu de avaliação\",\n          edit: \"Editar menu de avaliação\",\n        },\n        buttons: {\n          okAdd: \"Salvar\",\n          okEdit: \"Editar\",\n          cancel: \"Cancelar\",\n          options: \"Adicionar opção\",\n        },\n        form: {\n          name: \"Nome\",\n          message: \"Mensagem da Avaliação\",\n          options: \"Opções de Avaliação\",\n          extraName: \"Nome da opção\",\n          extraValue: \"Valor da opção\",\n        },\n        success: \"Avaliação salva com sucesso!\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O atendimento que você estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Abertas\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar atendimento e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Atendimento\",\n        fieldLabel: \"Digite para buscar usuários\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\n        buttons: {\n          accept: \"Aceitar\",\n          reopen: \"Reabrir\",\n          closed: \"Fechar\"\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Atendimento\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexões\",\n          tickets: \"Atendimentos\",\n          quickMessages: \"Respostas Rápidas\",\n          contacts: \"Contatos\",\n          queues: \"Filas & Chatbot\",\n          tags: \"Tags\",\n          administration: \"Administração\",\n          companies: \"Empresas\",\n          users: \"Usuários\",\n          settings: \"Configurações\",\n          ratings: \"Avaliação\",\n          helps: \"Ajuda\",\n          messagesAPI: \"API\",\n          schedules: \"Agendamentos\",\n          campaigns: \"Campanhas\",\n          annoucements: \"Informativos\",\n          chats: \"Chat Interno\",\n          financeiro: \"Financeiro\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n          refresh: \"Atualizar\"\n        },\n      },\n      languages: {\n        undefined: \"Idioma\",\n        \"pt-BR\": \"Português\",\n        es: \"Español\",\n        en: \"English\",\n        tr: \"Türkçe\"\n      },\n      messagesAPI: {\n        title: \"API\",\n        textMessage: {\n          number: \"Número\",\n          body: \"Mensagem\",\n          token: \"Token cadastrado\",\n        },\n        mediaMessage: {\n          number: \"Número\",\n          body: \"Nome do arquivo\",\n          media: \"Arquivo\",\n          token: \"Token cadastrado\",\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificação.\",\n      },\n      quickMessages: {\n        title: \"Respostas Rápidas\",\n        buttons: {\n          add: \"Nova Resposta\",\n        },\n        dialog: {\n          shortcode: \"Atalho\",\n          message: \"Resposta\",\n        },\n      },\n      contactLists: {\n        title: \"Listas de Contatos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Lista\",\n        },\n        dialog: {\n          name: \"Nome\",\n          company: \"Empresa\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      contactListItems: {\n        title: \"Contatos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo\",\n          lists: \"Listas\",\n          import: \"Importar\",\n        },\n        dialog: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        table: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          actions: \"Ações\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n          importMessage: \"Deseja importar os contatos desta planilha? \",\n          importTitlte: \"Importar\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaigns: {\n        title: \"Campanhas\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Nova Campanha\",\n          contactLists: \"Listas de Contatos\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"Conexão\",\n          contactList: \"Lista de Contatos\",\n          status: \"Status\",\n          scheduledAt: \"Agendamento\",\n          completedAt: \"Concluída\",\n          confirmation: \"Confirmação\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          new: \"Nova Campanha\",\n          update: \"Editar Campanha\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            name: \"Nome\",\n            message1: \"Mensagem 1\",\n            message2: \"Mensagem 2\",\n            message3: \"Mensagem 3\",\n            message4: \"Mensagem 4\",\n            message5: \"Mensagem 5\",\n            confirmationMessage1: \"Mensagem de Confirmação 1\",\n            confirmationMessage2: \"Mensagem de Confirmação 2\",\n            confirmationMessage3: \"Mensagem de Confirmação 3\",\n            confirmationMessage4: \"Mensagem de Confirmação 4\",\n            confirmationMessage5: \"Mensagem de Confirmação 5\",\n            messagePlaceholder: \"Conteúdo da mensagem\",\n            whatsapp: \"Conexão\",\n            status: \"Status\",\n            scheduledAt: \"Agendamento\",\n            confirmation: \"Confirmação\",\n            contactList: \"Lista de Contato\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar Disparos\",\n            restart: \"Reiniciar Disparos\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          cancel: \"Campanha cancelada\",\n          restart: \"Campanha reiniciada\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      announcements: {\n        title: \"Informativos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo Informativo\",\n          contactLists: \"Listas de Informativos\",\n        },\n        table: {\n          priority: \"Prioridade\",\n          title: \"Title\",\n          text: \"Texto\",\n          mediaName: \"Arquivo\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          edit: \"Edição de Informativo\",\n          add: \"Novo Informativo\",\n          update: \"Editar Informativo\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            priority: \"Prioridade\",\n            title: \"Title\",\n            text: \"Texto\",\n            mediaPath: \"Arquivo\",\n            status: \"Status\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaignsConfig: {\n        title: \"Configurações de Campanhas\",\n      },\n      queues: {\n        title: \"Filas & Chatbot\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudação\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! Os atendimentos dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      users: {\n        title: \"Usuários\",\n        table: {\n          status: \"Status\",\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexão Padrao\",\n          startWork: \"Inicio de trabalho\",\n          endWork: \"Fim de trabalho\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar usuário\",\n        },\n        toasts: {\n          deleted: \"Usuário excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usuário serão perdidos. Os atendimento abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      compaies: {\n        title: \"Empresas\",\n        table: {\n          status: \"Ativo\",\n          name: \"Nome\",\n          email: \"Email\",\n          numberAttendants: \"Atendentes\",\n          numberConections: \"Conexões\",\n          value: \"Valor\",\n          namePlan: \"Nome Plano\",\n          numberQueues: \"Filas\",\n          useCampaigns: \"Campanhas\",\n          useExternalApi: \"Rest API\",\n          useFacebook: \"Facebook\",\n          useInstagram: \"Instagram\",\n          useWhatsapp: \"Whatsapp\",\n          useInternalChat: \"Chat Interno\",\n          useSchedules: \"Agendamento\",\n          createdAt: \"Criada Em\",\n          dueDate: \"Vencimento\",\n          lastLogin: \"Ult. Login\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar empresa\",\n        },\n        toasts: {\n          deleted: \"Empresa excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados da empresa serão perdidos. Os tickets abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      helps: {\n        title: \"Central de Ajuda\",\n      },\n      schedules: {\n        title: \"Agendamentos\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir este Agendamento?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        table: {\n          contact: \"Contato\",\n          body: \"Mensagem\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Novo Agendamento\",\n        },\n        toasts: {\n          deleted: \"Agendamento excluído com sucesso.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir esta Tag?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          tickets: \"Registros Tagdos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Tag\",\n        },\n        toasts: {\n          deleted: \"Tag excluído com sucesso.\",\n        },\n      },\n      ratings: {\n        title: \"Avaliações\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ação\"\n        },\n        toasts: {\n          deleted: \"Avaliação excluída com sucesso!\",\n          deletedAll: \"Todas as avaliações foram excluídas com sucesso!\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          deleteAll: \"Deletar Todos\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          deleteAllTitle: \"Deletar Todos\",\n          deleteMessage: \"Tem certeza que deseja deletar esta avaliação?\",\n          deleteAllMessage: \"Tem certeza que deseja deletar todas as avaliações?\",\n        },\n      },\n      settings: {\n        success: \"Configurações salvas com sucesso.\",\n        title: \"Configurações\",\n        settings: {\n          userCreation: {\n            name: \"Criação de usuário\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Asignado à:\",\n          dialogRatingTitle: \"Deseja deixar uma avaliação de atendimento para o cliente?\",\n          dialogClosingTitle: \"Finalizando o atendimento com o cliente!\",\n          dialogRatingCancel: \"Resolver COM Mensagem de Despedida\",\n          dialogRatingSuccess: \"Resolver e Enviar Avaliação\",\n          dialogRatingWithoutFarewellMsg: \"Resolver SEM Mensagem de Despedida\",\n          ratingTitle: \"Escolha um menu de avaliação\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n            rating: \"Enviar Avaliação\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informações\",\n      },\n      ticketOptionsMenu: {\n        schedule: \"Agendamento\",\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        registerAppointment: \"Observações do Contato\",\n        resolveWithNoFarewell: \"Finalizar sem despedida\",\n        acceptAudioMessage: \"Aceitar áudios do contato?\",\n        appointmentsModal: {\n          title: \"Observações do Contato\",\n          textarea: \"Observação\",\n          placeholder: \"Insira aqui a informação que deseja registrar\",\n        },\n        confirmationModal: {\n          title: \"Deletar o atendimento do contato\",\n          message:\n            \"Atenção! Todas as mensagens relacionadas ao atendimento serão perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        forward: \"Encaminhar\",\n        toForward: \"Encaminhar\",\n        talkTo: \"Conversar Com\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\n        ERR_NO_DEF_WAPP_FOUND: \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\n        ERR_WAPP_NOT_INITIALIZED: \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\n        ERR_WAPP_CHECK_CONTACT: \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA: \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\n        ERR_INVALID_CREDENTIALS: \"Erro de autenticação. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG: \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Já existe um atendimento aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED: \"A criação do usuário foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG: \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS: \"Esta cor já está em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED: \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\n        ERR_OUT_OF_HOURS: \"Fora do Horário de Expediente!\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n\ten: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Sign up\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"User created successfully! Please login!\",\n\t\t\t\t\tfail: \"Error creating user. Check the reported data.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Register\",\n\t\t\t\t\tlogin: \"Already have an account? Log in!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Login\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Enter\",\n\t\t\t\t\tregister: \"Don't have an account? Register!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Login successfully!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets today: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Connections\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"WhatsApp connection deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage: \"Are you sure? It cannot be reverted.\",\n\t\t\t\t\tdisconnectTitle: \"Disconnect\",\n\t\t\t\t\tdisconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tdisconnect: \"Disconnect\",\n\t\t\t\t\ttryAgain: \"Try Again\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"New QR CODE\",\n\t\t\t\t\tconnecting: \"Connectiing\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"Failed to start WhatsApp session\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Waiting for QR Code read\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Connection established\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Connection with cell phone has been lost\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tstatus: \"Status\",\n\t\t\t\t\tlastUpdate: \"Last Update\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t\tsession: \"Session\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tedit: \"Edit WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp saved successfully.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Read QrCode to start the session\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contacts\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Contact deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Search ...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\timportTitlte: \"Import contacts\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure you want to delete this contact? All related tickets will be lost.\",\n\t\t\t\t\timportMessage: \"Do you want to import all contacts from the phone?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Import Contacts\",\n\t\t\t\t\tadd: \"Add Contact\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add contact\",\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Contact details\",\n\t\t\t\t\textraInfo: \"Additional information\",\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tnumber: \"Whatsapp number\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\textraName: \"Field name\",\n\t\t\t\t\textraValue: \"Value\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Add information\",\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contact saved successfully.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t\tedit: \"Edit queue\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Greeting Message\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t\tedit: \"Edit user\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"User saved successfully.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Select a ticket to start chatting.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"New\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Queues\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"The ticket you were on has been deleted.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Message from\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Inbox\" },\n\t\t\t\t\tclosed: { title: \"Resolved\" },\n\t\t\t\t\tsearch: { title: \"Search\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Search tickets and messages.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"All\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transfer Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for users\",\n\t\t\t\tnoOptions: \"No user found with this name\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transfer\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Queue\",\n\t\t\t\tassignedHeader: \"Working on\",\n\t\t\t\tnoTicketsTitle: \"Nothing here!\",\n\t\t\t\tnoTicketsMessage: \"No tickets found with this status or search term.\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Create Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for a contact\",\n\t\t\t\tadd: \"Add\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Connections\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contacts\",\n\t\t\t\t\tqueues: \"Queues\",\n\t\t\t\t\tadministration: \"Administration\",\n\t\t\t\t\tusers: \"Users\",\n\t\t\t\t\tsettings: \"Settings\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\t\tlogout: \"Logout\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"No notifications.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Queues\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Greeting message\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Queues\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Users\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"User deleted sucessfully.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"All user data will be lost. Users' open tickets will be moved to queue.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Settings saved successfully.\",\n\t\t\t\ttitle: \"Settings\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"User creation\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Enabled\",\n\t\t\t\t\t\t\tdisabled: \"Disabled\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Assigned to:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Return\",\n\t\t\t\t\t\tresolve: \"Resolve\",\n\t\t\t\t\t\treopen: \"Reopen\",\n\t\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Type a message\",\n\t\t\t\tplaceholderClosed: \"Reopen or accept this ticket to send a message.\",\n\t\t\t\tsignMessage: \"Sign\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Contact details\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Other information\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\ttransfer: \"Transfer\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete ticket #\",\n\t\t\t\t\ttitleFrom: \"from contact \",\n\t\t\t\t\tmessage: \"Attention! All ticket's related messages will be lost.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Delete\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\treply: \"Reply\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete message?\",\n\t\t\t\t\tmessage: \"This action cannot be reverted.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"There must be at lest one default WhatsApp connection.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No default WhatsApp found. Check connections page.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"This WhatsApp session is not initialized. Check connections page.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"Could not check WhatsApp contact. Check connections page.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"Could not download media from WhatsApp. Check connections page.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error sending WhatsApp message. Check connections page.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET:\n\t\t\t\t\t\"There's already an open ticket for this contact.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"User creation was disabled by administrator.\",\n\t\t\t\tERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n\t\t\t\tERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No user found with this ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error fetching the message in WhtasApp, maybe it is too old.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"This color is already in use, pick another one.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"Greeting message is required if there is more than one queue.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","const messages = {\n\tes: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Registrar\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"¡Usuario creado con éxito! Haz tu login!!!.\",\n\t\t\t\t\tfail: \"Error al crear usuario. Verifique los datos ingresados.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nonbre\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Contraseña\",\n\t\t\t\t\tcompany: \"Nombre de la empresa\",\n\t\t\t\t\tphone: \"Número Whatsapp\"\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Registrar\",\n\t\t\t\t\tlogin: \"¿Ya tienes una cuenta? Inicia sesión!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Login\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Contraseña\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Login\",\n\t\t\t\t\tregister: \"¿No tienes una cuenta? Regístrate!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcompanies: {\n\t\t\t\ttitle: \"Registro de Empresas\",\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre de la empresa\",\n\t\t\t\t\tplan: \"Plan\",\n\t\t\t\t\ttoken: \"Token\",\n\t\t\t\t\tsubmit: \"Crear\",\n\t\t\t\t\tsuccess: \"Empresa creada con éxito!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Login exitoso!\",\n\t\t\t\t},\n\t\t\t\tdueDate: {\n\t\t\t\t\texpiration: \"Su suscripción expira en\",\n\t\t\t\t\tdays: \"dias!\",\n\t\t\t\t\tday: \"dia!\",\n\t\t\t\t\texpirationToday: \"Su suscripción expira hoy!\",\n\t\t\t\t},\n\t\t\t\ttoken: \"Token\",\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Atendimentos hoje: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Conexiones\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Conexión eliminada con éxito!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar conexión\",\n\t\t\t\t\tdeleteMessage: \"Usted está seguro? Esta acción no se puede deshacer.\",\n\t\t\t\t\tdisconnectTitle: \"Desconectar WhatsApp\",\n\t\t\t\t\tdisconnectMessage: \"Usted está seguro? Esta acción no se puede deshacer.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agregar WhatsApp\",\n\t\t\t\t\tdisconnect: \"Desconectar\",\n\t\t\t\t\ttryAgain: \"Intentar de nuevo\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"Nuevo QR CODE\",\n\t\t\t\t\tconnecting: \"Conectando\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"Falló la conexión con el celular\",\n\t\t\t\t\t\tcontent: \"Verifique que su celular esté conectado a internet y que WhatsApp esté abierto\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Esperando lectura del QR Code\",\n\t\t\t\t\t\tcontent: \"Click en el botón 'QR CODE' para obtener un nuevo QR Code\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Conexión exitosa\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Se ha perdido la conexión con el teléfono móvil.\",\n\t\t\t\t\t\tcontent: \"Asegúrese de que su teléfono esté conectado a Internet y WhatsApp esté abierto, o haga clic en el botón 'Desconectar' para obtener un nuevo código QR\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\tlastUpdate: \"Última actualización\",\n\t\t\t\t\tdefault: \"Por defecto\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t\tsession: \"Session\",\n\t\t\t\t\tnumber: \"Número do Whatsapp\"\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Añadir WhatsApp\",\n\t\t\t\t\tedit: \"Editar WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tdefault: \"Por defecto\",\n\t\t\t\t\tmaxUseBotQueues: \"Número máximo de veces que se enviará el chatbot\",\n\t\t\t\t\texpiresTicket: \"Finalizar chats abiertos después de x horas\",\n\t\t\t\t\toutOfHoursMessage: \"Mensaje fuera de horario\",\n\t\t\t\t\tgreetingMessage: \"Mensaje de bienvenida\",\n\t\t\t\t\tcomplationMessage: \"Mensaje de finalización\",\n\t\t\t\t\ttoken: \"Token para API\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp creado con éxito!\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Lea el código QR con su teléfono móvil\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contactos\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Contacto eliminado con éxito!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Buscar contato...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar contato \",\n\t\t\t\t\timportTitlte: \"Importar contatos\",\n\t\t\t\t\tdeleteMessage: \"¿Está seguro de que desea eliminar este contacto? Todas las citas relacionadas se perderán.\",\n\t\t\t\t\timportMessage: \"Desear importar los contactos de su teléfono?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Importar Contacto\",\n\t\t\t\t\tadd: \"Agregar Contato\",\n\t\t\t\t\texport: \"Exportar Contacto\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tforwardMessage: {\n\t\t\t\ttext: \"Reenviar\",\n\t\t\t},\n\t\t\tforwardMessageModal: {\n\t\t\t\ttitle: \"Reenviar mensaje\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Reenviar\",\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Añadir contato\",\n\t\t\t\t\tedit: \"Editar contato\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Datos de contacto\",\n\t\t\t\t\textraInfo: \"Información adicional\",\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tnumber: \"Número de Whatsapp\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\textraName: \"Nombre del campo\",\n\t\t\t\t\textraValue: \"Valor\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Añadir campo\",\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contacto creado con éxito!\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Añadir fila\",\n\t\t\t\t\tedit: \"Editar fila\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Cor\",\n\t\t\t\t\tgreetingMessage: \"Mensaje de bienvenida\",\n\t\t\t\t\tcomplationMessage: \"Mensaje de finalización\",\n\t\t\t\t\toutOfHoursMessage: \"Mensaje fuera de horario\",\n\t\t\t\t\ttoken: \"Token API\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Añadir usuario\",\n\t\t\t\t\tedit: \"Editar usuario\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Contraseña\",\n\t\t\t\t\tfarewellMessage: \"Mensaje de despedida\",\n\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t\twhatsapp: \"Conexão Padrão\",\n\t\t\t\t\tstartWork: \"Iniciar trabajo\",\n\t\t\t\t\tendWork: \"Finalizar trabajo\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Usuario creado con éxito!\",\n\t\t\t},\n\t\t\tcompanyModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Añadir empresa\",\n\t\t\t\t\tedit: \"Editar empresa\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpasswordDefault: \"Contraseña\",\n\t\t\t\t\tnumberAttendants: \"Usuarios\",\n\t\t\t\t\tnumberConections: \"Conexiones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Empresa creada con éxito!\",\n\t\t\t},\n\t\t\tscheduleModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Nueva Agenda\",\n\t\t\t\t\tedit: \"Editar Agenda\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tbody: \"Mensaje\",\n\t\t\t\t\tcontact: \"Contacto\",\n\t\t\t\t\tsendAt: \"Fecha de Agenda\",\n\t\t\t\t\tsentAt: \"Fecha de Envío\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Agenda creada con éxito!\",\n\t\t\t},\n\t\t\ttagModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Nuevo Tag\",\n\t\t\t\t\tedit: \"Editar Tag\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Cor\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Añaadir\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Tag creado con éxito!\",\n\t\t\t},\n\t\t\tratingModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Añaadir menu de calificación\",\n\t\t\t\t\tedit: \"Editar menu de calificación\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Guardar\",\n\t\t\t\t\tokEdit: \"Editar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t\toptions: \"Añadir opción\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tmessage: \"Mensaje de calificación\",\n\t\t\t\t\toptions: \"Opciones de calificación\",\n\t\t\t\t\textraName: \"Nombre del campo\",\n\t\t\t\t\textraValue: \"Valor\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Calificación creada con éxito!\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Selecione una Conversación\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"Nuevo\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Filas\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Conversación eliminada\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Mensaje de\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Abierto\" },\n\t\t\t\t\tclosed: { title: \"Resueltos\" },\n\t\t\t\t\tsearch: { title: \"Buscar\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Buscar Conversación\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"Todos\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transferir Conversación\",\n\t\t\t\tfieldLabel: \"Escriba para buscar un usuario\",\n\t\t\t\tfieldQueueLabel: \"Transferir para fila\",\n\t\t\t\tfieldQueuePlaceholder: \"Selecione una fila\",\n\t\t\t\tnoOptions: \"Ningun usuario encontrado\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transferir\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Esperando\",\n\t\t\t\tassignedHeader: \"Atendiendo\",\n\t\t\t\tnoTicketsTitle: \"Nada aqui!\",\n\t\t\t\tnoTicketsMessage: \"No se encontró ningún servicio con este estado o término de búsqueda\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Aceptar\",\n\t\t\t\t\treopen: \"Reabrir\",\n\t\t\t\t\tclosed: \"Cerrar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Crear Conversación\",\n\t\t\t\tfieldLabel: \"Escriba para buscar un usuario\",\n\t\t\t\tadd: \"Añadir\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Conexiones\",\n\t\t\t\t\ttickets: \"Conversaciones\",\n\t\t\t\t\tquickMessages: \"Respuestas Rápidas\",\n\t\t\t\t\tcontacts: \"Contactos\",\n\t\t\t\t\tqueues: \"Filas & Chatbot\",\n\t\t\t\t\ttags: \"Tags\",\n\t\t\t\t\tadministration: \"Administración\",\n\t\t\t\t\tcompanies: \"Empresas\",\n\t\t\t\t\tusers: \"Usuarios\",\n\t\t\t\t\tsettings: \"Configuraciónes\",\n\t\t\t\t\tratings: \"Formularios de Calificación\",\n\t\t\t\t\thelps: \"Ayuda\",\n\t\t\t\t\tmessagesAPI: \"API\",\n\t\t\t\t\tschedules: \"Agendamientos\",\n\t\t\t\t\tcampaigns: \"Campañas\",\n\t\t\t\t\tannoucements: \"Informaciones\",\n\t\t\t\t\tchats: \"Chat Interno\",\n\t\t\t\t\tfinanceiro: \"Financeiro\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t\t\tlogout: \"Salir\",\n\t\t\t\t\t},\n\t\t\t\t\trefresh: \"Atualizar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlanguages: {\n\t\t\t\tundefined: \"Idioma\",\n\t\t\t\t\"pt-BR\": \"Português\",\n\t\t\t\tes: \"Español\",\n\t\t\t\ten: \"English\",\n\t\t\t\ttr: \"Türkçe\"\n\t\t\t},\n\t\t\tmessagesAPI: {\n\t\t\t\ttitle: \"API\",\n\t\t\t\ttextMessage: {\n\t\t\t\t\tnumber: \"Número\",\n\t\t\t\t\tbody: \"Mensaje\",\n\t\t\t\t\ttoken: \"Token Adicionado\",\n\t\t\t\t},\n\t\t\t\tmediaMessage: {\n\t\t\t\t\tnumber: \"Número\",\n\t\t\t\t\tbody: \"Nombre del archivo\",\n\t\t\t\t\tmedia: \"Archivo\",\n\t\t\t\t\ttoken: \"Token Adicionado\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"Ninguna notificación\",\n\t\t\t},\n\t\t\tquickMessages: {\n\t\t\t\ttitle: \"Respuestas Rápidas\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Nueva Respuesta\",\n\t\t\t\t},\n\t\t\t\tdialog: {\n\t\t\t\t\tshortcode: \"Atajo\",\n\t\t\t\t\tmessage: \"Respuesta\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactLists: {\n\t\t\t\ttitle: \"Listas de Contatos\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcontacts: \"Contactos\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Nueva Lista\",\n\t\t\t\t},\n\t\t\t\tdialog: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcompany: \"Empresa\",\n\t\t\t\t\tokEdit: \"Editar\",\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tadd: \"Añadir\",\n\t\t\t\t\tedit: \"Editar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"Esta seguro que desea borrar esta lista?\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Registro eliminado\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactListItems: {\n\t\t\t\ttitle: \"Contactos\",\n\t\t\t\tsearchPlaceholder: \"Buscar Contacto\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Nueva Contacto\",\n\t\t\t\t\tlists: \"Listas\",\n\t\t\t\t\timport: \"Importar\",\n\t\t\t\t},\n\t\t\t\tdialog: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tnumber: \"Número\",\n\t\t\t\t\twhatsapp: \"Whatsapp\",\n\t\t\t\t\temail: \"E-mail\",\n\t\t\t\t\tokEdit: \"Editar\",\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tadd: \"Añadir\",\n\t\t\t\t\tedit: \"Editar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tnumber: \"Número\",\n\t\t\t\t\twhatsapp: \"Whatsapp\",\n\t\t\t\t\temail: \"E-mail\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"Esta a punto de borrar este contacto, esta seguro?\",\n\t\t\t\t\timportMessage: \"Desear importar los contactos?\",\n\t\t\t\t\timportTitlte: \"Importar\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Registro eliminado\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcampaigns: {\n\t\t\t\ttitle: \"Campañas\",\n\t\t\t\tsearchPlaceholder: \"Buscar Campaña\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Nueva Campaña\",\n\t\t\t\t\tcontactLists: \"Listas de Contatos\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\twhatsapp: \"Conexión\",\n\t\t\t\t\tcontactList: \"Lista de Contatos\",\n\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\tscheduledAt: \"Agendamentos\",\n\t\t\t\t\tcompletedAt: \"Concluído\",\n\t\t\t\t\tconfirmation: \"Confirmación\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tdialog: {\n\t\t\t\t\tnew: \"Nuevo Campaña\",\n\t\t\t\t\tupdate: \"Editar Campaña\",\n\t\t\t\t\treadonly: \"Visualizar Campaña\",\n\t\t\t\t\tform: {\n\t\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\t\tmessage1: \"Mensaje 1\",\n\t\t\t\t\t\tmessage2: \"Mensaje 2\",\n\t\t\t\t\t\tmessage3: \"Mensaje 3\",\n\t\t\t\t\t\tmessage4: \"Mensaje 4\",\n\t\t\t\t\t\tmessage5: \"Mensaje 5\",\n\t\t\t\t\t\tconfirmationMessage1: \"Mensaje de Confirmación 1\",\n\t\t\t\t\t\tconfirmationMessage2: \"Mensaje de Confirmación 2\",\n\t\t\t\t\t\tconfirmationMessage3: \"Mensaje de Confirmación 3\",\n\t\t\t\t\t\tconfirmationMessage4: \"Mensaje de Confirmación 4\",\n\t\t\t\t\t\tconfirmationMessage5: \"Mensaje de Confirmación 5\",\n\t\t\t\t\t\tmessagePlaceholder: \"Contenido del Mensaje\",\n\t\t\t\t\t\twhatsapp: \"Conexión\",\n\t\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\t\tscheduledAt: \"Agendamientos\",\n\t\t\t\t\t\tconfirmation: \"Confirmación\",\n\t\t\t\t\t\tcontactList: \"Lista de Contatos\",\n\t\t\t\t\t},\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\tadd: \"Añadir\",\n\t\t\t\t\t\tedit: \"Actualizar\",\n\t\t\t\t\t\tokadd: \"Ok\",\n\t\t\t\t\t\tcancel: \"Cancelar Campaña\",\n\t\t\t\t\t\trestart: \"Reiniciar Campaña\",\n\t\t\t\t\t\tclose: \"Cerrar\",\n\t\t\t\t\t\tattach: \"Adjuntar Archivo\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"Esta accion no se puede deshacer, esta seguro?\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Operación exitosa\",\n\t\t\t\t\tcancel: \"Campaña cancelada\",\n\t\t\t\t\trestart: \"Campaña reiniciada\",\n\t\t\t\t\tdeleted: \"Registro eliminado\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tannouncements: {\n\t\t\t\ttitle: \"Informativos\",\n\t\t\t\tsearchPlaceholder: \"Buscar\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Nuevo Informativo\",\n\t\t\t\t\tcontactLists: \"Listas de Informativos\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tpriority: \"Prioridad\",\n\t\t\t\t\ttitle: \"Titulo\",\n\t\t\t\t\ttext: \"Texto\",\n\t\t\t\t\tmediaName: \"Archivo\",\n\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tdialog: {\n\t\t\t\t\tedit: \"Editar Informativo\",\n\t\t\t\t\tadd: \"Nuevo Informativo\",\n\t\t\t\t\tupdate: \"Editar Informativo\",\n\t\t\t\t\treadonly: \"Solo visualizar\",\n\t\t\t\t\tform: {\n\t\t\t\t\t\tpriority: \"Prioridad\",\n\t\t\t\t\t\ttitle: \"Titulo\",\n\t\t\t\t\t\ttext: \"Texto\",\n\t\t\t\t\t\tmediaPath: \"Archivo\",\n\t\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\t},\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\tadd: \"Añadir\",\n\t\t\t\t\t\tedit: \"Atualizar\",\n\t\t\t\t\t\tokadd: \"Ok\",\n\t\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t\t\tclose: \"Cerrar\",\n\t\t\t\t\t\tattach: \"Adjuntar Archivo\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"Esta accion no se puede deshacer, esta seguro?\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Operación exitosa\",\n\t\t\t\t\tdeleted: \"Registro eliminado\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcampaignsConfig: {\n\t\t\t\ttitle: \"Configuración de Campañas\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Filas & Chatbot\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Cor\",\n\t\t\t\t\tgreeting: \"Mensaje de bienvenida\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Añadir fila\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"¿Estás seguro? ¡Esta acción no se puede revertir! Las llamadas en esta cola seguirán existiendo, pero ya no tendrán ninguna cola asignada.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Filas\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Usuários\",\n\t\t\t\ttable: {\n\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t\twhatsapp: \"Whatsapp por defecto\",\n\t\t\t\t\tstartWork: \"Inicio de trabajo\",\n\t\t\t\t\tendWork: \"Fin de trabajo\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Añadir usuario\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Usuario eliminado con éxito.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"Todos los datos del usuario se perderán. Las llamadas abiertas de este usuario se moverán a la cola.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcompaies: {\n\t\t\t\ttitle: \"Empresas\",\n\t\t\t\ttable: {\n\t\t\t\t\tstatus: \"Activo\",\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tnumberAttendants: \"Convenciones\",\n\t\t\t\t\tnumberConections: \"Conexiones\",\n\t\t\t\t\tvalue: \"Valor\",\n\t\t\t\t\tnamePlan: \"Nombre Plan\",\n\t\t\t\t\tnumberQueues: \"Filas\",\n\t\t\t\t\tuseCampaigns: \"Campañas\",\n\t\t\t\t\tuseExternalApi: \"Rest API\",\n\t\t\t\t\tuseFacebook: \"Facebook\",\n\t\t\t\t\tuseInstagram: \"Instagram\",\n\t\t\t\t\tuseWhatsapp: \"Whatsapp\",\n\t\t\t\t\tuseInternalChat: \"Chat Interno\",\n\t\t\t\t\tuseSchedules: \"Agendamientos\",\n\t\t\t\t\tcreatedAt: \"Creado en\",\n\t\t\t\t\tdueDate: \"Vencimiento\",\n\t\t\t\t\tlastLogin: \"Ult. Login\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Añadir Empresa\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Empresa eliminado con éxito\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"Se perderán todos los datos de la empresa. Los tickets abiertos de este usuario se moverán a la cola.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\thelps: {\n\t\t\t\ttitle: \"Central de Ayuda\",\n\t\t\t},\n\t\t\tschedules: {\n\t\t\t\ttitle: \"Agendamientos\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"¿Está seguro de que desea eliminar este Agendamiento?\",\n\t\t\t\t\tdeleteMessage: \"Esta acción no se puede revertir.\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tcontact: \"Contacto\",\n\t\t\t\t\tbody: \"Mensaje\",\n\t\t\t\t\tsendAt: \"Fecha de Agendamiento\",\n\t\t\t\t\tsentAt: \"Fecha de Envío\",\n\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Nuevo Agendamiento\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Agendamento excluído com sucesso.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttags: {\n\t\t\t\ttitle: \"Tags\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"¿Está seguro de que desea eliminar esta tag?\",\n\t\t\t\t\tdeleteMessage: \"Esta acción no se puede revertir.\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Cor\",\n\t\t\t\t\ttickets: \"Registros Tagdos\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Nueva Tag\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Tag excluída com sucesso.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tratings: {\n\t\t\t\ttitle: \"Classificações\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcontacts: \"Contactos\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Calificación eliminada con éxito.\",\n\t\t\t\t\tdeletedAll: \"Todas las calificaciones eliminadas con éxito.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Añadir Calificación\",\n\t\t\t\t\tdeleteAll: \"Boorar Todas\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Boorar\",\n\t\t\t\t\tdeleteAllTitle: \"Borar Todas\",\n\t\t\t\t\tdeleteMessage: \"Ten cuidado, esta acción no se puede deshacer. ¿Estás seguro?\",\n\t\t\t\t\tdeleteAllMessage: \"¿Está seguro de que desea eliminar todas las calificaciones?\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Configuración guardada con éxito.\",\n\t\t\t\ttitle: \"Configuraciones\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"Crear usuarios\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Activado\",\n\t\t\t\t\t\t\tdisabled: \"Desactivado\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Asignado a: \",\n\t\t\t\t\tdialogRatingTitle: \"¿Quieres dejar una reseña de servicio al cliente?\",\n\t\t\t\t\tdialogClosingTitle: \"Finalizar Conversación con el Cliente\",\n\t\t\t\t\tdialogRatingCancel: \"Resolver con mensaje de despedida\",\n\t\t\t\t\tdialogRatingSuccess: \"Resolver y enviar Calificación\",\n\t\t\t\t\tdialogRatingWithoutFarewellMsg: \"Resolver sin mensaje de despedida\",\n\t\t\t\t\tratingTitle: \"Elija un menú de Calificación\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Devolver\",\n\t\t\t\t\t\tresolve: \"Resolver\",\n\t\t\t\t\t\treopen: \"Reabrir\",\n\t\t\t\t\t\taccept: \"Aceptar\",\n\t\t\t\t\t\trating: \"Enviar Calificación\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Escriba un mensaje\",\n\t\t\t\tplaceholderClosed: \"Reabrir o aceptar este ticket para enviar un mensaje.\",\n\t\t\t\tsignMessage: \"Firmar\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Detalles de contacto\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Editar contato\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Outras informações\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tschedule: \"Agendamiento\",\n\t\t\t\tdelete: \"Borrar\",\n\t\t\t\ttransfer: \"Transferir\",\n\t\t\t\tregisterAppointment: \"Notas de contacto\",\n\t\t\t\tresolveWithNoFarewell: \"Final sin despedida\",\n\t\t\t\tacceptAudioMessage: \"¿Aceptar audio del contacto?\",\n\t\t\t\tappointmentsModal: {\n\t\t\t\t\ttitle: \"Notas de contacto\",\n\t\t\t\t\ttextarea: \"Observación\",\n\t\t\t\t\tplaceholder: \"Ingresa los datos que deseas registrar aquí\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Eliminar conversación de contacto\",\n\t\t\t\t\tmessage: \"¡Atención! Todos los mensajes relacionados con el ticket se perderán.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Borrar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Borrar\",\n\t\t\t\treply: \"Responder\",\n\t\t\t\tforward: \"Reenviar\",\n\t\t\t\ttoForward: \"Reenviar\",\n\t\t\t\ttalkTo: \"Hablar con\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"¿Borrar mensaje?\",\n\t\t\t\t\tmessage: \"Esta acción no se puede revertir.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP: \"Debe haber al menos un WhatsApp predeterminado.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND: \"No se encontró WhatsApp predeterminado. Revisa la página de conexiones.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED: \"Esta sesión de WhatsApp no ​​se ha inicializado. Revisa la página de conexiones.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT: \"No se puede verificar el contacto de WhatsApp. Revisa la página de conexiones\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"Este no es un número de whatsapp válido.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA: \"No se pueden descargar medios de WhatsApp. Consulte la página de conexiones.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Error de autenticación. Inténtalo de nuevo.\",\n\t\t\t\tERR_SENDING_WAPP_MSG: \"Error al enviar mensaje de WhatsApp. Revisa la página de conexiones.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"No se puede eliminar el mensaje de WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET: \"Ya hay un conversación abierto para este contacto.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Sesión expirada. Por favor entre.\",\n\t\t\t\tERR_USER_CREATION_DISABLED: \"El administrador ha inhabilitado la creación de usuarios.\",\n\t\t\t\tERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso..\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\n\t\t\t\tERR_NO_SETTING_FOUND: \"No se encontró ninguna configuración con este ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con este ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No se encontraron conversación con esta ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No se encontró ningún usuario con este ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No se encontró WhatsApp con este ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error al crear mensaje en la base de datos.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error al crear ticket en la base de datos.\",\n\t\t\t\tERR_FETCH_WAPP_MSG: \"Error al buscar el mensaje en WhatsApp, tal vez sea demasiado antiguo.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS: \"Este color ya está en uso, elija otro.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED: \"El mensaje de saludo es obligatorio cuando hay más de una fila.\",\n\t\t\t\tERR_OUT_OF_HOURS: \"¡Fuera del horario de oficina!\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"pt\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\nimport { isString } from 'lodash';\n\nconst toastError = err => {\n\tconst errorMsg = err?.response?.data?.message || err?.response?.data?.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t}\n\t} if (isString(err)) {\n\t\ttoast.error(err);\n\t\treturn\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t\treturn\n\t}\n};\n\nexport default toastError;\n","import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true,\n});\n\nexport const openApi = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\n});\n\nexport default api;\n","import openSocket from \"socket.io-client\";\nimport { isObject } from \"lodash\";\n\nexport function socketConnection(params) {\n  let userId = null;\n  if (localStorage.getItem(\"userId\")) {\n    userId = localStorage.getItem(\"userId\");\n  }\n  return openSocket(process.env.REACT_APP_BACKEND_URL, {\n    transports: [\"websocket\", \"polling\", \"flashsocket\"],\n    pingTimeout: 18000,\n    pingInterval: 18000,\n    query: isObject(params) ? { ...params, userId } : { userId },\n  });\n}\n","import { useState, useEffect, useReducer } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_WHATSAPPS\") {\n    const whatsApps = action.payload;\n\n    return [...whatsApps];\n  }\n\n  if (action.type === \"UPDATE_WHATSAPPS\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex] = whatsApp;\n      return [...state];\n    } else {\n      return [whatsApp, ...state];\n    }\n  }\n\n  if (action.type === \"UPDATE_SESSION\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex].status = whatsApp.status;\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\n      state[whatsAppIndex].retries = whatsApp.retries;\n      return [...state];\n    } else {\n      return [...state];\n    }\n  }\n\n  if (action.type === \"DELETE_WHATSAPPS\") {\n    const whatsAppId = action.payload;\n\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\n    if (whatsAppIndex !== -1) {\n      state.splice(whatsAppIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useWhatsApps = () => {\n  const [whatsApps, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchSession = async () => {\n      try {\n        const { data } = await api.get(\"/whatsapp/?session=0\");\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n        setLoading(false);\n      } catch (err) {\n        setLoading(false);\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  return { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import moment from \"moment\";\n\nexport function useDate() {\n  function dateToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY\");\n    }\n    return strDate;\n  }\n\n  function datetimeToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\n    }\n    return strDate;\n  }\n\n  function dateToDatabase(strDate) {\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n    return strDate;\n  }\n\n  function returnDays(date) {\n    let data1 = new Date()\n    let data2 = new Date(date)\n    let result = data2.getTime() - data1.getTime();\n    let days = Math.ceil(result / (1000 * 60 * 60 * 24));\n\n    if (days === -0) {\n      days = 0\n    }\n    return days;\n  }\n\n  return {\n    dateToClient,\n    datetimeToClient,\n    dateToDatabase,\n    returnDays\n  };\n}\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { has, isArray } from \"lodash\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\nimport { useDate } from \"../../hooks/useDate\";\nimport moment from \"moment\";\n\nconst useAuth = () => {\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  api.interceptors.request.use(\n    (config) => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n        setIsAuth(true);\n      }\n      return config;\n    },\n    (error) => {\n      Promise.reject(error);\n    }\n  );\n\n  api.interceptors.response.use(\n    (response) => {\n      return response;\n    },\n    async (error) => {\n      const originalRequest = error.config;\n      if (error?.response?.status === 403 && !originalRequest._retry) {\n        originalRequest._retry = true;\n\n        const { data } = await api.post(\"/auth/refresh_token\");\n        if (data) {\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        }\n        return api(originalRequest);\n      }\n      if (error?.response?.status === 401) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"companyId\");\n        api.defaults.headers.Authorization = undefined;\n        setIsAuth(false);\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    (async () => {\n      if (token) {\n        try {\n          const { data } = await api.post(\"/auth/refresh_token\");\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n          setIsAuth(true);\n          setUser(data.user);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-user`, (data) => {\n      if (data.action === \"update\" && data.user.id === user.id) {\n        setUser(data.user);\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user]);\n\n  const handleLogin = async (userData) => {\n    setLoading(true);\n\n    try {\n      const { data } = await api.post(\"/auth/login\", userData);\n      const {\n        user: { companyId, id, company },\n      } = data;\n\n      if (has(company, \"settings\") && isArray(company.settings)) {\n        const setting = company.settings.find(\n          (s) => s.key === \"campaignsEnabled\"\n        );\n        if (setting && setting.value === \"true\") {\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\n        }\n      }\n\n      moment.locale('pt-br');\n      let dueDate;\n      if (data.user.company.id === 1) {\n        dueDate = '2999-12-31T00:00:00.000Z'\n      } else {\n        dueDate = data.user.company.dueDate;\n      }\n      const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\n\n      var diff = moment(dueDate).diff(moment(moment()).format());\n\n      var before = moment(moment().format()).isBefore(dueDate);\n      var dias = moment.duration(diff).asDays();\n\n      if (before === true) {\n        localStorage.setItem(\"token\", JSON.stringify(data.token));\n        localStorage.setItem(\"companyId\", companyId);\n        localStorage.setItem(\"userId\", id);\n        localStorage.setItem(\"companyDueDate\", vencimento);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setUser(data.user);\n        setIsAuth(true);\n        toast.success(i18n.t(\"auth.toasts.success\"));\n        if (Math.round(dias) < 5) {\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\n        }\n        history.push(\"/tickets\");\n        setLoading(false);\n      } else {\n        localStorage.setItem(\"companyId\", companyId);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setIsAuth(true);\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\nEntre em contato com o Suporte para mais informações! `);\n        history.push(\"/financeiro-aberto\");\n        setLoading(false);\n      }\n\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    setLoading(true);\n\n    try {\n      await api.delete(\"/auth/logout\");\n      setIsAuth(false);\n      setUser({});\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"companyId\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"cshow\");\n      api.defaults.headers.Authorization = undefined;\n      setLoading(false);\n      history.push(\"/login\");\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const getCurrentUserInfo = async () => {\n    try {\n      const { data } = await api.get(\"/auth/me\");\n      return data;\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return {\n    isAuth,\n    user,\n    loading,\n    handleLogin,\n    handleLogout,\n    getCurrentUserInfo,\n  };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"dashboard:view\",\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"ticket-options:transferWhatsapp\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t\t\"connections-page:actionButtons\",\n\t\t\t\"connections-page:addConnection\",\n\t\t\t\"connections-page:editOrDeleteConnection\"\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import api, { openApi } from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const getPlanList = async (params) => {\n        const { data } = await openApi.request({\n            url: '/plans/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/plans/all',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/plans',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/plans/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const getPlanCompany = async (params, id) => {\n        const { data } = await api.request({\n            url: `/companies/listPlan/${id}`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        getPlanList,\n        list,\n        save,\n        update,\n        remove,\n        getPlanCompany\n    }\n}\n\nexport default usePlans;","import api from \"../../services/api\";\n\nconst useVersion = () => {\n\n    const getVersion = async () => {\n        const { data } = await api.request({\n            url: '/version',\n            method: 'GET',\n        });\n        return data;\n    }\n\n    return {\n        getVersion\n    }\n}\n\nexport default useVersion;\n\n\n\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { Badge, Collapse, List } from \"@material-ui/core\";\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport FlashOnIcon from \"@material-ui/icons/FlashOn\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport CodeRoundedIcon from \"@material-ui/icons/CodeRounded\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport ListIcon from \"@material-ui/icons/ListAlt\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport LocalAtmIcon from '@material-ui/icons/LocalAtm';\nimport BusinessIcon from '@material-ui/icons/Business';\nimport StarOutlineIcon from '@material-ui/icons/StarOutline';\nimport { AddToQueueRounded } from '@material-ui/icons';\nimport { CalendarToday, LoyaltyRounded } from \"@material-ui/icons\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\"; // Importe o ícone de e-mail\nimport SendIcon from \"@material-ui/icons/Send\"; // Importe o ícone de enviar\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport LiveHelpIcon from '@material-ui/icons/LiveHelp';\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../translate/i18n\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport { Can } from \"../components/Can\";\nimport { socketConnection } from \"../services/socket\";\nimport { isArray } from \"lodash\";\nimport api from \"../services/api\";\nimport toastError from \"../errors/toastError\";\nimport usePlans from \"../hooks/usePlans\";\nimport useVersion from \"../hooks/useVersion\";\nimport logo from \"../assets/logo.png\"\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem dense button component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nconst MainListItems = (props, { collapsed }) => {\n  const { drawerClose } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  // novas features\n  const [showSchedules, setShowSchedules] = useState(false);\n  const [showInternalChat, setShowInternalChat] = useState(false);\n  const [showExternalApi, setShowExternalApi] = useState(false);\n  const [openKanbanSubmenu, setOpenKanbanSubmenu] = useState(false);\n  const [openEmailSubmenu, setOpenEmailSubmenu] = useState(false);\n\n  const history = useHistory();\n\n  const [invisible, setInvisible] = useState(true);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const [version, setVersion] = useState(false);\n\n  const { getPlanCompany } = usePlans();\n\n  const { getVersion } = useVersion();\n\n  useEffect(() => {\n    async function fetchVersion() {\n      const _version = await getVersion();\n      setVersion(_version.version);\n    }\n    fetchVersion();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      setShowCampaigns(planConfigs.plan.useCampaigns);\n      setShowSchedules(planConfigs.plan.useSchedules);\n      setShowInternalChat(planConfigs.plan.useInternalChat);\n      setShowExternalApi(planConfigs.plan.useExternalApi);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  // useEffect(() => {\n  //   if (localStorage.getItem(\"cshow\")) {\n  //     setShowCampaigns(true);\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div onClick={drawerClose}>\n      <Can\n        role={user.profile}\n        perform=\"dashboard:view\"\n        yes={() => (\n          <ListItemLink\n            to=\"/\"\n            primary=\"Dashboard\"\n            icon={<DashboardOutlinedIcon />}\n          />\n        )}\n      />\n\n      <ListItemLink\n        to=\"/tickets\"\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n        icon={<WhatsAppIcon />}\n      />\n      \n<ListItem\n  button\n  onClick={() => setOpenEmailSubmenu((prev) => !prev)}\n>\n  <ListItemIcon>\n    <MailOutlineIcon />\n  </ListItemIcon>\n  <ListItemText primary={i18n.t('Email')} />\n  {openEmailSubmenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n</ListItem>\n<Collapse in={openEmailSubmenu} timeout=\"auto\" unmountOnExit>\n  <List component=\"div\" disablePadding>\n    <ListItem\n      onClick={() => history.push('/Email')}\n      button\n      style={{ paddingLeft: 15 }}\n    >\n      <ListItemIcon>\n        <SendIcon />\n      </ListItemIcon>\n      <ListItemText primary={i18n.t('Enviar')} />\n    </ListItem>\n    <ListItem\n      onClick={() => history.push('/EmailLis')}\n      button\n      style={{ paddingLeft: 15 }}\n    >\n      <ListItemIcon>\n        <EventIcon />\n      </ListItemIcon>\n      <ListItemText primary={i18n.t('Enviados')} />\n    </ListItem>\n    {/* Adicione aqui a nova rota para agendamento de e-mails */}\n    <ListItem\n      onClick={() => history.push('/EmailScheduler')}\n      button\n      style={{ paddingLeft: 15 }}\n    >\n      <ListItemIcon>\n        <ScheduleIcon />\n      </ListItemIcon>\n      <ListItemText primary={i18n.t('Agendar')} />\n    </ListItem>\n    {/* Adicione aqui a nova rota para e-mails agendados */}\n    <ListItem\n      onClick={() => history.push('/EmailsAgendado')}\n      button\n      style={{ paddingLeft: 15 }}\n    >\n      <ListItemIcon>\n        <ScheduleIcon /> {/* Ícone apropriado para agendamento */}\n      </ListItemIcon>\n      <ListItemText primary={i18n.t('Agendados')} /> {/* Nome apropriado para a nova rota */}\n    </ListItem>\n  </List>\n</Collapse>\n\n      <ListItem\n        button\n        onClick={() => setOpenKanbanSubmenu((prev) => !prev)}\n      >\n        <ListItemIcon>\n          <LoyaltyRounded />\n        </ListItemIcon>\n        <ListItemText\n          primary={i18n.t(\"Kanban\")}\n        />\n        {openKanbanSubmenu ? (\n          <ExpandLessIcon />\n        ) : (\n          <ExpandMoreIcon />\n        )}\n      </ListItem>\n      <Collapse\n        style={{ paddingLeft: 15 }}\n        in={openKanbanSubmenu}\n        timeout=\"auto\"\n        unmountOnExit\n      >\n        <List component=\"div\" disablePadding>\n          <ListItem onClick={() => history.push(\"/kanban\")} button>\n            <ListItemIcon>\n              <ListIcon />\n            </ListItemIcon>\n            <ListItemText primary={i18n.t(\"Painel\")} />\n          </ListItem>\n          <ListItem\n            onClick={() => history.push(\"/tagsKanban\")}\n            button\n          >\n            <ListItemIcon>\n              <CalendarToday />\n            </ListItemIcon>\n            <ListItemText primary={i18n.t(\"Lanes\")} />\n          </ListItem>\n        </List>\n      </Collapse>\n\n      <ListItemLink\n        to=\"/quick-messages\"\n        primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\n        icon={<FlashOnIcon />}\n      />\n\n      <ListItemLink\n        to=\"/contacts\"\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n        icon={<ContactPhoneOutlinedIcon />}\n      />\n      \n     <ListItemLink\n        to=\"/todolist\"\n        primary={i18n.t(\"Tarefas\")}\n        icon={<EventIcon />}\n      />\n      \n      <ListItemLink\n        to=\"/Calendario\"\n        primary={i18n.t(\"Calendario\")}\n        icon={<ContactPhoneOutlinedIcon />}\n      />\n      \n\n      {showSchedules && (\n        <>\n          <ListItemLink\n            to=\"/schedules\"\n            primary={i18n.t(\"mainDrawer.listItems.schedules\")}\n            icon={<EventIcon />}\n          />\n        </>\n      )}\n\n      <ListItemLink\n        to=\"/tags\"\n        primary={i18n.t(\"mainDrawer.listItems.tags\")}\n        icon={<LocalOfferIcon />}\n      />\n\n      {showInternalChat && (\n        <>\n          <ListItemLink\n            to=\"/chats\"\n            primary={i18n.t(\"mainDrawer.listItems.chats\")}\n            icon={\n              <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n                <ForumIcon />\n              </Badge>\n            }\n          />\n        </>\n      )}\n      \n            <ListItemLink\n        to=\"/ChatGPT\"\n        primary={i18n.t(\"ChatGPT\")}\n        icon={<LiveHelpIcon />}\n      />\n\n      <ListItemLink\n        to=\"/helps\"\n        primary={i18n.t(\"mainDrawer.listItems.helps\")}\n        icon={<HelpOutlineIcon />}\n      />\n\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader inset>\n              {i18n.t(\"mainDrawer.listItems.administration\")}\n            </ListSubheader>\n            {showCampaigns && (\n              <>\n                <ListItem\n                  dense\n                  button\n                  onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\n                >\n                  <ListItemIcon>\n                    <EventAvailableIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={i18n.t(\"mainDrawer.listItems.campaigns\")}\n                  />\n                  {openCampaignSubmenu ? (\n                    <ExpandLessIcon />\n                  ) : (\n                    <ExpandMoreIcon />\n                  )}\n                </ListItem>\n                <Collapse\n                  style={{ paddingLeft: 15 }}\n                  in={openCampaignSubmenu}\n                  timeout=\"auto\"\n                  unmountOnExit\n                >\n                  <List dense component=\"div\" disablePadding>\n                    <ListItem onClick={() => history.push(\"/campaigns\")} button>\n                      <ListItemIcon>\n                        <ListIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listagem\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/contact-lists\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <PeopleIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listas de Contatos\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/campaigns-config\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <SettingsOutlinedIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Configurações\" />\n                    </ListItem>\n                  </List>\n                </Collapse>\n              </>\n            )}\n\n            {user.super && (\n              <ListItemLink\n                to=\"/announcements\"\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\n                icon={<AnnouncementIcon />}\n              />\n            )}\n\n            {showExternalApi && (\n              <>\n                <ListItemLink\n                  to=\"/messages-api\"\n                  primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\n                  icon={<CodeRoundedIcon />}\n                />\n              </>\n            )}\n\n            <ListItemLink\n              to=\"/users\"\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\n              icon={<PeopleAltOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/queues\"\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\n              icon={<AccountTreeOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/connections\"\n              primary={i18n.t(\"mainDrawer.listItems.connections\")}\n              icon={\n                <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\n                  <SyncAltIcon />\n                </Badge>\n              }\n            />\n\n            <ListItemLink\n              to=\"/ratings\"\n              primary={i18n.t(\"mainDrawer.listItems.ratings\")}\n              icon={<StarOutlineIcon />}\n            />\n\n            { <ListItemLink\n              to=\"/integrations\"\n              primary={'Integrações'}\n              icon={<AddToQueueRounded />}\n            /> }\n            <ListItemLink\n              to=\"/financeiro\"\n              primary={i18n.t(\"mainDrawer.listItems.financeiro\")}\n              icon={<LocalAtmIcon />}\n            />\n            <ListItemLink\n              to=\"/settings\"\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\n              icon={<SettingsOutlinedIcon />}\n            />\n\n            {/* {user.super && (\n              <ListSubheader inset>\n                {i18n.t(\"mainDrawer.listItems.administration\")}\n              </ListSubheader>\n            )} */}\n\n            {user.super && (\n              <ListItemLink\n                to=\"/companies\"\n                primary={i18n.t(\"mainDrawer.listItems.companies\")}\n                icon={<BusinessIcon />}\n              />)}\n\n            {!collapsed && <React.Fragment>\n              <Divider />\n              {/*\n              // IMAGEM NO MENU\n              <Hidden only={['sm', 'xs']}>\n                <img style={{ width: \"100%\", padding: \"10px\" }} src={logo} alt=\"image\" />            \n              </Hidden> \n              */}\n              <Typography style={{ fontSize: \"12px\", padding: \"10px\", textAlign: \"right\", fontWeight: \"bold\" }}>\n                Versão: {version}\n              </Typography>\n            </React.Fragment>\n            }\n\n\n          </>\n        )}\n      />\n    </div>\n  );\n};\n\nexport default MainListItems;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticket: {\n    position: \"relative\",\n  },\n\n  pendingTicket: {\n    cursor: \"unset\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  contactNameWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n  },\n\n  closedBadge: {\n    alignSelf: \"center\",\n    justifySelf: \"flex-end\",\n    marginRight: 32,\n    marginLeft: \"auto\",\n  },\n\n  contactLastMessage: {\n    paddingRight: 20,\n  },\n\n  newMessagesCount: {\n    alignSelf: \"center\",\n    marginRight: 8,\n    marginLeft: \"auto\",\n  },\n\n  badgeStyle: {\n    color: \"white\",\n    backgroundColor: green[500],\n  },\n\n  acceptButton: {\n    position: \"absolute\",\n    left: \"50%\",\n  },\n\n  ticketQueueColor: {\n    flex: \"none\",\n    width: \"8px\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n  },\n  userTag: {\n    position: \"absolute\",\n    marginRight: 5,\n    right: 5,\n    bottom: 5,\n    backgroundColor: theme.palette.optionsBackground,\n    color: theme.palette.primary,\n    border:\"1px solid #CCC\",\n    padding: 1,\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 10,\n    fontSize: \"1em\"\n  },\n}));\n\nconst TicketListItem = ({ ticket }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const { ticketId } = useParams();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleAcepptTicket = async (ticket) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${ticket.id}`, {\n        status: \"open\",\n        userId: user?.id,\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n  const handleSelectTicket = (ticket) => {\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n  return (\n    <React.Fragment key={ticket.id}>\n      <ListItem\n        dense\n        button\n        onClick={(e) => {\n          if (ticket.status === \"pending\") return;\n          handleSelectTicket(ticket);\n        }}\n        selected={ticketId && +ticketId === ticket.id}\n        className={clsx(classes.ticket, {\n          [classes.pendingTicket]: ticket.status === \"pending\",\n        })}\n      >\n        <Tooltip\n          arrow\n          placement=\"right\"\n          title={ticket.queue?.name || \"Sem fila\"}\n        >\n          <span\n            style={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }}\n            className={classes.ticketQueueColor}\n          ></span>\n        </Tooltip>\n        <ListItemAvatar>\n          <Avatar src={ticket?.contact?.profilePicUrl} />\n        </ListItemAvatar>\n        <ListItemText\n          disableTypography\n          primary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textPrimary\"\n              >\n                {ticket.contact.name}\n              </Typography>\n              {ticket.status === \"closed\" && (\n                <Badge\n                  className={classes.closedBadge}\n                  badgeContent={\"closed\"}\n                  color=\"primary\"\n                />\n              )}\n              {ticket.lastMessage && (\n                <Typography\n                  className={classes.lastMessageTime}\n                  component=\"span\"\n                  variant=\"body2\"\n                  color=\"textSecondary\"\n                >\n                  {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                  ) : (\n                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                  )}\n                </Typography>\n              )}\n            </span>\n          }\n          secondary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                className={classes.contactLastMessage}\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n                {ticket.lastMessage ? (\n                  <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\n                ) : (\n                  <br />\n                )}\n              </Typography>\n\n              <Badge\n                className={classes.newMessagesCount}\n                badgeContent={ticket.unreadMessages}\n                classes={{\n                  badge: classes.badgeStyle,\n                }}\n              />\n            </span>\n          }\n        />\n        {ticket.status === \"pending\" && (\n          <ButtonWithSpinner\n            color=\"primary\"\n            variant=\"contained\"\n            className={classes.acceptButton}\n            size=\"small\"\n            loading={loading}\n            onClick={(e) => handleAcepptTicket(ticket)}\n          >\n            {i18n.t(\"ticketsList.buttons.accept\")}\n          </ButtonWithSpinner>\n        )}\n      </ListItem>\n      <Divider variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n};\n\nexport default TicketListItem;\n","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n  searchParam,\n  tags,\n  users,\n  pageNumber,\n  status,\n  date,\n  updatedAt,\n  showAll,\n  queueIds,\n  withUnreadMessages,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [hasMore, setHasMore] = useState(false);\n  const [tickets, setTickets] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTickets = async () => {\n        try {\n          const { data } = await api.get(\"/tickets\", {\n            params: {\n              searchParam,\n              pageNumber,\n              tags,\n              users,\n              status,\n              date,\n              updatedAt,\n              showAll,\n              queueIds,\n              withUnreadMessages,\n            },\n          });\n          setTickets(data.tickets);\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTickets();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    tags,\n    users,\n    pageNumber,\n    status,\n    date,\n    updatedAt,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n  ]);\n\n  return { tickets, loading, hasMore };\n};\n\nexport default useTickets;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\n//import ChatIcon from \"@material-ui/icons/Chat\";\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\n\nimport TicketListItem from \"../TicketListItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  tabContainer: {\n    overflowY: \"auto\",\n    maxHeight: 350,\n    ...theme.scrollbarStyles,\n  },\n  popoverPaper: {\n    width: \"100%\",\n    maxWidth: 350,\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(1),\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: 270,\n    },\n  },\n  noShadow: {\n    boxShadow: \"none !important\",\n  },\n  icons: {\n    color: \"#fff\",\n  },\n  customBadge: {\n    backgroundColor: \"#34E23C\",\n    color: \"#fff\",\n  },\n}));\n\nconst NotificationsPopOver = ({ volume }) => {\n  const classes = useStyles();\n\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  const ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n  const ticketIdRef = useRef(ticketIdUrl);\n  const anchorEl = useRef();\n  const [isOpen, setIsOpen] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const { profile, queues } = user;\n\n  const [, setDesktopNotifications] = useState([]);\n\n  const { tickets } = useTickets({ withUnreadMessages: \"true\" });\n  const [play] = useSound(alertSound, { volume, });\n  const soundAlertRef = useRef();\n\n  const historyRef = useRef(history);\n\n  useEffect(() => {\n    soundAlertRef.current = play;\n\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser doesn't support notifications\");\n    } else {\n      Notification.requestPermission();\n    }\n  }, [play]);\n\n  useEffect(() => {\n    const queueIds = queues.map((q) => q.id);\n    const filteredTickets = tickets.filter(\n      (t) => queueIds.indexOf(t.queueId) > -1\n    );\n\n    if (profile === \"user\") {\n      setNotifications(filteredTickets);\n    } else {\n      setNotifications(tickets);\n    }\n  }, [tickets, queues, profile]);\n\n  useEffect(() => {\n    ticketIdRef.current = ticketIdUrl;\n  }, [ticketIdUrl]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    const queueIds = queues.map((q) => q.id);\n\n    socket.on(\"connect\", () => socket.emit(\"joinNotification\"));\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"updateUnread\" || data.action === \"delete\") {\n        setNotifications((prevState) => {\n          const ticketIndex = prevState.findIndex(\n            (t) => t.id === data.ticketId\n          );\n          if (ticketIndex !== -1) {\n            prevState.splice(ticketIndex, 1);\n            return [...prevState];\n          }\n          return prevState;\n        });\n\n        setDesktopNotifications((prevState) => {\n          const notfiticationIndex = prevState.findIndex(\n            (n) => n.tag === String(data.ticketId)\n          );\n          if (notfiticationIndex !== -1) {\n            prevState[notfiticationIndex].close();\n            prevState.splice(notfiticationIndex, 1);\n            return [...prevState];\n          }\n          return prevState;\n        });\n      }\n    });\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      if (\n        data.action === \"create\" &&\n        !data.message.read &&\n        (data.ticket.userId === user?.id || !data.ticket.userId)\n      ) {\n        if (\n          profile === \"user\" &&\n          (queueIds.indexOf(data.ticket.queue?.id) === -1 ||\n            data.ticket.queue === null)\n        ) {\n          return;\n        }\n\n        setNotifications((prevState) => {\n          const ticketIndex = prevState.findIndex(\n            (t) => t.id === data.ticket.id\n          );\n          if (ticketIndex !== -1) {\n            prevState[ticketIndex] = data.ticket;\n            return [...prevState];\n          }\n          return [data.ticket, ...prevState];\n        });\n\n        const shouldNotNotificate =\n          (data.message.ticketId === ticketIdRef.current &&\n            document.visibilityState === \"visible\") ||\n          (data.ticket.userId && data.ticket.userId !== user?.id) ||\n          data.ticket.isGroup ||\n          data.ticket.isBot;\n\n        if (shouldNotNotificate) return;\n\n        handleNotifications(data);\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [user, profile, queues]);\n\n  const handleNotifications = (data) => {\n    const { message, contact, ticket } = data;\n\n    const options = {\n      body: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n      icon: contact.profilePicUrl,\n      tag: ticket.id,\n      renotify: true,\n    };\n\n    const notification = new Notification(\n      `${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n      options\n    );\n\n    notification.onclick = (e) => {\n      e.preventDefault();\n      window.focus();\n      historyRef.current.push(`/tickets/${ticket.uuid}`);\n    };\n\n    setDesktopNotifications((prevState) => {\n      const notfiticationIndex = prevState.findIndex(\n        (n) => n.tag === notification.tag\n      );\n      if (notfiticationIndex !== -1) {\n        prevState[notfiticationIndex] = notification;\n        return [...prevState];\n      }\n      return [notification, ...prevState];\n    });\n\n    soundAlertRef.current();\n  };\n\n  const handleClick = () => {\n    setIsOpen((prevState) => !prevState);\n  };\n\n  const handleClickAway = () => {\n    setIsOpen(false);\n  };\n\n  const NotificationTicket = ({ children }) => {\n    return <div onClick={handleClickAway}>{children}</div>;\n  };\n\n  return (\n    <>\n      <IconButton\n        className={classes.icons}\n        onClick={handleClick}\n        ref={anchorEl}\n        aria-label=\"Open Notifications\"\n        variant=\"contained\"\n      >\n        <Badge\n          overlap=\"rectangular\"\n          badgeContent={notifications.length}\n          classes={{ badge: classes.customBadge }}\n        >\n          <WhatsAppIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        disableScrollLock\n        open={isOpen}\n        anchorEl={anchorEl.current}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        classes={{ paper: classes.popoverPaper }}\n        onClose={handleClickAway}\n      >\n        <List dense className={classes.tabContainer}>\n          {notifications.length === 0 ? (\n            <ListItem>\n              <ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n            </ListItem>\n          ) : (\n            notifications.map((ticket) => (\n              <NotificationTicket key={ticket.id}>\n                <TicketListItem ticket={ticket} />\n              </NotificationTicket>\n            ))\n          )}\n        </List>\n      </Popover>\n    </>\n  );\n};\n\nexport default NotificationsPopOver;\n","import React, { useState, useRef } from \"react\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\n\nimport { Grid, Slider } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    tabContainer: {\n        padding: theme.spacing(2),\n    },\n    popoverPaper: {\n        width: \"100%\",\n        maxWidth: 350,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(1),\n        [theme.breakpoints.down(\"sm\")]: {\n            maxWidth: 270,\n        },\n    },\n    noShadow: {\n        boxShadow: \"none !important\",\n    },\n    icons: {\n        color: \"#fff\",\n    },\n    customBadge: {\n        backgroundColor: \"#f44336\",\n        color: \"#fff\",\n    },\n}));\n\nconst NotificationsVolume = ({ volume, setVolume }) => {\n    const classes = useStyles();\n\n    const anchorEl = useRef();\n    const [isOpen, setIsOpen] = useState(false);\n\n    const handleClick = () => {\n        setIsOpen((prevState) => !prevState);\n    };\n\n    const handleClickAway = () => {\n        setIsOpen(false);\n    };\n\n    const handleVolumeChange = (value) => {\n        setVolume(value);\n        localStorage.setItem(\"volume\", value);\n    };\n\n    return (\n        <>\n            <IconButton\n                className={classes.icons}\n                onClick={handleClick}\n                ref={anchorEl}\n                aria-label=\"Open Notifications\"\n                // color=\"inherit\"\n                // color=\"secondary\"\n            >\n                <VolumeUpIcon color=\"inherit\" />\n            </IconButton>\n            <Popover\n                disableScrollLock\n                open={isOpen}\n                anchorEl={anchorEl.current}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n                classes={{ paper: classes.popoverPaper }}\n                onClose={handleClickAway}\n            >\n                <List dense className={classes.tabContainer}>\n                    <Grid container spacing={2}>\n                        <Grid item>\n                            <VolumeDownIcon />\n                        </Grid>\n                        <Grid item xs>\n                            <Slider\n                                value={volume}\n                                aria-labelledby=\"continuous-slider\"\n                                step={0.1}\n                                min={0}\n                                max={1}\n                                onChange={(e, value) =>\n                                    handleVolumeChange(value)\n                                }\n                            />\n                        </Grid>\n                        <Grid item>\n                            <VolumeUpIcon />\n                        </Grid>\n                    </Grid>\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default NotificationsVolume;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tmakeStyles,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton\n} from '@material-ui/core';\n\nimport { \n\tVisibility, \n\tVisibilityOff \n} from '@material-ui/icons';\n\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\tflexWrap: 'wrap',\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t\tstartWork: \"\",\n\t\tendWork: \"\",\n\t\tfarewellMessage: \"\"\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [whatsappId, setWhatsappId] = useState(false);\n\tconst { loading, whatsApps } = useWhatsApps();\n\tconst startWorkRef = useRef();\n\tconst endWorkRef = useRef();\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, whatsappId, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff color=\"secondary\" /> : <Visibility color=\"secondary\" />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (!loading &&\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>{i18n.t(\"userModal.form.whatsapp\")}</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\tyes={() => (!loading &&\n\t\t\t\t\t\t\t\t\t\t<form className={classes.container} noValidate>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.startWork\")}\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\t\t\t\tampm={false}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"00:00\"\n\t\t\t\t\t\t\t\t\t\t\t\tinputRef={startWorkRef}\n\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 600, // 5 min\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"startWork\"\n\t\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.startWork && Boolean(errors.startWork)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.startWork && errors.startWork\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.endWork\")}\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\t\t\t\tampm={false}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"23:59\"\n\t\t\t\t\t\t\t\t\t\t\t\tinputRef={endWorkRef}\n\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 600, // 5 min\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"endWork\"\n\t\t\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.endWork && Boolean(errors.endWork)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.endWork && errors.endWork\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.farewellMessage\")}\n\t\t\t\t\t\t\t\t\ttype=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tname=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\terror={touched.farewellMessage && Boolean(errors.farewellMessage)}\n\t\t\t\t\t\t\t\t\thelperText={touched.farewellMessage && errors.farewellMessage}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CssBaseline, IconButton } from \"@material-ui/core\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\n\nconst useStyles = makeStyles((theme) => ({\n    icons: {\n        color: \"#fff\",\n    },\n    switch: {\n        color: \"#fff\",\n    },\n    visible: {\n        display: \"none\",\n    },\n    btnHeader: {\n        color: \"#fff\",\n    },\n}));\n\nconst DarkMode = (props) => {\n    const classes = useStyles();\n\n    const [theme, setTheme] = useState(\"light\");\n\n    const themeToggle = () => {\n        theme === \"light\" ? setTheme(\"dark\") : setTheme(\"light\");\n    };\n\n    const handleClick = () => {\n        props.themeToggle();\n        themeToggle();\n    };\n\n    return (\n        <>\n            {theme === \"light\" ? (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness4Icon />\n                    </IconButton>\n                </>\n            ) : (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness7Icon />\n                    </IconButton>\n                </>\n            )}\n        </>\n    );\n};\n\nexport default DarkMode;\n","import React, { useEffect, useReducer, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport Notifications from \"@material-ui/icons/Notifications\"\n\nimport {\n  Avatar,\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Dialog,\n  Paper,\n  Typography,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  DialogContentText,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport moment from \"moment\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}public/${filename}`;\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose()}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\n      <DialogContent>\n        {announcement.mediaPath && (\n          <div\n            style={{\n              border: \"1px solid #f1f1f1\",\n              margin: \"0 auto 20px\",\n              textAlign: \"center\",\n              width: \"90%\",\n              height: 300,\n              backgroundImage: `url(${getMediaPath(announcement.mediaPath)})`,\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: \"contain\",\n              backgroundPosition: \"center\",\n            }}\n          ></div>\n        )}\n        <DialogContentText id=\"alert-dialog-description\">\n          {announcement.text}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nexport default function AnnouncementsPopover() {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(false);\n  const [announcement, setAnnouncement] = useState({});\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n        setInvisible(false);\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const borderPriority = (priority) => {\n    if (priority === 1) {\n      return \"4px solid #b81111\";\n    }\n    if (priority === 2) {\n      return \"4px solid orange\";\n    }\n    if (priority === 3) {\n      return \"4px solid grey\";\n    }\n  };\n\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}public/${filename}`;\n  };\n\n  const handleShowAnnouncementDialog = (record) => {\n    setAnnouncement(record);\n    setShowAnnouncementDialog(true);\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <AnnouncementDialog\n        announcement={announcement}\n        open={showAnnouncementDialog}\n        handleClose={() => setShowAnnouncementDialog(false)}\n      />\n      <IconButton\n        variant=\"contained\"\n        aria-describedby={id}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge\n          color=\"secondary\"\n          variant=\"dot\"\n          invisible={invisible || announcements.length < 1}\n        >\n          <Notifications />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(announcements) &&\n              announcements.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    borderLeft: borderPriority(item.priority),\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => handleShowAnnouncementDialog(item)}\n                >\n                  {item.mediaPath && (\n                    <ListItemAvatar>\n                      <Avatar\n                        alt={item.mediaName}\n                        src={getMediaPath(item.mediaPath)}\n                      />\n                    </ListItemAvatar>\n                  )}\n                  <ListItemText\n                    primary={item.title}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                        <Typography component=\"span\" variant=\"body2\">\n                          {item.text}\n                        </Typography>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(announcements) && announcements.length === 0 && (\n              <ListItemText primary=\"Nenhum registro\" />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import React, {\n  useContext,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport {\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport notifySound from \"../../assets/chat_notify.mp3\";\nimport useSound from \"use-sound\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nexport default function ChatPopover() {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(true);\n  const { datetimeToClient } = useDate();\n  const [play] = useSound(notifySound);\n  const soundAlertRef = useRef();\n\n  useEffect(() => {\n    soundAlertRef.current = play;\n\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser doesn't support notifications\");\n    } else {\n      Notification.requestPermission();\n    }\n  }, [play]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n        if (data.newMessage.senderId !== user.id) {\n          soundAlertRef.current();\n        }\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const goToMessages = (chat) => {\n    window.location.href = `/chats/${chat.uuid}`;\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <IconButton\n        aria-describedby={id}\n        variant=\"contained\"\n        color={invisible ? \"default\" : \"inherit\"}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n          <ForumIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(chats) &&\n              chats.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => goToMessages(item)}\n                  button\n                >\n                  <ListItemText\n                    primary={item.lastMessage}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {datetimeToClient(item.updatedAt)}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(chats) && chats.length === 0 && (\n              <ListItemText primary=\"Nenhum registro\" />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport moment from \"moment\";\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport NotificationsVolume from \"../components/NotificationsVolume\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport DarkMode from \"../components/DarkMode\";\nimport { i18n } from \"../translate/i18n\";\nimport toastError from \"../errors/toastError\";\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\n\nimport logo from \"../assets/logo.png\";\nimport { socketConnection } from \"../services/socket\";\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\n\nimport { useDate } from \"../hooks/useDate\";\nimport UserLanguageSelector from \"../components/UserLanguageSelector\";\n\nimport ColorModeContext from \"../layout/themeContext\";\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n    backgroundColor: theme.palette.fancyBackground,\n    '& .MuiButton-outlinedPrimary': {\n      color: theme.mode === 'light' ? '#7252cc' : '#FFF',\n      border: theme.mode === 'light' ? '1px solid rgba(0 124 102)' : '1px solid rgba(255, 255, 255, 0.5)',\n    },\n    '& .MuiTab-textColorPrimary.Mui-selected': {\n      color: theme.mode === 'light' ? '#7252cc' : '#FFF',\n    }\n  },\n  avatar: {\n    width: \"100%\",\n  },\n  toolbar: {\n    paddingRight: 24,\n    color: theme.palette.dark.main,\n    background: theme.palette.barraSuperior,\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"48px\"\n    }\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    fontSize: 14,\n    color: \"white\",\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    },\n    ...theme.scrollbarStylesSoft\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    }\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\"\n  },\n  containerWithScroll: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  NotificationsPopOver: {\n    // color: theme.barraSuperior.secondary.main,\n  },\n  logo: {\n    width: \"80%\",\n    height: \"auto\",\n    maxWidth: 180,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"auto\",\n      height: \"80%\",\n      maxWidth: 180,\n    },\n    logo: theme.logo\n  },\n}));\n\nconst LoggedInLayout = ({ children, themeToggle }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  // const [dueDate, setDueDate] = useState(\"\");\n  const { user } = useContext(AuthContext);\n\n  const theme = useTheme();\n  const { colorMode } = useContext(ColorModeContext);\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\n\n  const { dateToClient } = useDate();\n\n\n  //################### CODIGOS DE TESTE #########################################\n  // useEffect(() => {\n  //   navigator.getBattery().then((battery) => {\n  //     console.log(`Battery Charging: ${battery.charging}`);\n  //     console.log(`Battery Level: ${battery.level * 100}%`);\n  //     console.log(`Charging Time: ${battery.chargingTime}`);\n  //     console.log(`Discharging Time: ${battery.dischargingTime}`);\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const geoLocation = navigator.geolocation\n\n  //   geoLocation.getCurrentPosition((position) => {\n  //     let lat = position.coords.latitude;\n  //     let long = position.coords.longitude;\n\n  //     console.log('latitude: ', lat)\n  //     console.log('longitude: ', long)\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const nucleos = window.navigator.hardwareConcurrency;\n\n  //   console.log('Nucleos: ', nucleos)\n  // }, []);\n\n  // useEffect(() => {\n  //   console.log('userAgent', navigator.userAgent)\n  //   if (\n  //     navigator.userAgent.match(/Android/i)\n  //     || navigator.userAgent.match(/webOS/i)\n  //     || navigator.userAgent.match(/iPhone/i)\n  //     || navigator.userAgent.match(/iPad/i)\n  //     || navigator.userAgent.match(/iPod/i)\n  //     || navigator.userAgent.match(/BlackBerry/i)\n  //     || navigator.userAgent.match(/Windows Phone/i)\n  //   ) {\n  //     console.log('é mobile ', true) //celular\n  //   }\n  //   else {\n  //     console.log('não é mobile: ', false) //nao é celular\n  //   }\n  // }, []);\n  //##############################################################################\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 600) {\n      setDrawerOpen(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const userId = localStorage.getItem(\"userId\");\n\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-auth`, (data) => {\n      if (data.user.id === +userId) {\n        toastError(\"Sua conta foi acessada em outro computador.\");\n        setTimeout(() => {\n          localStorage.clear();\n          window.location.reload();\n        }, 1000);\n      }\n    });\n\n    socket.emit(\"userStatus\");\n    const interval = setInterval(() => {\n      socket.emit(\"userStatus\");\n    }, 1000 * 60 * 5);\n\n    return () => {\n      socket.disconnect();\n      clearInterval(interval);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const handleRefreshPage = () => {\n    window.location.reload(false);\n  }\n\n  const handleMenuItemClick = () => {\n    const { innerWidth: width } = window;\n    if (width <= 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const toggleColorMode = () => {\n    colorMode.toggleColorMode();\n  }\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <img src={logo} className={classes.logo} alt=\"logo\" />\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List className={classes.containerWithScroll}>\n          <MainListItems drawerClose={drawerClose} collapsed={!drawerOpen} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color=\"primary\"\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            variant=\"contained\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <Typography\n            component=\"h2\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\n            {greaterThenSm && user?.profile === \"admin\" && user?.company?.dueDate ? (\n              <>\n                Olá <b>{user.name}</b>, Bem vindo a <b>{user?.company?.name}</b>! (Ativo até {dateToClient(user?.company?.dueDate)})\n              </>\n            ) : (\n              <>\n                Olá  <b>{user.name}</b>, Bem Vindo a <b>{user?.company?.name}</b>!\n              </>\n            )}\n          </Typography>\n\n          {/* DESABILITADO POIS TEM BUGS */}\n          {/* <UserLanguageSelector /> */}\n\n          <IconButton edge=\"start\" onClick={toggleColorMode}>\n            {theme.mode === 'dark' ? <Brightness7Icon style={{ color: \"white\" }} /> : <Brightness4Icon style={{ color: \"white\" }} />}\n          </IconButton>\n\n          <NotificationsVolume\n            setVolume={setVolume}\n            volume={volume}\n          />\n\n          <IconButton\n            onClick={handleRefreshPage}\n            aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\n            color=\"inherit\"\n          >\n            <CachedIcon style={{ color: \"white\" }} />\n          </IconButton>\n\n          {/* <DarkMode themeToggle={themeToggle} /> */}\n\n          {user.id && <NotificationsPopOver volume={volume} />}\n\n          <AnnouncementsPopover />\n\n          <ChatPopover />\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              variant=\"contained\"\n              style={{ color: \"white\" }}\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n              <MenuItem onClick={handleClickLogout}>\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\n              </MenuItem>\n            </Menu>\n          </div>\n\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tCartesianGrid,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n\tLineChart,\n\tLine,\n\tTooltip,\n\tLegend,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = ({ dateStartTicket, dateEndTicket, queueTicket }) => {\n\tconst theme = useTheme();\n\n\tconst { tickets, count } = useTickets({\n\t\tdateStart: dateStartTicket,\n\t\tdateEnd: dateEndTicket,\n\t\tqueueIds: queueTicket ? `[${queueTicket}]` : \"[]\",\n\t});\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"00:00\", amount: 0 },\n\t\t{ time: \"01:00\", amount: 0 },\n\t\t{ time: \"02:00\", amount: 0 },\n\t\t{ time: \"03:00\", amount: 0 },\n\t\t{ time: \"04:00\", amount: 0 },\n\t\t{ time: \"05:00\", amount: 0 },\n\t\t{ time: \"06:00\", amount: 0 },\n\t\t{ time: \"07:00\", amount: 0 },\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t\t{ time: \"20:00\", amount: 0 },\n\t\t{ time: \"21:00\", amount: 0 },\n\t\t{ time: \"22:00\", amount: 0 },\n\t\t{ time: \"23:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData((prevState) => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach((a) => {\n\t\t\t\ttickets.forEach((ticket) => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") ===\n\t\t\t\t\t\ta.time && a.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${\"Atendimentos Criados: \"}${count}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<LineChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 5,\n\t\t\t\t\t\tright: 30,\n\t\t\t\t\t\tleft: 20,\n\t\t\t\t\t\tbottom: 5,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis\n\t\t\t\t\t\tdataKey=\"time\"\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t/>\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t<Legend />\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttextAnchor: \"middle\",\n\t\t\t\t\t\t\t\tfill: theme.palette.text.primary,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Line\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey=\"amount\"\n\t\t\t\t\t\tstroke=\"#8884d8\"\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t// fill={theme.palette.primary.main}\n\t\t\t\t\t/>\n\t\t\t\t</LineChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React from \"react\";\n\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(theme => ({\n\tcardAvatar: {\n\t\tfontSize: '55px',\n\t\tcolor: grey[500],\n\t\tbackgroundColor: '#ffffff',\n\t\twidth: theme.spacing(7),\n\t\theight: theme.spacing(7)\n\t},\n\tcardTitle: {\n\t\tfontSize: '18px',\n\t\tcolor: theme.palette.text.primary\n\t},\n\tcardSubtitle: {\n\t\tcolor: grey[600],\n\t\tfontSize: '14px'\n\t}\n}));\n\nexport default function CardCounter(props) {\n    const { icon, title, value, loading } = props\n\tconst classes = useStyles();\n    return ( !loading ? \n        <Card>\n            <CardHeader\n                avatar={\n                    <Avatar className={classes.cardAvatar}>\n                        {icon}\n                    </Avatar>\n                }\n                title={\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\n                        { title }\n                    </Typography>\n                }\n                subheader={\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\n                        { value }\n                    </Typography>\n                }\n            />\n        </Card>\n        : <Skeleton variant=\"rect\" height={80} />\n    )\n    \n}","import React from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, red } from '@material-ui/core/colors';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport moment from 'moment';\n\nimport Rating from '@material-ui/lab/Rating';\n\nconst useStyles = makeStyles(theme => ({\n    on: {\n        color: green[600],\n        fontSize: '20px'\n    },\n    off: {\n        color: red[600],\n        fontSize: '20px'\n    },\n    pointer: {\n        cursor: \"pointer\"\n    }\n}));\n\nexport function RatingBox({ rating }) {\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\n    return <Rating\n        defaultValue={ratingTrunc}\n        max={3}\n        readOnly\n    />\n}\n\nexport default function TableAttendantsStatus(props) {\n    const { loading, attendants } = props\n    const classes = useStyles();\n\n    function renderList() {\n        return attendants.map((a, k) => (\n            <TableRow key={k}>\n                <TableCell>{a.name}</TableCell>\n                <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\n                    <RatingBox rating={a.rating} />\n                </TableCell>\n                <TableCell align=\"center\">{a.tickets}</TableCell>\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\n                <TableCell align=\"center\">\n                    {a.online ?\n                        <CheckCircleIcon className={classes.on} />\n                        : <ErrorIcon className={classes.off} />\n                    }\n                </TableCell>\n            </TableRow>\n        ))\n    }\n\n    function formatTime(minutes) {\n        return moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\n    }\n\n    return (!loading ?\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Nome</TableCell>\n                        <TableCell align=\"center\">Atendimentos concluidos</TableCell>\n                        <TableCell align=\"center\">TM. Atendimento</TableCell>\n                        <TableCell align=\"center\">Estado (Atual)</TableCell>\n                        <TableCell align=\"center\">Avaliações</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {renderList()}\n                </TableBody>\n            </Table>\n        </TableContainer>\n        : <Skeleton variant=\"rect\" height={150} />\n    )\n}","import api from \"../../services/api\";\n\nconst useDashboard = () => {\n\n    const find = async (params) => {\n        const { data } = await api.request({\n            url: `/dashboard`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        find\n    }\n}\n\nexport default useDashboard;","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useContacts = ({ searchParam, pageNumber, date, dateStart, dateEnd }) => {\n    const [loading, setLoading] = useState(true);\n    const [hasMore, setHasMore] = useState(false);\n    const [contacts, setContacts] = useState([]);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async () => {\n                try {\n                    const { data } = await api.get(\"/contacts\", {\n                        params: {\n                            searchParam,\n                            pageNumber,\n                            date,\n                            dateStart,\n                            dateEnd,\n                        },\n                    });\n                    setContacts(data.contacts);\n\n                    setHasMore(data.hasMore);\n                    setCount(data.count);\n                    setLoading(false);\n                } catch (err) {\n                    setLoading(false);\n                    toastError(err);\n                }\n            };\n\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, date, dateStart, dateEnd]);\n\n    return { contacts, loading, hasMore, count };\n};\n\nexport default useContacts;\n","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useMessages = ({ fromMe, dateStart, dateEnd }) => {\n    const [loading, setLoading] = useState(true);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchMessages = async () => {\n                try {\n                    const { data } = await api.get(\"/messages-allMe\", {\n                        params: {\n                            fromMe,\n                            dateStart,\n                            dateEnd,\n                        },\n                    });\n                    setCount(data.count[0].count);\n                    setLoading(false);\n                } catch (err) {\n                    setLoading(false);\n                    toastError(err);\n                }\n            };\n\n            fetchMessages();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [dateStart, dateEnd]);\n\n    return { count };\n};\n\nexport default useMessages;\n","import React, { useEffect, useState } from 'react';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport brLocale from 'date-fns/locale/pt-BR';\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\nimport { Button, Stack, TextField } from '@mui/material';\nimport Typography from \"@material-ui/core/Typography\";\nimport api from '../../services/api';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport './button.css';\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.padding,\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(2),\n    }\n}));\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n    ChartDataLabels\n);\n\nexport const options = {\n    responsive: true,\n    plugins: {\n        legend: {\n            position: 'top',\n            display: false,\n        },\n        title: {\n            display: true,\n            text: 'Atendimento',\n            position: 'left',\n        },\n        datalabels: {\n            display: true,\n            anchor: 'start',\n            offset: -30,\n            align: \"start\",\n            color: \"#fff\",\n            textStrokeColor: \"#000\",\n            textStrokeWidth: 2,\n            font: {\n                size: 20,\n                weight: \"bold\"\n\n            },\n        }\n    },\n};\n\nexport const ChatsUser = () => {\n    // const classes = useStyles();\n    const [initialDate, setInitialDate] = useState(new Date());\n    const [finalDate, setFinalDate] = useState(new Date());\n    const [ticketsData, setTicketsData] = useState({ data: [] });\n\n    const companyId = localStorage.getItem(\"companyId\");\n\n    useEffect(() => {\n        handleGetTicketsInformation();\n    }, []);\n\n    const dataCharts = {\n\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => item.nome),\n        datasets: [\n            {\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\n                    return item.quantidade\n                }),\n                backgroundColor: '#9200bf',\n            },\n\n        ],\n    };\n\n    const handleGetTicketsInformation = async () => {\n        try {\n\n            const { data } = await api.get(`/dashboard/ticketsUsers?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\n            setTicketsData(data);\n        } catch (error) {\n            toast.error('Error al obtener la información de la Atendimento');\n        }\n    }\n\n    return (\n        <>\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n                Total de Atendimento por Usuário\n            </Typography>\n\n            <Stack direction={'row'} spacing={2} alignItems={'center'} sx={{ my: 2, }} >\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={initialDate}\n                        onChange={(newValue) => { setInitialDate(newValue) }}\n                        label=\"Fecha inicial\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n\n                    />\n                </LocalizationProvider>\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={finalDate}\n                        onChange={(newValue) => { setFinalDate(newValue) }}\n                        label=\"Fecha final\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n                    />\n                </LocalizationProvider>\n\n                <Button className=\"buttonHover\" onClick={handleGetTicketsInformation} variant='contained'>Filtrar</Button>\n\n            </Stack>\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\n        </>\n    );\n}","import React from \"react\"; // { useContext }\n// import { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport {\n    Button,\n    // FormControl,\n    Grid,\n    // InputLabel,\n    // MenuItem,\n    Paper,\n    // Select,\n    TextField,\n} from \"@material-ui/core\";\n\nimport Title from \"./Title\";\n\nconst Filters = ({\n    classes,\n    setDateStartTicket,\n    setDateEndTicket,\n    dateStartTicket,\n    dateEndTicket,\n    setQueueTicket,\n    queueTicket,\n}) => {\n    // const { user } = useContext(AuthContext);\n\n    const [\n        queues,\n        // setQueues\n    ] = React.useState(queueTicket);\n    const [dateStart, setDateStart] = React.useState(dateStartTicket);\n    const [dateEnd, setDateEnd] = React.useState(dateEndTicket);\n\n    return (\n        <Grid item xs={12}>\n            <Paper className={classes.customFixedHeightPaperLg} elevation={6}>\n                <Title>Filtros</Title>\n                <Grid container spacing={3}>\n                    {/* <Grid item xs={12} sm={6} md={3}>\n                        <FormControl fullWidth>\n                            <InputLabel id=\"queue-label\">\n                                Departamentos\n                            </InputLabel>\n                            <Select\n                                labelId=\"queue-label\"\n                                id=\"queue-select\"\n                                defaultValue={queueTicket}\n                                label=\"Departamentos\"\n                                onChange={(e) => setQueues(e.target.value)}\n                            >\n                                <MenuItem value={false}>\n                                    Todos os Departamentos\n                                </MenuItem>\n                                {user.queues.map((queue) => (\n                                    <MenuItem key={queue.id} value={queue.id}>\n                                        {queue.name}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </Grid> */}\n\n                    <Grid item xs={12} sm={6} md={5}>\n                        <TextField\n                            fullWidth\n                            name=\"dateStart\"\n                            label=\"Desde\"\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            type=\"date\"\n                            defaultValue={dateStart}\n                            onChange={(e) => setDateStart(e.target.value)}\n                        />\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={5}>\n                        <TextField\n                            fullWidth\n                            name=\"dateEnd\"\n                            label=\"Hasta\"\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            type=\"date\"\n                            defaultValue={dateEnd}\n                            onChange={(e) => setDateEnd(e.target.value)}\n                        />\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={2}>\n                        <Button\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={() => {\n                                setQueueTicket(queues);\n                                setDateStartTicket(dateStart);\n                                setDateEndTicket(dateEnd);\n                            }}\n                        >\n                            Filtrar\n                        </Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </Grid>\n    );\n};\n\nexport default Filters;\n","import React, { useEffect, useState } from 'react';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport brLocale from 'date-fns/locale/pt-BR';\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\nimport { Button, Stack, TextField } from '@mui/material';\nimport Typography from \"@material-ui/core/Typography\";\nimport api from '../../services/api';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport './button.css';\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend\n);\n\nexport const options = {\n    responsive: true,\n    plugins: {\n        legend: {\n            position: 'top',\n            display: false,\n        },\n        title: {\n            display: true,\n            text: 'Atendimentos',\n            position: 'left',\n        },\n        datalabels: {\n            display: true,\n            anchor: 'start',\n            offset: -30,\n            align: \"start\",\n            color: \"#fff\",\n            textStrokeColor: \"#000\",\n            textStrokeWidth: 2,\n            font: {\n                size: 20,\n                weight: \"bold\"\n\n            },\n        }\n    },\n};\n\nexport const ChartsDate = () => {\n\n    const [initialDate, setInitialDate] = useState(new Date());\n    const [finalDate, setFinalDate] = useState(new Date());\n    const [ticketsData, setTicketsData] = useState({ data: [], count: 0 });\n\n    const companyId = localStorage.getItem(\"companyId\");\n\n    useEffect(() => {\n        handleGetTicketsInformation();\n    }, []);\n\n    const dataCharts = {\n\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => (item.hasOwnProperty('horario') ? `Das ${item.horario}:00 as ${item.horario}:59` : item.data)),\n        datasets: [\n            {\n                // label: 'Dataset 1',\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\n                    return item.total\n                }),\n                backgroundColor: '#9200bf',\n            },\n        ],\n    };\n\n    const handleGetTicketsInformation = async () => {\n        try {\n            const { data } = await api.get(`/dashboard/ticketsDay?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\n            setTicketsData(data);\n        } catch (error) {\n            toast.error('Erro ao buscar informações dos tickets');\n        }\n    }\n\n    return (\n        <>\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n                Atendimento Total ({ticketsData?.count})\n            </Typography>\n\n            <Stack direction={'row'} spacing={2} alignItems={'center'} sx={{ my: 2, }} >\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={initialDate}\n                        onChange={(newValue) => { setInitialDate(newValue) }}\n                        label=\"Fecha inicial\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n\n                    />\n                </LocalizationProvider>\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={finalDate}\n                        onChange={(newValue) => { setFinalDate(newValue) }}\n                        label=\"Fecha final\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n                    />\n                </LocalizationProvider>\n\n                <Button className=\"buttonHover\" onClick={handleGetTicketsInformation} variant='contained' >Filtrar</Button>\n\n            </Stack>\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\n        </>\n    );\n}","import React, { useContext, useState, useEffect } from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button } from \"@material-ui/core\";\n\nimport SpeedIcon from \"@material-ui/icons/Speed\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport CallIcon from \"@material-ui/icons/Call\";\nimport RecordVoiceOverIcon from \"@material-ui/icons/RecordVoiceOver\";\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\nimport HourglassEmptyIcon from \"@material-ui/icons/HourglassEmpty\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport SendIcon from '@material-ui/icons/Send';\nimport MessageIcon from '@material-ui/icons/Message';\nimport AccessAlarmIcon from '@material-ui/icons/AccessAlarm';\nimport TimerIcon from '@material-ui/icons/Timer';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { toast } from \"react-toastify\";\n\nimport Chart from \"./Chart\";\nimport ButtonWithSpinner from \"../../components/ButtonWithSpinner\";\n\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\nimport { isArray } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport useDashboard from \"../../hooks/useDashboard\";\nimport useTickets from \"../../hooks/useTickets\";\nimport useUsers from \"../../hooks/useUsers\";\nimport useContacts from \"../../hooks/useContacts\";\nimport useMessages from \"../../hooks/useMessages\";\nimport { ChatsUser } from \"./ChartsUser\"\n\nimport Filters from \"./Filters\";\nimport { isEmpty } from \"lodash\";\nimport moment from \"moment\";\nimport { ChartsDate } from \"./ChartsDate\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.padding,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(2),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: 240,\n    overflowY: \"auto\",\n    ...theme.scrollbarStyles,\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n  iframeDashboard: {\n    width: \"100%\",\n    height: \"calc(100vh - 64px)\",\n    border: \"none\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  customFixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 120,\n  },\n  customFixedHeightPaperLg: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n  },//EM ATENDIMENTO\n  card1: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#420766\",\n    color: \"#eee\",\n  },//AGUARDANDO ATENDIMENTO\n  card2: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#49318B\",\n    color: \"#eee\",\n  },//ATENDIMENTOS FINALIZADOS\n  card3: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#004AAD\",\n    color: \"#eee\",\n  },//NOVOS LEADS\n  card4: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#E6AA15\",\n    color: \"#eee\",\n  },// TOTAL MENSAGENS RECEBIDAS\n  card5: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#47a7f6\",\n    color: \"#eee\",\n  },//ATENDIMENTOS EM ABERTO\n  card6: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#7252CC\",\n    color: \"#eee\",\n  },// TOTAL DE MENSAGENS ENVIADAS\n  card7: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#1EA3C9\",\n    color: \"#eee\",\n  },// TEMPO MÉDIO DE ATENDIMENTOS\n  card8: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#FF4800\",\n    color: \"#eee\",\n  },// TEMPO DE ESPERA\n  card9: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#E10A0A\",\n    color: \"#eee\",\n  },\n  fixedHeightPaper2: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst Dashboard = () => {\n  const classes = useStyles();\n  const [counters, setCounters] = useState({});\n  const [attendants, setAttendants] = useState([]);\n  const [filterType, setFilterType] = useState(1);\n  const [period, setPeriod] = useState(0);\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [loading, setLoading] = useState(false);\n  const { find } = useDashboard();\n\n  let newDate = new Date();\n  let date = newDate.getDate();\n  let month = newDate.getMonth() + 1;\n  let year = newDate.getFullYear();\n  let now = `${year}-${month < 10 ? `0${month}` : `${month}`}-${date < 10 ? `0${date}` : `${date}`}`;\n\n  const [showFilter, setShowFilter] = useState(false);\n  const [dateStartTicket, setDateStartTicket] = useState(now);\n  const [dateEndTicket, setDateEndTicket] = useState(now);\n  const [queueTicket, setQueueTicket] = useState(false);\n\n  const { user } = useContext(AuthContext);\n  var userQueueIds = [];\n\n  if (user.queues && user.queues.length > 0) {\n    userQueueIds = user.queues.map((q) => q.id);\n  }\n\n  useEffect(() => {\n    async function firstLoad() {\n      await fetchData();\n    }\n    setTimeout(() => {\n      firstLoad();\n    }, 1000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function fetchData() {\n    setLoading(true);\n\n    let params = {};\n\n    if (period > 0) {\n      params = {\n        days: period,\n      };\n    }\n\n    if (!isEmpty(dateFrom) && moment(dateFrom).isValid()) {\n      params = {\n        ...params,\n        date_from: moment(dateFrom).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (!isEmpty(dateTo) && moment(dateTo).isValid()) {\n      params = {\n        ...params,\n        date_to: moment(dateTo).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (Object.keys(params).length === 0) {\n      toast.error(\"Parametrize o filtro\");\n      setLoading(false);\n      return;\n    }\n\n    const data = await find(params);\n\n    setCounters(data.counters);\n    if (isArray(data.attendants)) {\n      setAttendants(data.attendants);\n    } else {\n      setAttendants([]);\n    }\n\n    setLoading(false);\n  }\n\n  function formatTime(minutes) {\n    return moment()\n      .startOf(\"day\")\n      .add(minutes, \"minutes\")\n      .format(\"HH[h] mm[m]\");\n  }\n\n  const GetUsers = () => {\n    let count;\n    let userOnline = 0;\n    attendants.forEach(user => {\n      if (user.online === true) {\n        userOnline = userOnline + 1\n      }\n    })\n    count = userOnline === 0 ? 0 : userOnline;\n    return count;\n  };\n\n  const GetContacts = (all) => {\n    let props = {};\n    if (all) {\n      props = {};\n    } else {\n      props = {\n        dateStart: dateStartTicket,\n        dateEnd: dateEndTicket,\n      };\n    }\n    const { count } = useContacts(props);\n    return count;\n  };\n\n  const GetMessages = (all, fromMe) => {\n    let props = {};\n    if (all) {\n      if (fromMe) {\n        props = {\n          fromMe: true\n        };\n      } else {\n        props = {\n          fromMe: false\n        };\n      }\n    } else {\n      if (fromMe) {\n        props = {\n          fromMe: true,\n          dateStart: dateStartTicket,\n          dateEnd: dateEndTicket,\n        };\n      } else {\n        props = {\n          fromMe: false,\n          dateStart: dateStartTicket,\n          dateEnd: dateEndTicket,\n        };\n      }\n    }\n    const { count } = useMessages(props);\n    return count;\n  };\n\n  function toggleShowFilter() {\n    setShowFilter(!showFilter);\n  }\n\n  return (\n    <div>\n      <Container maxWidth=\"lg\" className={classes.container}>\n        <Grid container spacing={3} justifyContent=\"flex-end\">\n\n          {/* FILTROS */}\n          <Grid item xs={12}>\n            <Button\n              onClick={toggleShowFilter}\n              style={{ float: \"right\" }}\n              color=\"primary\"\n            >\n              {!showFilter ? (\n                <FilterListIcon />\n              ) : (\n                <ClearIcon />\n              )}\n            </Button>\n          </Grid>\n\n          {showFilter && (\n            <Filters\n              classes={classes}\n              setDateStartTicket={setDateStartTicket}\n              setDateEndTicket={setDateEndTicket}\n              dateStartTicket={dateStartTicket}\n              dateEndTicket={dateEndTicket}\n              setQueueTicket={setQueueTicket}\n              queueTicket={queueTicket}\n            />\n          )}\n\n          {/* EM ATENDIMENTO */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card1}\n              style={{ overflow: \"hidden\" }}\n              elevation={4}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    EM ATENDIMENTO\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.supportHappening}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={2}>\n                  <CallIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#ffffff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* AGUARDANDO */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card2}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    AGUARDANDO ATENDIMENTO\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.supportPending}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <HourglassEmptyIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#ffffff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* ATENDENTES ATIVOS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card6}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    ATENDENTES ONLINE\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {GetUsers()}\n                      <span\n                        style={{ color: \"#ffffff\" }}\n                      >\n                        /{attendants.length}\n                      </span>\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <RecordVoiceOverIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#ffffff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* FINALIZADOS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card3}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    ATENDIMENTOS FINALIZADOS\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.supportFinished}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <CheckCircleIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#ffffff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n\n          {/* MINHAS MENSAGEM ENVIADAS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card7}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    TOTAL DE MSG ENVIADAS\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {GetMessages(false, true)}\n                      <span\n                        style={{ color: \"#ffffff\" }}\n                      >\n                        /{GetMessages(true, true)}\n                      </span>\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <SendIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#ffffff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* MINHAS MENSAGEM RECEBIDAS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card5}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    TOTAL DE MSG RECEBIDAS\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {GetMessages(false, false)}\n                      <span\n                        style={{ color: \"#ffffff\" }}\n                      >\n                        /{GetMessages(true, false)}\n                      </span>\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <MessageIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#ffffff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* NOVOS CONTATOS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card4}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    NOVOS LEADS\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {GetContacts(true)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <GroupAddIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#ffffff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* T.M. DE ATENDIMENTO */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card8}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    TEMPO MÉDIO DE ATENDIMENTO\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {formatTime(counters.avgSupportTime)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <AccessAlarmIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#ffffff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* T.M. DE ESPERA */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card9}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    TEMPO MÉDIO DE ESPERA\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {formatTime(counters.avgWaitTime)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <TimerIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#ffffff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* CARD DE GRAFICO */}\n          { /*<Grid item xs={12}>\n            <Paper\n              elevation={6}\n              className={classes.fixedHeightPaper}\n            >\n              <Chart\n                dateStartTicket={dateStartTicket}\n                dateEndTicket={dateEndTicket}\n                queueTicket={queueTicket}\n              />\n            </Paper>\n                  </Grid> */}\n\n          {/* INFO DOS USUARIOS */}\n          <Grid item xs={12}>\n            {attendants.length ? (\n              <TableAttendantsStatus\n                attendants={attendants}\n                loading={loading}\n              />\n            ) : null}\n          </Grid>\n\n          {/* TOTAL DE ATENDIMENTOS POR USUARIO */}\n          <Grid item xs={12}>\n            <Paper className={classes.fixedHeightPaper2}>\n              <ChatsUser />\n            </Paper>\n          </Grid>\n\n          {/* TOTAL DE ATENDIMENTOS */}\n          <Grid item xs={12}>\n            <Paper className={classes.fixedHeightPaper2}>\n              <ChartsDate />\n            </Paper>\n          </Grid>\n\n        </Grid>\n      </Container >\n    </div >\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t\tdisableBot: false,\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tchecked={contact.disableBot}\n\t\t\t\t\t\t\t\t\t\tonChange={() =>\n\t\t\t\t\t\t\t\t\t\t\tsetContact({ ...contact, disableBot: !contact.disableBot })\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tname=\"showAllTickets\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\tDesabilitar chatbot para esse contato\n\t\t\t\t\t\t\t\t</Typography>\n\n\n\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport { toast } from \"react-toastify\";\n\nconst filter = createFilterOptions({\n\ttrim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\n\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [selectedQueue, setSelectedQueue] = useState(\"\");\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tif (initialContact?.id !== undefined) {\n\t\t\tsetOptions([initialContact]);\n\t\t\tsetSelectedContact(initialContact);\n\t\t}\n\t}, [initialContact]);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t};\n\n\tconst handleSaveTicket = async contactId => {\n\t\tif (!contactId) return;\n\t\tif (selectedQueue === \"\" && user.profile !== 'admin') {\n\t\t\ttoast.error(\"Selecione uma fila\");\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst queueId = selectedQueue !== \"\" ? selectedQueue : null;\n\t\t\tconst { data: ticket } = await api.post(\"/tickets\", {\n\t\t\t\tcontactId: contactId,\n\t\t\t\tqueueId,\n\t\t\t\tuserId: user.id,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\tonClose(ticket);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetLoading(false);\n\t};\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst handleAddNewContactTicket = contact => {\n\t\thandleSaveTicket(contact.id);\n\t};\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${option.name}`;\n\t\t}\n\t};\n\n\tconst renderContactAutocomplete = () => {\n\t\tif (initialContact === undefined || initialContact.id === undefined) {\n\t\t\treturn (\n\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t\tonSave={handleAddNewContactTicket}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"newTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Grid style={{ width: 300 }} container spacing={2}>\n\t\t\t\t\t\t{renderContactAutocomplete()}\n\t\t\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tdisplayEmpty\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetSelectedQueue(e.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trenderValue={() => {\n\t\t\t\t\t\t\t\t\tif (selectedQueue === \"\") {\n\t\t\t\t\t\t\t\t\t\treturn \"Selecione uma fila\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst queue = user.queues.find(q => q.id === selectedQueue)\n\t\t\t\t\t\t\t\t\treturn queue.name\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{user.queues?.length > 0 &&\n\t\t\t\t\t\t\t\t\tuser.queues.map((queue, key) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem dense key={key} value={queue.id}>\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact}\n\t\t\t\t\t\tonClick={() => handleSaveTicket(selectedContact.id)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default NewTicketModal;\n","import React, { useState, useEffect, createContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TicketsContext = createContext();\n\nconst TicketsContextProvider = ({ children }) => {\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tif (currentTicket.id !== null) {\n\t\t\tif (typeof currentTicket.uuid === \"undefined\") {\n\t\t\t\thistory.push(`/tickets`);\n\t\t\t } else {\n\t\t\t\thistory.push(`/tickets/${currentTicket.uuid}`);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [currentTicket])\n\n\treturn (\n\t\t<TicketsContext.Provider\n\t\t\tvalue={{ currentTicket, setCurrentTicket }}\n\t\t>\n\t\t\t{children}\n\t\t</TicketsContext.Provider>\n\t);\n};\n\nexport { TicketsContext, TicketsContextProvider };\n","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport { Button, Divider, Typography } from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n\tuseEffect(() => { }, [image, link, description]);\n\n\tconst handleLocation = async () => {\n\t\ttry {\n\t\t\twindow.open(link);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{description && (\n\t\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\tshowRotate=\"true\"\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { green } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport clsx from \"clsx\";\nimport { format, isSameDay, parseISO } from \"date-fns\";\nimport React, { useEffect, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\n\nconst useStyles = makeStyles(theme => ({\n    ticket: {\n        position: \"relative\",\n    },\n\n    pendingTicket: {\n        cursor: \"unset\",\n    },\n\n    noTicketsDiv: {\n        display: \"flex\",\n        height: \"100px\",\n        margin: 40,\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n\n    noTicketsText: {\n        textAlign: \"center\",\n        color: \"rgb(104, 121, 146)\",\n        fontSize: \"14px\",\n        lineHeight: \"1.4\",\n    },\n\n    noTicketsTitle: {\n        textAlign: \"center\",\n        fontSize: \"16px\",\n        fontWeight: \"600\",\n        margin: \"0px\",\n    },\n\n    contactNameWrapper: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n\n    lastMessageTime: {\n        justifySelf: \"flex-end\",\n    },\n\n    closedBadge: {\n        alignSelf: \"center\",\n        justifySelf: \"flex-end\",\n        marginRight: 32,\n        marginLeft: \"auto\",\n    },\n\n    contactLastMessage: {\n        paddingRight: 20,\n    },\n\n    newMessagesCount: {\n        alignSelf: \"center\",\n        marginRight: 8,\n        marginLeft: \"auto\",\n    },\n\n    badgeStyle: {\n        color: \"white\",\n        backgroundColor: green[500],\n    },\n\n    acceptButton: {\n        position: \"absolute\",\n        left: \"50%\",\n    },\n\n    selectedTicketText: {\n        color: \"white\",\n    }\n}));\n\nconst TicketListForwardMessageItem = ({ ticket, selectedTicket, sendData }) => {\n    const classes = useStyles();\n    const { ticketId } = useParams();\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n\n    const handleSelectTicket = (e, ticket) => {\n        sendData(ticket)\n    };\n\n    return (\n        <React.Fragment key={ticket.id}>\n            <ListItem\n                dense\n                button\n                onClick={e => {\n                    if (ticket.status === \"pending\") return;\n                    handleSelectTicket(e, ticket);\n                }}\n                selected={ticketId && +ticketId === ticket.id}\n                className={clsx(classes.ticket, {\n                    [classes.pendingTicket]: ticket.status === \"pending\"\n                })}\n            >\n                <ListItemAvatar>\n                    <Avatar\n                        src={ticket.contact.profilePicUrl && ticket.contact.profilePicUrl}\n                    ></Avatar>\n                </ListItemAvatar>\n                <ListItemText\n                    disableTypography\n                    primary={\n                        <span className={classes.contactNameWrapper}>\n                            <Typography\n                                noWrap\n                                component=\"span\"\n                                variant=\"body2\"\n                                color=\"textPrimary\"\n                                className={clsx({ [classes.selectedTicketText]: ticket === selectedTicket })}\n                            >\n                                {ticket.contact.name}\n                            </Typography>\n                            {ticket.status === \"closed\" && (\n                                <Badge\n                                    className={classes.closedBadge}\n                                    badgeContent={\"closed\"}\n                                    color=\"primary\"\n                                />\n                            )}\n                            {ticket.lastMessage && (\n                                <Typography\n                                    className={clsx(classes.lastMessageTime, { [classes.selectedTicketText]: ticket === selectedTicket })}\n                                    component=\"span\"\n                                    variant=\"body2\"\n                                    color=\"textSecondary\"\n                                >\n                                    {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                                        <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                                    ) : (\n                                        <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                                    )}\n                                </Typography>\n                            )}\n                        </span>\n                    }\n                    secondary={\n                        <span className={classes.contactNameWrapper}>\n                            <Typography\n                                className={clsx(classes.contactLastMessage, { [classes.selectedTicketText]: ticket === selectedTicket })}\n                                noWrap\n                                component=\"span\"\n                                variant=\"body2\"\n                                color=\"textSecondary\"\n                            >\n                                {ticket.lastMessage ? (\n                                    <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\n                                ) : (\n                                    <br />\n                                )}\n                            </Typography>\n\n                            <Badge\n                                className={classes.newMessagesCount}\n                                badgeContent={ticket.unreadMessages}\n                                classes={{\n                                    badge: classes.badgeStyle,\n                                }}\n                            />\n                        </span>\n                    }\n                />\n            </ListItem>\n        </React.Fragment>\n    );\n};\n\nexport default TicketListForwardMessageItem;","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { useHistory } from \"react-router-dom\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport TicketListForwardMessageItem from \"../TicketListForwardMessageItem\";\n\nconst useStyles = makeStyles(theme => ({\n    selectedTicketBackground: {\n        backgroundColor: \"#4caf50\",\n    }\n}))\n\nconst ForwardMessageModal = ({ modalOpen, onClose, message }) => {\n    const classes = useStyles();\n    const history = useHistory();\n    const [tickets, setTickets] = useState([]);\n    const [selectedTicket, setSelectedTicket] = useState(null);\n\n    useEffect(() => {\n        const loadTickets = () => {\n            try {\n                api.get(\"/tickets/\").then((data => {\n                    setTickets(data.data.tickets);\n                }));\n            } catch (err) {\n                const errorMsg = err.response?.data?.error;\n                if (errorMsg) {\n                    if (i18n.exists(`backendErrors.${errorMsg}`)) {\n                        toast.error(i18n.t(`backendErrors.${errorMsg}`));\n                    } else {\n                        toast.error(err.response.data.error);\n                    }\n                } else {\n                    toast.error(\"Unknown error\");\n                }\n            }\n        }\n        loadTickets()\n    }, [])\n\n    const handleClose = () => {\n        onClose();\n        setSelectedTicket(null);\n    };\n\n    const handleForwardMessage = async data => {\n        data.preventDefault();\n        message.isForwarded = true;\n        await api.post(`/messages/${selectedTicket.id}`, message);\n        history.push(`/tickets/${selectedTicket.uuid}`);\n        handleClose()\n    }\n\n    const getData = (val) => {\n        setSelectedTicket(val);\n    }\n\n    return (\n        <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n            <form onSubmit={handleForwardMessage}>\n                <DialogTitle id=\"form-dialog-title\">\n                    {i18n.t(\"forwardMessageModal.title\")}\n                </DialogTitle>\n                <DialogContent>\n                    {tickets.map(ticket => (\n                        <div key={ticket.id}\n                            className={clsx(classes.ticket, {\n                                [classes.selectedTicketBackground]: ticket === selectedTicket\n                            })}\n                        >\n                            {\n                                ticket.status === 'open' ?\n                                    (<TicketListForwardMessageItem ticket={ticket} selectedTicket={selectedTicket} sendData={getData} />) :\n                                    null\n                            }\n                        </div>\n                    ))}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={handleClose}\n                        color=\"secondary\"\n                        variant=\"outlined\"\n                    >\n                        {i18n.t(\"transferTicketModal.buttons.cancel\")}\n                    </Button>\n                    <ButtonWithSpinner\n                        variant=\"contained\"\n                        type=\"submit\"\n                        color=\"primary\"\n                    >\n                        {i18n.t(\"forwardMessageModal.buttons.ok\")}\n                    </ButtonWithSpinner>\n                </DialogActions>\n            </form>\n        </Dialog>\n    );\n};\n\nexport default ForwardMessageModal;","import React, { useState, useContext, useRef } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\nimport ForwardMessageModal from \"../ForwardMessageModal\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n\tconst { setReplyingMessage } = useContext(ReplyMessageContext);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [forwardMessageModalOpen, setForwardMessageModalOpen] = useState(false);\n\t// const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n\t// const [selectedSchedule, setSelectedSchedule] = useState(null);\n\tconst isMounted = useRef(true);\n\n\tconst handleForwardMessage = () => {\n\t\tsetForwardMessageModalOpen(true)\n\t\thandleClose();\n\t};\n\n\t// const handleForwardMessage = () => {\n\t// \t//setSelectedSchedule(schedule);\n\t// \thandleClose();\n\t// \tsetScheduleModalOpen(true);\n\t// };\n\n\t// const handleCloseScheduleModal = () => {\n\t// \tsetSelectedSchedule(null);\n\t// \tsetScheduleModalOpen(false);\n\t// \thandleClose();\n\t// };\n\n\tconst handleCloseForwardMessageModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetForwardMessageModalOpen(false);\n\t\t}\n\t};\n\n\tconst handleDeleteMessage = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst hanldeReplyMessage = () => {\n\t\tsetReplyingMessage(message);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteMessage}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t{/* <ForwardModal\n\t\t\t\topen={scheduleModalOpen}\n\t\t\t\tonClose={handleCloseScheduleModal}\n\t\t\t\tmessage={message}\n\t\t\t/> */}\n\t\t\t<Menu\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.delete\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t<MenuItem onClick={hanldeReplyMessage}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.reply\")}\n\t\t\t\t</MenuItem>\n\n\t\t\t\t<MenuItem onClick={() => handleForwardMessage()}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.toForward\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t{/* <MenuItem onClick={() => handleForwardMessage(message)}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.toForward\")}\n\t\t\t\t</MenuItem> */}\n\n\t\t\t</Menu>\n\t\t\t<ForwardMessageModal\n\t\t\t\tmodalOpen={forwardMessageModalOpen}\n\t\t\t\tonClose={handleCloseForwardMessageModal}\n\t\t\t\tmessage={message}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default MessageOptionsMenu;\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { blue } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n  Badge\n} from \"@material-ui/core\";\n\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n  Facebook,\n  Instagram,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\n// import VcardPreview from \"../VcardPreview\";\nimport LocationPreview from \"../LocationPreview\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    width: \"100%\",\n    minWidth: 200,\n    minHeight: 200,\n  },\n\n  messageCenter: {\n    marginTop: 5,\n    alignItems: \"center\",\n    verticalAlign: \"center\",\n    alignContent: \"center\",\n    backgroundColor: \"#E1F5FEEB\",\n    fontSize: \"12px\",\n    minWidth: 100,\n    maxWidth: 270,\n    color: \"#272727\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  messagesList: {\n    backgroundImage: theme.mode === 'light' ? `url(${whatsBackground})` : `url(${whatsBackgroundDark})`,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: blue[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    padding:1,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: blue[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n\n  // messageCenter: {\n  //   marginTop: 5,\n  //   alignItems: \"center\",\n  //   verticalAlign: \"center\",\n  //   alignContent: \"center\",\n  //   backgroundColor: \"#E1F5FEEB\",\n  //   fontSize: \"12px\",\n  //   minWidth: 100,\n  //   maxWidth: 270,\n  //   color: \"#272727\",\n  //   borderTopLeftRadius: 0,\n  //   borderTopRightRadius: 8,\n  //   borderBottomLeftRadius: 8,\n  //   borderBottomRightRadius: 8,\n  //   paddingLeft: 5,\n  //   paddingRight: 5,\n  //   paddingTop: 5,\n  //   paddingBottom: 0,\n  //   boxShadow: \"0 1px 1px #b3b3b3\",\n  // },\n\n  deletedMessage: {\n    color: '#f55d65'\n  }\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticket, ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        if (ticketId === undefined) return;\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      if (data.action === \"create\") {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n    if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\n      let locationParts = message.body.split('|')\n      let imageLocation = locationParts[0]\n      let linkLocation = locationParts[1]\n\n      let descriptionLocation = null\n\n      if (locationParts.length > 2)\n        descriptionLocation = message.body.split('|')[2]\n\n      console.log('locationParts', locationParts)\n      console.log('imageLocation', imageLocation)\n      console.log('linkLocation', linkLocation)\n      console.log('descriptionLocation', descriptionLocation)\n\n      return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\n    }\n\n  //   if (message.mediaType === \"contactMessage\") {\n\t// \tlet array = message.body.split(\"\\n\");\n\t// \tlet obj = [];\n\t// \tlet contact = \"\";\n\t// \tfor (let index = 0; index < array.length; index++) {\n\t// \t\tconst v = array[index];\n\t// \t\tlet values = v.split(\":\");\n\t// \t\tfor (let ind = 0; ind < values.length; ind++) {\n\t// \t\t\tif (values[ind].indexOf(\"+\") !== -1) {\n\t// \t\t\t\tobj.push({ number: values[ind] });\n\t// \t\t\t}\n\t// \t\t\tif (values[ind].indexOf(\"FN\") !== -1) {\n\t// \t\t\t\tcontact = values[ind + 1];\n\t// \t\t\t}\n\t// \t\t}\n\n\t// \t}\n\t// \treturn <VcardPreview contact={contact} numbers={obj[0].number} />\n\t// } \n\n    if (message.mediaType === \"image\") {\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\n    }\n\n    if (message.mediaType === \"audio\") {\n      return (\n        <audio controls>\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n        </audio>\n      );\n    }\n\n    if (message.mediaType === \"video\") {\n      return (\n        <video\n          className={classes.messageMedia}\n          src={message.mediaUrl}\n          controls\n        />\n      );\n    } else {\n      return (\n        <>\n          <div className={classes.downloadMedia}>\n            <Button\n              startIcon={<GetApp />}\n              color=\"primary\"\n              variant=\"outlined\"\n              target=\"_blank\"\n              href={message.mediaUrl}\n            >\n              Download\n            </Button>\n          </div>\n          <Divider />\n        </>\n      );\n    }\n  };\n\n  const renderMessageAck = (message) => {\n    if (message.ack === 0) {\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 1) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 2) {\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 3 || message.ack === 4) {\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n    }\n  };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy hh:mm a\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderNumberTicket = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n\n      let messageTicket = message.ticketId;\n      let previousMessageTicket = messagesList[index - 1].ticketId;\n\n      if (messageTicket !== previousMessageTicket) {\n        return (\n          <center>\n            <div className={classes.ticketNunberClosed}>\n              Conversa encerrada: {format(parseISO(messagesList[index - 1].createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n\n            <div className={classes.ticketNunberOpen}>\n              Conversa iniciada: {format(parseISO(message.createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n          </center>\n        );\n      }\n    }\n  };\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n\n          {message.quotedMsg.mediaType === \"audio\"\n            && (\n              <div className={classes.downloadMedia}>\n                <audio controls>\n                  <source src={message.quotedMsg.mediaUrl} type=\"audio/ogg\"></source>\n                </audio>\n              </div>\n            )\n          }\n          {message.quotedMsg.mediaType === \"video\"\n            && (\n              <video\n                className={classes.messageMedia}\n                src={message.quotedMsg.mediaUrl}\n                controls\n              />\n            )\n          }\n          {message.quotedMsg.mediaType === \"application\"\n            && (\n              <div className={classes.downloadMedia}>\n                <Button\n                  startIcon={<GetApp />}\n                  color=\"primary\"\n                  variant=\"outlined\"\n                  target=\"_blank\"\n                  href={message.quotedMsg.mediaUrl}\n                >\n                  Download\n                </Button>\n              </div>\n            )\n          }\n\n          {message.quotedMsg.mediaType === \"image\"\n            && (\n              <ModalImageCors imageUrl={message.quotedMsg.mediaUrl} />)\n            || message.quotedMsg?.body}\n          {!message.quotedMsg.mediaType === \"image\" && message.quotedMsg?.body}\n\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n\n        if (message.mediaType === \"call_log\") {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageCenter}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                {/* {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {JSON.parse(message.dataJson).pushName} #{message.contact?.name}\n                  </span>\n                )} */}\n                <div>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\n                    <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\n                  </svg> <span>Chamada de voz/vídeo perdida às {format(parseISO(message.createdAt), \"HH:mm\")}</span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div\n                className={classes.messageLeft}\n                title={message.queueId && message.queue?.name}\n              >\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n\n                {/* {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {JSON.parse(message.dataJson).pushName} #{message.contact?.name}\n                  </span>\n                )} */}\n\n                {/* aviso de mensagem apagado pelo contato */}\n                {message.isDeleted && (\n                  <div>\n                    <span className={classes.deletedMessage}\n                    >🚫 Esta mensagem foi apagada pelo Contato. &nbsp;\n                    </span>\n                  </div>\n                )}\n\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"contactMessage\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n\n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n\n                  {message.mediaType != \"reactionMessage\" && message.mediaType != \"locationMessage\" && (\n                    <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  )}\n\n                  {message.quotedMsg && message.mediaType === \"reactionMessage\" && (\n                    <>\n                      <Badge className={classes.badge}\n                        overlap=\"circular\"\n                        anchorOrigin={{\n                          vertical: 'bottom',\n                          horizontal: 'right',\n                        }}\n                        badgeContent={<span style={{ fontSize: \"4em\", marginTop: \"-95px\", marginLeft: \"340px\" }}>\n                          {message.body}\n                        </span>}\n                      >\n                      </Badge>\n                      <span style={{ marginLeft: \"0px\" }}><MarkdownWrapper >{\"_*\" + message.contact.name + \"*_ reagiu...\"}</MarkdownWrapper></span>\n                    </>\n                  )}\n\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              <div\n                className={classes.messageRight}\n                title={message.queueId && message.queue?.name}\n              >\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"contactMessage\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n                  })}\n                >\n\n                  {message.isDeleted && (`🚫`)}\n\n                  {message.quotedMsg && renderQuotedMessage(message)}\n\n                  {message.mediaType != \"reactionMessage\" && message.mediaType != \"locationMessage\" && (\n                    <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  )}\n\n                  {message.quotedMsg && message.mediaType === \"reactionMessage\" && (\n                    <>\n                      <Badge className={classes.badge}\n                        overlap=\"circular\"\n                        anchorOrigin={{\n                          vertical: 'bottom',\n                          horizontal: 'right',\n                        }}\n                        badgeContent={<span style={{ fontSize: \"4em\", marginTop: \"42px\", marginLeft: \"0px\" }}>\n                          {message.body.split(\"*\")[2]}\n                        </span>}\n                      >\n                      </Badge>\n                      <span style={{ marginLeft: \"-135px\" }}><MarkdownWrapper >{message.body.split(\":\")[0] + \"* reagiu....\"}</MarkdownWrapper></span>\n                    </>\n                  )}\n\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>¡Saudações ao novo Lead!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {(ticket?.channel !== \"whatsapp\") && (\n        <div\n          style={{\n            width: \"100%\",\n            display: \"flex\",\n            padding: \"10px\",\n            alignItems: \"center\",\n            backgroundColor: \"#E1F3FB\",\n          }}\n        >\n          {ticket?.channel === \"facebook\" ? (\n            <Facebook small />\n          ) : (\n            <Instagram small />\n          )}\n\n          <span>\n          Tem 24 horas para responder após receber uma mensagem,\n          seguindo as políticas do Meta.\n          </span>\n        </div>\n      )}\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackground: theme.palette.total,\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackground: theme.palette.fundoBackground,\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeader = ({ loading, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<TicketHeaderSkeleton />\n\t\t\t) : (\n\t\t\t\t<Card square className={classes.ticketHeader}>\n\t\t\t\t\t{children}\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default TicketHeader;\n","import React, { useState, useEffect } from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\tconst { user } = ticket\n\tconst [userName, setUserName] = useState('')\n\tconst [contactName, setContactName] = useState('')\n\n\tuseEffect(() => {\n\t\tif (contact) {\n\t\t\tsetContactName(contact.name);\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tif (contact.name.length > 10) {\n\t\t\t\t\tconst truncadName = contact.name.substring(0, 10) + '...';\n\t\t\t\t\tsetContactName(truncadName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (user && contact) {\n\t\t\tsetUserName(`${i18n.t(\"messagesList.header.assignedTo\")} ${user.name}`);\n\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tsetUserName(`${user.name}`);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contactName} #${ticket.id}`}\n\t\t\tsubheader={ticket.user && `${userName}`}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessagesList from \"../MessagesList\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    let delayDebounceFn = null;\n    if (open) {\n      setLoading(true);\n      delayDebounceFn = setTimeout(() => {\n        const fetchTicket = async () => {\n          try {\n            const { data } = await api.get(\"/tickets/\" + ticketId);\n            const { queueId } = data;\n            const { queues, profile } = user;\n\n            const queueAllowed = queues.find((q) => q.id === queueId);\n            if (queueAllowed === undefined && profile !== \"admin\") {\n              toast.error(\"Acesso não permitido\");\n              history.push(\"/tickets\");\n              return;\n            }\n\n            setContact(data.contact);\n            setTicket(data);\n            setLoading(false);\n          } catch (err) {\n            setLoading(false);\n            toastError(err);\n          }\n        };\n        fetchTicket();\n      }, 500);\n    }\n    return () => {\n      if (delayDebounceFn !== null) {\n        clearTimeout(delayDebounceFn);\n      }\n    };\n  }, [ticketId, user, history, open]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    let socket = null;\n\n    if (open) {\n      socket = socketConnection({ companyId });\n      socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n      socket.on(`company-${companyId}-ticket`, (data) => {\n        if (data.action === \"update\") {\n          setTicket(data.ticket);\n        }\n\n        if (data.action === \"delete\") {\n          toast.success(\"Ticket deleted sucessfully.\");\n          history.push(\"/tickets\");\n        }\n      });\n\n      socket.on(`company-${companyId}-contact`, (data) => {\n        if (data.action === \"update\") {\n          setContact((prevState) => {\n            if (prevState.id === data.contact?.id) {\n              return { ...prevState, ...data.contact };\n            }\n            return prevState;\n          });\n        }\n      });\n    }\n\n    return () => {\n      if (socket !== null) {\n        socket.disconnect();\n      }\n    };\n  }, [ticketId, ticket, history, open]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <Box className={classes.root}>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n      </Box>\n    );\n  };\n\n  return (\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\n      <TicketHeader loading={loading}>{renderTicketInfo()}</TicketHeader>\n      <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","function getRGB(c) {\n  return parseInt(c, 16) || c\n}\n\nfunction getsRGB(c) {\n  return getRGB(c) / 255 <= 0.03928\n    ? getRGB(c) / 255 / 12.92\n    : Math.pow((getRGB(c) / 255 + 0.055) / 1.055, 2.4)\n}\n\nfunction getLuminance(hexColor) {\n  return (\n    0.2126 * getsRGB(hexColor.substr(1, 2)) +\n    0.7152 * getsRGB(hexColor.substr(3, 2)) +\n    0.0722 * getsRGB(hexColor.substr(-2))\n  )\n}\n\nfunction getContrast(f, b) {\n  const L1 = getLuminance(f)\n  const L2 = getLuminance(b)\n  return (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05)\n}\n\nfunction getTextColor(bgColor) {\n  const whiteContrast = getContrast(bgColor, '#ffffff')\n  const blackContrast = getContrast(bgColor, '#000000')\n\n  return whiteContrast > blackContrast ? '#ffffff' : '#000000'\n}\n\nconst contrastColor = (color) => {\n    return getTextColor(color);\n}\n\nexport default contrastColor;","import { makeStyles } from \"@material-ui/styles\";\nimport React from \"react\";\n\nconst useStyles = makeStyles(theme => ({\n    tag: {\n        padding: \"1px 5px\",\n        borderRadius: \"3px\",\n        fontSize: \"0.8em\",\n        fontWeight: \"bold\",\n        color: \"#FFF\",\n        marginRight: \"5px\",\n        whiteSpace: \"nowrap\"\n    }\n}));\n\nconst ContactTag = ({ tag }) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.tag} style={{ backgroundColor: tag.color, marginTop: '2px' }}>\n            {tag.name}\n        </div>\n    )\n}\n\nexport default ContactTag;","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, grey, red, blue } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Box from \"@material-ui/core/Box\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport toastError from \"../../errors/toastError\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport RoomIcon from '@material-ui/icons/Room';\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport AndroidIcon from \"@material-ui/icons/Android\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport contrastColor from \"../../helpers/contrastColor\";\nimport ContactTag from \"../ContactTag\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticket: {\n    position: \"relative\",\n  },\n\n  pendingTicket: {\n    cursor: \"unset\",\n  },\n  queueTag: {\n    background: \"#FCFCFC\",\n    color: \"#000\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  newMessagesCount: {\n    position: \"absolute\",\n    alignSelf: \"center\",\n    marginRight: 8,\n    marginLeft: \"auto\",\n    top: \"10px\",\n    left: \"20px\",\n    borderRadius: 0,\n  },\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n  connectionTag: {\n    background: \"green\",\n    color: \"#FFF\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  contactNameWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    marginLeft: \"5px\",\n  },\n\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    top: -21\n  },\n\n  closedBadge: {\n    alignSelf: \"center\",\n    justifySelf: \"flex-end\",\n    marginRight: 32,\n    marginLeft: \"auto\",\n  },\n\n  contactLastMessage: {\n    paddingRight: \"0%\",\n    marginLeft: \"5px\",\n  },\n\n\n  badgeStyle: {\n    color: \"white\",\n    backgroundColor: green[500],\n  },\n\n  acceptButton: {\n    position: \"absolute\",\n    right: \"108px\",\n  },\n\n\n  acceptButton: {\n    position: \"absolute\",\n    left: \"50%\",\n  },\n\n\n  ticketQueueColor: {\n    flex: \"none\",\n    width: \"8px\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n  },\n\n  ticketInfo: {\n    position: \"relative\",\n    top: -13\n  },\n  secondaryContentSecond: {\n    display: 'flex',\n    // marginTop: 5,\n    //marginLeft: \"5px\",\n    alignItems: \"flex-start\",\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    alignContent: \"flex-start\",\n  },\n  ticketInfo1: {\n    position: \"relative\",\n    top: 13,\n    right: 0\n  },\n  Radiusdot: {\n    \"& .MuiBadge-badge\": {\n      borderRadius: 2,\n      position: \"inherit\",\n      height: 16,\n      margin: 2,\n      padding: 3\n    },\n    \"& .MuiBadge-anchorOriginTopRightRectangle\": {\n      transform: \"scale(1) translate(0%, -40%)\",\n    },\n\n  }\n}));\n\nconst TicketListItemCustom = ({ ticket }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [ticketUser, setTicketUser] = useState(null);\n  const [ticketQueueName, setTicketQueueName] = useState(null);\n  const [ticketQueueColor, setTicketQueueColor] = useState(null);\n  const [tag, setTag] = useState([]);\n  const [whatsAppName, setWhatsAppName] = useState(null);\n\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n  const { ticketId } = useParams();\n  const isMounted = useRef(true);\n  const { setCurrentTicket } = useContext(TicketsContext);\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  useEffect(() => {\n    if (ticket.userId && ticket.user) {\n      setTicketUser(ticket.user?.name?.toUpperCase());\n    }\n    setTicketQueueName(ticket.queue?.name?.toUpperCase());\n    setTicketQueueColor(ticket.queue?.color);\n\n    if (ticket.whatsappId && ticket.whatsapp) {\n      setWhatsAppName(ticket.whatsapp.name?.toUpperCase());\n    }\n\n    setTag(ticket?.tags);\n\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleCloseTicket = async (id) => {\n    setTag(ticket?.tags);\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"closed\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/`);\n  };\n\n  const handleReopenTicket = async (id) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"open\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/`);\n  };\n\n  const handleAcepptTicket = async (id) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"open\",\n        userId: user?.id,\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n  const handleSelectTicket = (ticket) => {\n    const code = uuidv4();\n    const { id, uuid } = ticket;\n    setCurrentTicket({ id, uuid, code });\n  };\n\n\n  const renderTicketInfo = () => {\n    if (ticketUser) {\n\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n\n          {/* </span> */}\n        </>\n      );\n    } else {\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n        </>\n      );\n    }\n  };\n\n  return (\n    <React.Fragment key={ticket.id}>\n      <TicketMessagesDialog\n        open={openTicketMessageDialog}\n\n        handleClose={() => setOpenTicketMessageDialog(false)}\n        ticketId={ticket.id}\n      ></TicketMessagesDialog>\n      <ListItem dense button\n        onClick={(e) => {\n          if (ticket.status === \"pending\") return;\n          handleSelectTicket(ticket);\n        }}\n        selected={ticketId && +ticketId === ticket.id}\n        className={clsx(classes.ticket, {\n          [classes.pendingTicket]: ticket.status === \"pending\",\n        })}\n      >\n        <Tooltip arrow placement=\"right\" title={ticket.queue?.name?.toUpperCase() || \"SEM FILA\"} >\n          <span style={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }} className={classes.ticketQueueColor}></span>\n        </Tooltip>\n        <ListItemAvatar>\n          {ticket.status !== \"pending\" ?\n            <Avatar\n              style={{\n                marginTop: \"-20px\",\n                marginLeft: \"-3px\",\n                width: \"55px\",\n                height: \"55px\",\n                borderRadius: \"10%\",\n              }}\n              src={ticket?.contact?.profilePicUrl}\n            />\n            :\n            <Avatar\n              style={{\n                marginTop: \"-30px\",\n                marginLeft: \"0px\",\n                width: \"50px\",\n                height: \"50px\",\n                borderRadius: \"10%\",\n              }}\n              src={ticket?.contact?.profilePicUrl}\n            />\n          }\n        </ListItemAvatar>\n        <ListItemText\n          disableTypography\n\n          primary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textPrimary\"\n              >\n                {ticket.contact.name}\n                {profile === \"admin\" && (\n                  <Tooltip title=\"Espiar Conversa\">\n                    <VisibilityIcon\n                      onClick={() => setOpenTicketMessageDialog(true)}\n                      fontSize=\"small\"\n                      style={{\n                        color: blue[700],\n                        cursor: \"pointer\",\n                        marginLeft: 10,\n                        verticalAlign: \"middle\"\n                      }}\n                    />\n                  </Tooltip>\n                )}\n              </Typography>\n              <ListItemSecondaryAction>\n                <Box className={classes.ticketInfo1}>{renderTicketInfo()}</Box>\n              </ListItemSecondaryAction>\n            </span>\n\n          }\n          secondary={\n            <span className={classes.contactNameWrapper}>\n\n              <Typography\n                className={classes.contactLastMessage}\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              > {ticket.lastMessage.includes('data:image/png;base64') ? <MarkdownWrapper> Localização</MarkdownWrapper> : <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>}\n                <span className={classes.secondaryContentSecond} >\n                  {ticket?.whatsapp?.name ? <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name?.toUpperCase()}</Badge> : <br></br>}\n                  {ticketUser ? <Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticketUser}</Badge> : <br></br>}\n                  <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name?.toUpperCase() || \"SEM FILA\"}</Badge>\n                </span>\n                <span style={{ paddingTop: \"2px\" }} className={classes.secondaryContentSecond} >\n                  {tag?.map((tag) => {\n                    return (\n                      <ContactTag tag={tag} key={`ticket-contact-tag-${ticket.id}-${tag.id}`} />\n                    );\n                  })}\n                </span>\n              </Typography>\n\n              <Badge\n                className={classes.newMessagesCount}\n                badgeContent={ticket.unreadMessages}\n                classes={{\n                  badge: classes.badgeStyle,\n                }}\n              />\n            </span>\n          }\n\n        />\n        <ListItemSecondaryAction>\n          {ticket.lastMessage && (\n            <>\n\n              <Typography\n                className={classes.lastMessageTime}\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n\n                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                  <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                ) : (\n                  <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                )}\n              </Typography>\n\n              <br />\n\n            </>\n          )}\n\n        </ListItemSecondaryAction>\n        <span className={classes.secondaryContentSecond} >\n          {ticket.status === \"pending\" && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'green', color: 'white', padding: '0px', bottom: '17px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n              onClick={e => handleAcepptTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.accept\")}\n            </ButtonWithSpinner>\n\n          )}\n          {(ticket.status !== \"closed\") && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '0px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n              onClick={e => handleCloseTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.closed\")}\n            </ButtonWithSpinner>\n\n          )}\n          {(ticket.status === \"closed\") && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '0px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n              onClick={e => handleReopenTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.reopen\")}\n            </ButtonWithSpinner>\n\n          )}\n        </span>\n      </ListItem>\n\n      <Divider variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n};\n\nexport default TicketListItemCustom;","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    maxHeight: \"100%\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsListCustom = (props) => {\n  const {\n    status,\n    searchParam,\n    tags,\n    users,\n    showAll,\n    selectedQueueIds,\n    updateCount,\n    style,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile, queues, allTicket } = user;\n\n  // console.log(user)\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, tags, users, selectedQueueIds]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    tags: JSON.stringify(tags),\n    users: JSON.stringify(users),\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n  useEffect(() => {\n    const queueIds = queues.map((q) => q.id);\n    const filteredTickets = tickets.filter(\n      (t) => queueIds.indexOf(t.queueId) > -1\n    );\n      console.log(showAll)\n    console.log (tickets)\n    // if (profile === \"user\" && allTicket === \"disable\") {\n    //   dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n    // } else {\n      dispatch({ type: \"LOAD_TICKETS\", payload: tickets });\n    // }\n  }, [tickets, status, searchParam, queues, profile]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"connect\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      const queueIds = queues.map((q) => q.id);\n      if (\n        profile === \"user\" &&\n        (queueIds.indexOf(data.ticket.queue?.id) === -1 ||\n          data.ticket.queue === null)\n      ) {\n        return;\n      }\n\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues]);\n\n  useEffect(() => {\n    const count = ticketsList.filter(ticket => !ticket.isGroup).length;\n    if (typeof updateCount === \"function\") {\n      updateCount(count);\n    }\n  }, [ticketsList, updateCount]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {ticketsList\n                .filter(ticket => ticket.isGroup.toString() === \"false\")\n                .map(ticket => (\n                    <TicketListItem ticket={ticket} key={ticket.id} />\n              ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsListCustom;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    backgroundColor: theme.palette.tabHeaderBackground,\n    background: theme.palette.optionsBackground,\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    maxHeight: \"100%\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsListCustom = (props) => {\n  const {\n    status,\n    searchParam,\n    tags,\n    users,\n    showAll,\n    selectedQueueIds,\n    updateCount,\n    style,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, tags, users, selectedQueueIds]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    tags: JSON.stringify(tags),\n    users: JSON.stringify(users),\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n  useEffect(() => {\n    const queueIds = queues.map((q) => q.id);\n    const filteredTickets = tickets.filter(\n      (t) => queueIds.indexOf(t.queueId) > -1\n    );\n\n    if (profile === \"user\") {\n      dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n    } else {\n      dispatch({ type: \"LOAD_TICKETS\", payload: tickets });\n    }\n  }, [tickets, status, searchParam, queues, profile]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"connect\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      const queueIds = queues.map((q) => q.id);\n      if (\n        profile === \"user\" &&\n        (queueIds.indexOf(data.ticket.queue?.id) === -1 ||\n          data.ticket.queue === null)\n      ) {\n        return;\n      }\n\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues]);\n\n  useEffect(() => {\n    const count = ticketsList.filter(ticket => ticket.isGroup).length;\n    if (typeof updateCount === \"function\") {\n      updateCount(count);\n    }\n  }, [ticketsList, updateCount]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {ticketsList\n                .filter(ticket => ticket.isGroup.toString() === \"true\")\n                .map(ticket => (\n                    <TicketListItem ticket={ticket} key={ticket.id} />\n              ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsListCustom;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsFilter({ onFiltered }) {\n  const [tags, setTags] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadTags();\n    }\n    fetchData();\n  }, []);\n\n  const loadTags = async () => {\n    try {\n      const { data } = await api.get(`/tags/list`);\n      setTags(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: 10 }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={tags}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        renderTags={(value, getTagProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: option.color || \"#eee\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getTagProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Tags\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function UsersFilter({ onFiltered, initialUsers }) {\n  const [users, setUsers] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadUsers();\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    setSelecteds([]);\n    if (\n      Array.isArray(initialUsers) &&\n      Array.isArray(users) &&\n      users.length > 0\n    ) {\n      onChange(initialUsers);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialUsers, users]);\n\n  const loadUsers = async () => {\n    try {\n      const { data } = await api.get(`/users/list`);\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\n      setUsers(userList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={users}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        getOptionSelected={(option, value) => {\n          return (\n            option?.id === value?.id ||\n            option?.name.toLowerCase() === value?.name.toLowerCase()\n          );\n        }}\n        renderTags={(value, getUserProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: \"#bfbfbf\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getUserProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Users\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport PageviewIcon from '@material-ui/icons/Pageview';\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\nimport LibraryAddCheckIcon from '@material-ui/icons/LibraryAddCheck';\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsListCustom\";\nimport TicketsListGroup from \"../TicketsListGroup\";\n\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\nimport { TagsFilter } from \"../TagsFilter\";\nimport { UsersFilter } from \"../UsersFilter\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  tabsHeader: {\n    flex: \"none\",\n    backgroundColor: theme.palette.tabHeaderBackground,\n  },\n\n  settingsIcon: {\n    alignSelf: \"center\",\n    marginLeft: \"auto\",\n    padding: 8,\n  },\n\n  tab: {\n    minWidth: 70,\n    fontSize: 12,\n    marginLeft: 0,\n  },\n\n  tabPanelItem: {\n    minWidth: 80,\n    fontSize: 12,\n    marginLeft: 0,\n  },\n\n  ticketOptionsBox: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    background: theme.palette.optionsBackground,\n    padding: theme.spacing(1),\n  },\n\n  serachInputWrapper: {\n    flex: 1,\n    background: theme.palette.total,\n    display: \"flex\",\n    borderRadius: 40,\n    padding: 4,\n    marginRight: theme.spacing(1),\n  },\n\n  searchIcon: {\n    color: \"grey\",\n    marginLeft: 6,\n    marginRight: 6,\n    alignSelf: \"center\",\n  },\n\n  searchInput: {\n    flex: 1,\n    border: \"none\",\n    borderRadius: 30,\n  },\n\n  badge: {\n    right: \"-10px\",\n  },\n  show: {\n    display: \"block\",\n  },\n  hide: {\n    display: \"none !important\",\n  },\n}));\n\nconst TicketsManagerTabs = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\" || user.allUserChat === \"enabled\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map((t) => t.id);\n    setSelectedTags(tags);\n  };\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setSelectedUsers(users);\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(ticket) => {\n          console.log(\"ticket\", ticket);\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<LibraryBooksIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          \n          <Tab\n            value={\"closed\"}\n            icon={<LibraryAddCheckIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n\n\t\t      <Tab\n            value={\"group\"}\n            icon={<GroupIcon />}\n            label=\"Grupos\"\n            classes={{ root: classes.tab }}\n          />\n          \n          <Tab\n            value={\"search\"}\n            icon={<PageviewIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setNewTicketModalOpen(true)}\n            >\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\n            </Button>\n            <Can\n              role={user.allUserChat === 'enabled' && user.profile === 'user' ? 'admin' : user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n            name=\"open\"\n            classes={{ root: classes.tabPanelItem }}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n            name=\"pending\"\n            classes={{ root: classes.tabPanelItem }}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"group\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsListGroup\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsListGroup\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n        <TicketsListGroup\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TagsFilter onFiltered={handleSelectedTags} />\n        {profile === \"admin\" && (\n          <UsersFilter onFiltered={handleSelectedUsers} />\n        )}\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          tags={selectedTags}\n          users={selectedUsers}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManagerTabs;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\nimport { Grid } from \"@material-ui/core\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\twidth={160}\n\t\t\t\t\t\t\theight={160}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\n    textCenter: {\n        backgroundColor: 'red'\n    }\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\n\tconst classes = useStyles();\n\n\tconst [contact, setContact] = useState(initialContact);\n\n    useEffect(() => {\n        setContact(initialContact);\n    }, [initialContact]);\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contact.id) {\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n    return (\n        <Formik\n            initialValues={contact}\n            enableReinitialize={true}\n            validationSchema={ContactSchema}\n            onSubmit={(values, actions) => {\n                setTimeout(() => {\n                    handleSaveContact(values);\n                    actions.setSubmitting(false);\n                }, 400);\n            }}\n        >\n            {({ values, errors, touched, isSubmitting }) => (\n                <Form>\n                    <Grid container spacing={1}>\n                        {/* <Grid item xs={12}>\n                            <Typography variant=\"subtitle1\" gutterBottom>\n                                {i18n.t(\"contactModal.form.mainInfo\")}\n                            </Typography>\n                        </Grid> */}\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.name\")}\n                                name=\"name\"\n                                autoFocus\n                                error={touched.name && Boolean(errors.name)}\n                                helperText={touched.name && errors.name}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                className={classes.textField}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.number\")}\n                                name=\"number\"\n                                error={touched.number && Boolean(errors.number)}\n                                helperText={touched.number && errors.number}\n                                placeholder=\"5513912344321\"\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.email\")}\n                                name=\"email\"\n                                error={touched.email && Boolean(errors.email)}\n                                helperText={touched.email && errors.email}\n                                placeholder=\"Email address\"\n                                fullWidth\n                                margin=\"dense\"\n                                variant=\"outlined\"\n                            />\n                        </Grid>\n                        <Grid item xs={12} spacing={1}>\n                            <Grid container spacing={1}>\n                                <Grid xs={6} item>\n                                    <Button\n                                        onClick={onCancel}\n                                        color=\"secondary\"\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    >\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\n                                    </Button>\n                                </Grid>\n                                <Grid classes={classes.textCenter} xs={6} item>\n                                    <Button\n                                        type=\"submit\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        variant=\"contained\"\n                                        className={classes.btnWrapper}\n                                        fullWidth\n                                    >\n                                        {contact.id\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                                        {isSubmitting && (\n                                            <CircularProgress\n                                                size={24}\n                                                className={classes.buttonProgress}\n                                            />\n                                        )}\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n    inline: {\n        width: '100%'\n    }\n}));\n\nexport default function ContactNotesDialogListItem (props) {\n    const { note, deleteItem } = props;\n    const classes = useStyles();\n\n    const handleDelete = (item) => {\n        deleteItem(item);\n    }\n\n    return (\n        <ListItem alignItems=\"flex-start\">\n            <ListItemAvatar>\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <>\n                        <Typography\n                            component=\"span\"\n                            variant=\"body2\"\n                            className={classes.inline}\n                            color=\"textPrimary\"\n                        >\n                            {note.note}\n                        </Typography>\n                    </>\n                }\n                secondary={\n                    <>\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\n                    </>\n                }\n            />\n            <ListItemSecondaryAction>\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\n                    <DeleteIcon />\n                </IconButton>\n            </ListItemSecondaryAction>\n        </ListItem>\n    )   \n}\n\nContactNotesDialogListItem.propTypes = {\n    note: PropTypes.object.isRequired,\n    deleteItem: PropTypes.func.isRequired\n}","import api from \"../../services/api\";\n\nconst useTicketNotes = () => {\n\n    const saveNote = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/ticket-notes',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteNote = async (id) => {\n        const { data } = await api.request({\n            url: `/ticket-notes/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const listNotes = async (params) => {\n        const { data } = await api.request({\n            url: '/ticket-notes/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        saveNote,\n        deleteNote,\n        listNotes\n    }\n}\n\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\nimport ConfirmationModal from '../ConfirmationModal';\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ButtonWithSpinner from '../ButtonWithSpinner';\n\nimport useTicketNotes from '../../hooks/useTicketNotes';\nimport { Grid } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '350px',\n        },\n    },\n    list: {\n        width: '100%',\n        maxWidth: '350px',\n        maxHeight: '200px',\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto'\n    },\n    inline: {\n        width: '100%'\n    }\n}));\n\nconst NoteSchema = Yup.object().shape({\n\tnote: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.required(\"Required\")\n});\nexport function ContactNotes ({ ticket }) {\n    const { id: ticketId, contactId } = ticket\n    const classes = useStyles()\n    const [newNote, setNewNote] = useState({ note: \"\" });\n    const [loading, setLoading] = useState(false)\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\n    const [selectedNote, setSelectedNote] = useState({})\n    const [notes, setNotes] = useState([])\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\n\n    useEffect(() => {\n        async function openAndFetchData () {\n            handleResetState()\n            await loadNotes()\n        }\n        openAndFetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleResetState = () => {\n        setNewNote({ note: \"\" })\n        setLoading(false)\n    }\n\n    const handleChangeComment = (e) => {\n        setNewNote({ note: e.target.value })\n    }\n\n    const handleSave = async values => {\n        setLoading(true)\n        try {\n            await saveNote({\n                ...values,\n                ticketId,\n                contactId\n            })\n            await loadNotes()\n            setNewNote({ note: '' })\n            toast.success('Observação adicionada com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDialogDelete = (item) => {\n        setSelectedNote(item)\n        setShowOnDeleteDialog(true)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await deleteNote(selectedNote.id)\n            await loadNotes()\n            setSelectedNote({})\n            toast.success('Observação excluída com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const loadNotes = async () => {\n        setLoading(true)\n        try {\n            const notes = await listNotes({ ticketId, contactId })\n            setNotes(notes)\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const renderNoteList = () => {\n        return notes.map((note) => {\n            return <ContactNotesDialogListItem\n                note={note}\n                key={note.id}\n                deleteItem={handleOpenDialogDelete}\n            />\n        })\n    }\n\n    return (\n        <>\n            <ConfirmationModal\n                title=\"Excluir Registro\"\n                open={showOnDeleteDialog}\n                onClose={setShowOnDeleteDialog}\n                onConfirm={handleDelete}\n            >\n                Deseja realmente excluir este registro?\n            </ConfirmationModal>\n            <Formik\n                initialValues={newNote}\n                enableReinitialize={true}\n                validationSchema={NoteSchema}\n                onSubmit={(values, actions) => {\n                    setTimeout(() => {\n                        handleSave(values);\n                        actions.setSubmitting(false);\n                    }, 400);\n                }}\n            >\n\n                {({ touched, errors, setErrors }) => (\n                    <Form>\n                        <Grid container spacing={2}>\n                            <Grid xs={12} item>\n                                <Field\n                                    as={TextField}\n                                    name=\"note\"\n                                    rows={3}\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\n                                    multiline={true}\n                                    error={touched.note && Boolean(errors.note)}\n                                    helperText={touched.note && errors.note}\n                                    variant=\"outlined\"\n                                    onChange={handleChangeComment}\n                                    fullWidth\n                                />\n                            </Grid>\n                            { notes.length > 0 && (\n                                <Grid xs={12} item>\n                                    <List className={classes.list}>\n                                        { renderNoteList() }\n                                    </List>\n                                </Grid>\n                            ) }\n                            <Grid xs={12} item>\n                                <Grid container spacing={2}>\n                                    <Grid xs={6} item>\n                                        <Button\n                                            onClick={() => {\n                                                setNewNote(\"\");\n                                                setErrors({});\n                                            }}\n                                            color=\"primary\"\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        >\n                                            Cancelar\n                                        </Button>\n                                    </Grid>\n                                    <Grid xs={6} item>\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\n                                            Salvar\n                                        </ButtonWithSpinner>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Form>\n                )}\n            </Formik>\n        </>\n    );\n}","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CreateIcon from '@material-ui/icons/Create';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { CardHeader } from \"@material-ui/core\";\nimport { ContactForm } from \"../ContactForm\";\nimport ContactModal from \"../ContactModal\";\nimport { ContactNotes } from \"../ContactNotes\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: \"#eee\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 160,\n\t\theight: 160,\n\t\tborderRadius: 10,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\tconst [openForm, setOpenForm] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetOpenForm(false);\n\t}, [open, contact]);\n\n\treturn (\n\t\t<>\n\t\t\t<Drawer\n\t\t\t\tclassName={classes.drawer}\n\t\t\t\tvariant=\"persistent\"\n\t\t\t\tanchor=\"right\"\n\t\t\t\topen={open}\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tModalProps={{\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t\t}}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.header}>\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t\t) : (\n\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\t\tonClick={() => {}}\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" style={{ width: 60, height: 60 }} />}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{fontSize: 16, marginLeft: 5}} />\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\n\t\t\t\t\t\t\t\tstyle={{fontSize: 12}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{marginBottom: 10}}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Drawer>\n\t\t</>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import api from \"../../services/api\";\n\nconst useQuickMessages = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/quick-messages',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/quick-messages/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteRecord = async (id) => {\n        const { data } = await api.request({\n            url: `/quick-messages/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/quick-messages/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        save,\n        update,\n        deleteRecord,\n        list\n    }\n}\n\nexport default useQuickMessages;","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { isString, isEmpty, isObject, has } from \"lodash\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: theme.palette.tabHeaderBackground,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n\n  newMessageBox: {\n    background: theme.palette.tabHeaderBackground,\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    // background: \"#fff\",\n    background: theme.palette.total,\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    // color: \"grey\",\n    color: theme.palette.messageIcons,\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    // backgroundColor: \"#eee\",\n    backgroundColor: theme.palette.tabHeaderBackground,\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n}));\n\nconst EmojiOptions = (props) => {\n  const { disabled, showEmoji, setShowEmoji, handleAddEmoji } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <IconButton\n        aria-label=\"emojiPicker\"\n        component=\"span\"\n        disabled={disabled}\n        onClick={(e) => setShowEmoji((prevState) => !prevState)}\n      >\n        <MoodIcon className={classes.sendMessageIcons} />\n      </IconButton>\n      {showEmoji ? (\n        <div className={classes.emojiBox}>\n          <Picker\n            perLine={16}\n            showPreview={false}\n            showSkinTones={false}\n            onSelect={handleAddEmoji}\n          />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nconst SignSwitch = (props) => {\n  const { width, setSignMessage, signMessage } = props;\n  if (isWidthUp(\"md\", width)) {\n    return (\n      <FormControlLabel\n        style={{ marginRight: 7, color: \"gray\" }}\n        label={i18n.t(\"messagesInput.signMessage\")}\n        labelPlacement=\"start\"\n        control={\n          <Switch\n            size=\"small\"\n            checked={signMessage}\n            onChange={(e) => {\n              setSignMessage(e.target.checked);\n            }}\n            name=\"showAllTickets\"\n            color=\"primary\"\n          />\n        }\n      />\n    );\n  }\n  return null;\n};\n\nconst FileInput = (props) => {\n  const { handleChangeMedias, disableOption } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <input\n        multiple\n        type=\"file\"\n        id=\"upload-button\"\n        disabled={disableOption()}\n        className={classes.uploadInput}\n        onChange={handleChangeMedias}\n      />\n      <label htmlFor=\"upload-button\">\n        <IconButton\n          aria-label=\"upload\"\n          component=\"span\"\n          disabled={disableOption()}\n        >\n          <AttachFileIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </label>\n    </>\n  );\n};\n\nconst ActionButtons = (props) => {\n  const {\n    inputMessage,\n    loading,\n    recording,\n    ticketStatus,\n    handleSendMessage,\n    handleCancelAudio,\n    handleUploadAudio,\n    handleStartRecording,\n  } = props;\n  const classes = useStyles();\n  if (inputMessage) {\n    return (\n      <IconButton\n        aria-label=\"sendMessage\"\n        component=\"span\"\n        onClick={handleSendMessage}\n        disabled={loading}\n      >\n        <SendIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  } else if (recording) {\n    return (\n      <div className={classes.recorderWrapper}>\n        <IconButton\n          aria-label=\"cancelRecording\"\n          component=\"span\"\n          fontSize=\"large\"\n          disabled={loading}\n          onClick={handleCancelAudio}\n        >\n          <HighlightOffIcon className={classes.cancelAudioIcon} />\n        </IconButton>\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.audioLoading} />\n          </div>\n        ) : (\n          <RecordingTimer />\n        )}\n\n        <IconButton\n          aria-label=\"sendRecordedAudio\"\n          component=\"span\"\n          onClick={handleUploadAudio}\n          disabled={loading}\n        >\n          <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n        </IconButton>\n      </div>\n    );\n  } else {\n    return (\n      <IconButton\n        aria-label=\"showRecorder\"\n        component=\"span\"\n        disabled={loading || ticketStatus !== \"open\"}\n        onClick={handleStartRecording}\n      >\n        <MicIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  }\n};\n\nconst CustomInput = (props) => {\n  const {\n    loading,\n    inputRef,\n    ticketStatus,\n    inputMessage,\n    setInputMessage,\n    handleSendMessage,\n    handleInputPaste,\n    disableOption,\n  } = props;\n  const classes = useStyles();\n  const [quickMessages, setQuickMessages] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  const { user } = useContext(AuthContext);\n\n  const { list: listQuickMessages } = useQuickMessages();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listQuickMessages({ companyId, userId: user.id });\n      const options = messages.map((m) => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 35) {\n          truncatedMessage = m.message.substring(0, 35) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n        };\n      });\n      setQuickMessages(options);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (\n      isString(inputMessage) &&\n      !isEmpty(inputMessage) &&\n      inputMessage.length > 1\n    ) {\n      const firstWord = inputMessage.charAt(0);\n      setPopupOpen(firstWord.indexOf(\"/\") > -1);\n\n      const filteredOptions = quickMessages.filter(\n        (m) => m.label.indexOf(inputMessage) > -1\n      );\n      setOptions(filteredOptions);\n    } else {\n      setPopupOpen(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n\n  const onKeyPress = (e) => {\n    if (loading || e.shiftKey) return;\n    else if (e.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n\n  const onPaste = (e) => {\n    if (ticketStatus === \"open\") {\n      handleInputPaste(e);\n    }\n  };\n\n  const renderPlaceholder = () => {\n    if (ticketStatus === \"open\") {\n      return i18n.t(\"messagesInput.placeholderOpen\");\n    }\n    return i18n.t(\"messagesInput.placeholderClosed\");\n  };\n\n  const setInputRef = (input) => {\n    if (input) {\n      input.focus();\n      inputRef.current = input;\n    }\n  };\n\n  return (\n    <div className={classes.messageInputWrapper}>\n      <Autocomplete\n        freeSolo\n        open={popupOpen}\n        id=\"grouped-demo\"\n        value={inputMessage}\n        options={options}\n        closeIcon={null}\n        getOptionLabel={(option) => {\n          if (isObject(option)) {\n            return option.label;\n          } else {\n            return option;\n          }\n        }}\n        onChange={(event, opt) => {\n          if (isObject(opt) && has(opt, \"value\")) {\n            setInputMessage(opt.value);\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          }\n        }}\n        onInputChange={(event, opt, reason) => {\n          if (reason === \"input\") {\n            setInputMessage(event.target.value);\n          }\n        }}\n        onPaste={onPaste}\n        onKeyPress={onKeyPress}\n        style={{ width: \"100%\" }}\n        renderInput={(params) => {\n          const { InputLabelProps, InputProps, ...rest } = params;\n          return (\n            <InputBase\n              {...params.InputProps}\n              {...rest}\n              disabled={disableOption()}\n              inputRef={setInputRef}\n              placeholder={renderPlaceholder()}\n              multiline\n              className={classes.messageInput}\n              maxRows={5}\n            />\n          );\n        }}\n      />\n    </div>\n  );\n};\n\nconst MessageInputCustom = (props) => {\n  const { ticketStatus, ticketId } = props;\n  const classes = useStyles();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const inputRef = useRef();\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n  const [signMessage, setSignMessage] = useState();\n  // const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    async function fetchData() {\n      const { data } = await api.get(\"/settings/sendSignMessage\");\n\n      if (data.value === \"disabled\") {\n        setSignMessage(false)\n      } else {\n        setSignMessage(true)\n      }\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  // const handleChangeInput = e => {\n  // \tif (isObject(e) && has(e, 'value')) {\n  // \t\tsetInputMessage(e.value);\n  // \t} else {\n  // \t\tsetInputMessage(e.target.value)\n  // \t}\n  // };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const disableOption = () => {\n    return loading || recording || ticketStatus !== \"open\";\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <EmojiOptions\n            disabled={disableOption()}\n            handleAddEmoji={handleAddEmoji}\n            showEmoji={showEmoji}\n            setShowEmoji={setShowEmoji}\n          />\n\n          <FileInput\n            disableOption={disableOption}\n            handleChangeMedias={handleChangeMedias}\n          />\n\n          {/* AQUI */}\n          {signMessage && (\n            <SignSwitch\n              width={props.width}\n              setSignMessage={setSignMessage}\n              signMessage={signMessage}\n            />\n          )}\n\n          <CustomInput\n            loading={loading}\n            inputRef={inputRef}\n            ticketStatus={ticketStatus}\n            inputMessage={inputMessage}\n            setInputMessage={setInputMessage}\n            // handleChangeInput={handleChangeInput}\n            handleSendMessage={handleSendMessage}\n            handleInputPaste={handleInputPaste}\n            disableOption={disableOption}\n          />\n\n          <ActionButtons\n            inputMessage={inputMessage}\n            loading={loading}\n            recording={recording}\n            ticketStatus={ticketStatus}\n            handleSendMessage={handleSendMessage}\n            handleCancelAudio={handleCancelAudio}\n            handleUploadAudio={handleUploadAudio}\n            handleStartRecording={handleStartRecording}\n          />\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default withWidth()(MessageInputCustom);\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n  trim: true,\n});\n\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid }) => {\n  const history = useHistory();\n  const [options, setOptions] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [allQueues, setAllQueues] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const classes = useStyles();\n  const { findAll: findAllQueues } = useQueues();\n  const isMounted = useRef(true);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam },\n          });\n          setOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setSelectedUser(null);\n  };\n\n  const handleSaveTicket = async (e) => {\n    e.preventDefault();\n    if (!ticketid) return;\n    if (!selectedQueue || selectedQueue === \"\") return;\n    setLoading(true);\n    try {\n      let data = {};\n\n      if (selectedUser) {\n        data.userId = selectedUser.id;\n      }\n\n      if (selectedQueue && selectedQueue !== null) {\n        data.queueId = selectedQueue;\n\n        if (!selectedUser) {\n          data.status = \"pending\";\n          data.userId = null;\n        }\n      }\n\n      await api.put(`/tickets/${ticketid}`, data);\n\n      history.push(`/tickets`);\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n  };\n\n  return (\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n      <form onSubmit={handleSaveTicket}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"transferTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Autocomplete\n            style={{ width: 300, marginBottom: 20 }}\n            getOptionLabel={(option) => `${option.name}`}\n            onChange={(e, newValue) => {\n              setSelectedUser(newValue);\n              if (newValue != null && Array.isArray(newValue.queues)) {\n                setQueues(newValue.queues);\n              } else {\n                setQueues(allQueues);\n                setSelectedQueue(\"\");\n              }\n            }}\n            options={options}\n            filterOptions={filterOptions}\n            freeSolo\n            autoHighlight\n            noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n            loading={loading}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={(e) => setSearchParam(e.target.value)}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n          <FormControl variant=\"outlined\" className={classes.maxWidth}>\n            <InputLabel>\n              {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n            </InputLabel>\n            <Select\n              value={selectedQueue}\n              onChange={(e) => setSelectedQueue(e.target.value)}\n              label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n            >\n              {queues.map((queue) => (\n                <MenuItem key={queue.id} value={queue.id}>\n                  {queue.name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"transferTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"submit\"\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"transferTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default TransferTicketModalCustom;","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { FormControl } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport moment from \"moment\"\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isArray, capitalize } from \"lodash\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst ScheduleSchema = Yup.object().shape({\n\tbody: Yup.string()\n\t\t.min(5, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\"),\n\tcontactId: Yup.number().required(\"Obrigatório\"),\n\tsendAt: Yup.string().required(\"Obrigatório\")\n});\n\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\n\tconst initialState = {\n\t\tbody: \"\",\n\t\tcontactId: \"\",\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\n\t\tsentAt: \"\"\n\t};\n\n\tconst initialContact = {\n\t\tid: \"\",\n\t\tname: \"\"\n\t}\n\n\tconst [schedule, setSchedule] = useState(initialState);\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\n\tconst [contacts, setContacts] = useState([initialContact]);\n\n\tuseEffect(() => {\n\t\tif (contactId && contacts.length) {\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\n\t\t\tif (contact) {\n\t\t\t\tsetCurrentContact(contact);\n\t\t\t}\n\t\t}\n\t}, [contactId, contacts]);\n\n\tuseEffect(() => {\n\t\tconst { companyId } = user;\n\t\tif (open) {\n\t\t\ttry {\n\t\t\t\t(async () => {\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\n\t\t\t\t\tlet customList = contactList.map((c) => ({id: c.id, name: c.name}));\n\t\t\t\t\tif (isArray(customList)) {\n\t\t\t\t\t\tsetContacts([{id: \"\", name: \"\"}, ...customList]);\n\t\t\t\t\t}\n\t\t\t\t\tif (contactId) {\n\t\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!scheduleId) return;\n\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\n\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\n\t\t\t\t\t});\n\t\t\t\t\tsetCurrentContact(data.contact);\n\t\t\t\t})()\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\t}, [scheduleId, contactId, open, user]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSchedule(initialState);\n\t};\n\n\tconst handleSaveSchedule = async values => {\n\t\tconst scheduleData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (scheduleId) {\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/schedules\", scheduleData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t\tif (contactId) {\n\t\t\t\tif (typeof cleanContact === 'function') {\n\t\t\t\t\tcleanContact();\n\t\t\t\t\thistory.push('/schedules');\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetCurrentContact(initialContact);\n\t\tsetSchedule(initialState);\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={schedule}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveSchedule(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\trows={9}\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t  shrink: true,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{ (schedule.sentAt === null || schedule.sentAt === \"\") && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{scheduleId\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ScheduleModal;","import api from \"../../services/api\";\n\nconst useSettings = () => {\n\n    const getAll = async (params) => {\n        const { data } = await api.request({\n            url: '/settings',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/settings/${data.key}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n\t\tgetAll,\n        update\n    }\n}\n\nexport default useSettings;","import React, { useContext, useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { Can } from \"../Can\";\nimport { makeStyles, createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport useSettings from \"../../hooks/useSettings\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { green } from '@material-ui/core/colors';\nimport * as Yup from \"yup\";\nimport { Formik, Form } from \"formik\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\n\n//icones\nimport EventIcon from \"@material-ui/icons/Event\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport CancelPresentationIcon from \"@material-ui/icons/CancelPresentation\";\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\nimport CachedOutlinedIcon from \"@material-ui/icons/CachedOutlined\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport UndoIcon from '@material-ui/icons/Undo';\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport UndoRoundedIcon from '@material-ui/icons/UndoRounded';\n\nimport ScheduleModal from \"../ScheduleModal\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { Switch } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n    actionButtons: {\n        marginRight: 6,\n        flex: \"none\",\n        alignSelf: \"center\",\n        marginLeft: \"auto\",\n        // flexBasis: \"50%\",\n        display: \"flex\",\n        \"& > *\": {\n            margin: theme.spacing(1),\n        },\n    },\n    bottomButtonVisibilityIcon: {\n        padding: 1,\n    },\n    botoes: {\n        display: \"flex\",\n        padding: \"15px\",\n        justifyContent: \"flex-end\",\n        // alignItems: \"center\"\n\n    }\n}));\n\nconst SessionSchema = Yup.object().shape({\n    ratingId: Yup.string().required(\"Avaliação obrigatória\"),\n});\n\nconst TicketActionButtonsCustom = ({ ticket }) => {\n    const classes = useStyles();\n    const history = useHistory();\n    const isMounted = useRef(true);\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const ticketOptionsMenuOpen = Boolean(anchorEl);\n    const { user } = useContext(AuthContext);\n    const { setCurrentTicket } = useContext(TicketsContext);\n    const [initialState, setInitialState] = useState({ ratingId: \"\" });\n    const [dataRating, setDataRating] = useState([]);\n    const [open, setOpen] = React.useState(false);\n    const formRef = React.useRef(null);\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\n    const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n    const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n    const [contactId, setContactId] = useState(null);\n    const [acceptAudioMessage, setAcceptAudio] = useState(ticket.contact.acceptAudioMessage);\n    const [showSchedules, setShowSchedules] = useState(false);\n    const [ratings, setRatings] = useState(false);\n\n    const { getAll: getAllSettings } = useSettings();\n    const { getPlanCompany } = usePlans();\n\n    useEffect(() => {\n\n        async function fetchData() {\n            const settingList = await getAllSettings();\n            const setting = settingList.find(setting => setting.key === \"userRating\");\n            if (setting.value === \"enabled\") {\n                setRatings(true);\n            }\n        }\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const customTheme = createTheme({\n        palette: {\n            primary: green,\n        }\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            const companyId = localStorage.getItem(\"companyId\");\n            const planConfigs = await getPlanCompany(undefined, companyId);\n            setShowSchedules(planConfigs.plan.useSchedules);\n        }\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const loadRatings = async () => {\n        try {\n            const { data } = await api.get(`/ratings/list`);\n            setDataRating(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const handleClickOpen = async (e) => {\n        const settingList = await getAllSettings();\n        const setting = settingList.find(setting => setting.key === \"userRating\");\n        if (setting.value === \"enabled\") {\n            setInitialState({\n                ratingId: \"\"\n            });\n            await loadRatings();\n            setOpen(true);\n        } else {\n            setOpen(true);\n            // handleUpdateTicketStatus(e, \"closed\", user?.id);\n        }\n    };\n\n    const handleClose = () => {\n        formRef.current.resetForm();\n        setOpen(false);\n    };\n\n    const handleOpenScheduleModal = () => {\n        if (typeof handleClose == \"function\") handleClose();\n        setContactId(ticket.contact.id);\n        setScheduleModalOpen(true);\n    }\n\n    const handleCloseScheduleModal = () => {\n        setScheduleModalOpen(false);\n        setContactId(null);\n    }\n\n    const handleOpenTicketOptionsMenu = e => {\n        setAnchorEl(e.currentTarget);\n    };\n\n    const handleOpenTransferModal = (e) => {\n        setTransferTicketModalOpen(true);\n        if (typeof handleClose == \"function\") handleClose();\n    };\n\n    const handleOpenConfirmationModal = (e) => {\n        setConfirmationOpen(true);\n        if (typeof handleClose == \"function\") handleClose();\n    };\n\n    const handleCloseTicketOptionsMenu = e => {\n        setAnchorEl(null);\n    };\n\n    const handleCloseTicketWithoutFarewellMsg = async () => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                status: \"closed\",\n                userId: user?.id || null,\n                sendFarewellMessage: false,\n                amountUsedBotQueues: 0\n            });\n\n            setLoading(false);\n            history.push(\"/tickets\");\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n    };\n\n    const handleContactToggleAcceptAudio = async () => {\n        try {\n            const contact = await api.put(`/contacts/toggleAcceptAudio/${ticket.contact.id}`);\n            setAcceptAudio(contact.data.acceptAudioMessage);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const handleCloseTransferTicketModal = () => {\n        if (isMounted.current) {\n            setTransferTicketModalOpen(false);\n        }\n    };\n\n    const handleDeleteTicket = async () => {\n        try {\n            await api.delete(`/tickets/${ticket.id}`);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const handleUpdateTicketStatus = async (e, status, userId) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${ticket.id}`, {\n                status: status,\n                userId: userId || null,\n            });\n\n            setLoading(false);\n            if (status === \"open\") {\n                setCurrentTicket({ ...ticket, code: \"#open\" });\n            } else {\n                setCurrentTicket({ id: null, code: null })\n                history.push(\"/tickets\");\n            }\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n    };\n\n    const handleSendRating = async (userId, ratingId) => {\n        handleClose();\n        setLoading(true);\n        try {\n            await api.post(`/ratings/messages/${ticket.id}`, {\n                userId: userId || null,\n                ratingId\n            });\n\n            setLoading(false);\n            history.push(\"/tickets\");\n        } catch (err) {\n            setLoading(false);\n            toastError(err);\n        }\n    };\n\n    return (\n        <>\n            <div className={classes.actionButtons}>\n                {ticket.status === \"closed\" && (\n                    <ButtonWithSpinner\n                        loading={loading}\n                        startIcon={<Replay />}\n                        size=\"small\"\n                        onClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n                    >\n                        {i18n.t(\"messagesList.header.buttons.reopen\")}\n                    </ButtonWithSpinner>\n                )}\n                {ticket.status === \"open\" && (\n                    <>\n                        <IconButton className={classes.bottomButtonVisibilityIcon}>\n                            <Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\n                                <HighlightOffIcon\n                                    color=\"primary\"\n                                    onClick={handleClickOpen}\n                                />\n                            </Tooltip>\n                        </IconButton>\n\n                        <IconButton className={classes.bottomButtonVisibilityIcon}>\n                            <Tooltip title=\"Devolver a Fila\">\n                                <UndoIcon\n                                    color=\"primary\"\n                                    onClick={(e) => handleUpdateTicketStatus(e, \"pending\", null)}\n                                />\n                            </Tooltip>\n                        </IconButton>\n\n                        <IconButton className={classes.bottomButtonVisibilityIcon}>\n                            <Tooltip title=\"Transferir Atendimento\">\n                                <CachedOutlinedIcon\n                                    color=\"primary\"\n                                    onClick={handleOpenTransferModal}\n                                />\n                            </Tooltip>\n                        </IconButton>\n\n                        {showSchedules && (\n                            <>\n                                <IconButton className={classes.bottomButtonVisibilityIcon}>\n                                    <Tooltip title=\"Agendamento\">\n                                        <EventIcon\n                                            color=\"primary\"\n                                            onClick={handleOpenScheduleModal}\n                                        />\n                                    </Tooltip>\n                                </IconButton>\n                            </>\n                        )}\n\n                        <MenuItem className={classes.bottomButtonVisibilityIcon}>\n                            <Tooltip title={i18n.t(\"ticketOptionsMenu.acceptAudioMessage\")}>\n                                <Switch\n                                    size=\"small\"\n                                    color=\"primary\"\n                                    checked={acceptAudioMessage}\n                                    onChange={() => handleContactToggleAcceptAudio()}\n                                />\n                            </Tooltip>\n                        </MenuItem>\n\n                        <Can\n                            role={user.profile}\n                            perform=\"ticket-options:deleteTicket\"\n                            yes={() => (\n                                <IconButton className={classes.bottomButtonVisibilityIcon}>\n                                    <Tooltip title=\"Deletar Ticket\">\n                                        <DeleteOutlineIcon\n                                            color=\"primary\"\n                                            onClick={handleOpenConfirmationModal}\n                                        />\n                                    </Tooltip>\n                                </IconButton>\n                            )}\n                        />\n\n                        <ConfirmationModal\n                            title={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")} #${ticket.id}?`}\n                            open={confirmationOpen}\n                            onClose={setConfirmationOpen}\n                            onConfirm={handleDeleteTicket}\n                        >\n                            {i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n                        </ConfirmationModal>\n                        <TransferTicketModalCustom\n                            modalOpen={transferTicketModalOpen}\n                            onClose={handleCloseTransferTicketModal}\n                            ticketid={ticket.id}\n                        />\n                        <ScheduleModal\n                            open={scheduleModalOpen}\n                            onClose={handleCloseScheduleModal}\n                            aria-labelledby=\"form-dialog-title\"\n                            contactId={contactId}\n                        />\n\n                    </>\n                )}\n                {ticket.status === \"pending\" && (\n                    <ButtonWithSpinner\n                        loading={loading}\n                        size=\"small\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n                    >\n                        {i18n.t(\"messagesList.header.buttons.accept\")}\n                    </ButtonWithSpinner>\n                )}\n            </div>\n            <>\n                <Formik\n                    initialValues={initialState}\n                    enableReinitialize={true}\n                    validationSchema={SessionSchema}\n                    innerRef={formRef}\n                    onSubmit={(values, actions) => {\n                        handleSendRating(user?.id, values.ratingId);\n                        setTimeout(() => {\n                            actions.setSubmitting(false);\n                            actions.resetForm();\n                        }, 400);\n                    }}\n                >\n                    {({ values, touched, errors, isSubmitting, setFieldValue, resetForm }) => (\n                        <Dialog\n                            open={open}\n                            onClose={handleClose}\n                            aria-labelledby=\"alert-dialog-title\"\n                            aria-describedby=\"alert-dialog-description\"\n                        >\n                            <Form>\n                                <DialogTitle \n                                    id=\"alert-dialog-title\">{ratings ? i18n.t(\"messagesList.header.dialogRatingTitle\") : i18n.t(\"messagesList.header.dialogClosingTitle\")}\n                                </DialogTitle>\n                                <DialogContent>\n                                    <DialogContentText id=\"alert-dialog-description\">\n                                        {ratings && (\n                                            <div style={{ marginTop: 8 }}>\n                                                <Autocomplete\n                                                    size=\"small\"\n                                                    options={dataRating}\n                                                    name=\"ratingId\"\n                                                    getOptionLabel={(option) => option.name}\n                                                    onChange={(e, value) => setFieldValue(\"ratingId\", value?.id || \"\")}\n                                                    renderInput={(params) => (\n                                                        <TextField\n                                                            {...params}\n                                                            error={touched.ratingId && Boolean(errors.ratingId)}\n                                                            helperText={touched.ratingId && errors.ratingId}\n                                                            variant=\"outlined\"\n                                                            placeholder={i18n.t(\"messagesList.header.ratingTitle\")}\n                                                        />\n                                                    )}\n                                                />\n                                            </div>\n                                        )}\n                                    </DialogContentText>\n                                </DialogContent>\n\n                                <DialogActions className={classes.botoes}>\n                                    <Button\n                                        onClick={e => handleCloseTicketWithoutFarewellMsg()}\n                                        style={{ background: \"#9200bf\", color: \"white\" }}\n                                    >\n                                        {i18n.t(\"messagesList.header.dialogRatingWithoutFarewellMsg\")}\n                                    </Button>\n\n                                    <Button\n                                        onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id, ticket?.queue?.id)}\n                                        style={{ background: \"#9200bf\", color: \"white\" }}\n                                    >\n                                        {i18n.t(\"messagesList.header.dialogRatingCancel\")}\n                                    </Button>\n\n                                    {ratings && (\n                                        <Button\n                                            disabled={isSubmitting}\n                                            variant=\"contained\"\n                                            type=\"submit\"\n                                            style={{ background: \"#9200bf\", color: \"white\" }}\n                                        >\n                                            {i18n.t(\"messagesList.header.dialogRatingSuccess\")}\n                                        </Button>\n                                    )}\n                                </DialogActions>\n                            </Form>\n                        </Dialog>\n                    )}\n                </Formik>\n            </>\n        </>\n    );\n};\n\nexport default TicketActionButtonsCustom;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { isArray, isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsContainer({ ticket }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        return () => {\n            isMounted.current = false\n        }\n    }, [])\n\n    useEffect(() => {\n        if (isMounted.current) {\n            loadTags().then(() => {\n                if (Array.isArray(ticket.tags)) {\n                    setSelecteds(ticket.tags);\n                } else {\n                    setSelecteds([]);\n                }\n            });\n        }\n    }, [ticket]);\n\n    const createTag = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const syncTags = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags/sync`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value, reason) => {\n        let optionsChanged = []\n        if (reason === 'create-option') {\n            if (isArray(value)) {\n                for (let item of value) {\n                    if (isString(item)) {\n                        const newTag = await createTag({ name: item })\n                        optionsChanged.push(newTag);\n                    } else {\n                        optionsChanged.push(item);\n                    }\n                }\n            }\n            await loadTags();\n        } else {\n            optionsChanged = value;\n        }\n        setSelecteds(optionsChanged);\n        await syncTags({ ticketId: ticket.id, tags: optionsChanged });\n    }\n\n    return (\n        <Paper style={{ padding: 2 }}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                freeSolo\n                onChange={(e, v, r) => onChange(v, r)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{\n                                backgroundColor: option.color || '#eee',\n                                color: \"#FFF\",\n                                marginRight: 1,\n                                padding: 1,\n                                fontWeight: 'bold',\n                                paddingLeft: 5,\n                                paddingRight: 5,\n                                borderRadius: 3,\n                                fontSize: \"0.8em\",\n                                whiteSpace: \"nowrap\"\n                            }}\n                            label={option.name}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tag\" />\n                )}\n                PaperComponent={({ children }) => (\n                    <Paper\n                        style={{ width: 400, marginLeft: 6 }}\n                    >\n                        {children}\n                    </Paper>\n                )}\n            />\n        </Paper>\n    )\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInputCustom/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TagsContainer } from \"../TagsContainer\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/u/\" + ticketId);\n          // const { queueId } = data;\n          // const { queues, profile } = user;\n\n          // const queueAllowed = queues.find((q) => q.id === queueId);\n          // if (queueAllowed === undefined && profile !== \"admin\") {\n          //   toast.error(\"Acesso não permitido\");\n          //   history.push(\"/tickets\");\n          //   return;\n          // }\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, user, history]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"update\") {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\") {\n        toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket, history]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n        <MessageInput ticketId={ticket.id} ticketStatus={ticket.status} />\n      </>\n    );\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          {renderTicketInfo()}\n          <TicketActionButtons ticket={ticket} />\n        </TicketHeader>\n        <Paper>\n          <TagsContainer ticket={ticket} />\n        </Paper>\n        <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n        ticket={ticket}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchatContainer: {\n\t\tflex: 1,\n\t\t// backgroundColor: \"#eee\",\n\t\tpadding: theme.spacing(4),\n\t\t// padding: \"2px\",\n\t\theight: `calc(100% - 48px)`,\n\t\toverflowY: \"hidden\",\n\t},\n\n\tchatPapper: {\n\t\t// backgroundColor: \"red\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t},\n\n\tcontactsWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflowY: \"hidden\",\n\t},\n\tmessagesWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t},\n\twelcomeMsg: {\n\t\t// backgroundColor: \"#eee\",\n\t\tbackground: theme.palette.tabHeaderBackground,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-evenly\",\n\t\talignItems: \"center\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t},\n}));\n\nconst TicketsCustom = () => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\n\treturn (\n\t\t<div className={classes.chatContainer}>\n\t\t\t<div className={classes.chatPapper}>\n\t\t\t\t<Grid container spacing={0}>\n\t\t\t\t\t<Grid item xs={4} className={classes.contactsWrapper}>\n\t\t\t\t\t\t<TicketsManager />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={8} className={classes.messagesWrapper}>\n\t\t\t\t\t\t{ticketId ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Ticket />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.welcomeMsg}>\n\t\t\t\t\t\t\t\t<span>{i18n.t(\"chat.noTicketMessage\")}</span>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TicketsCustom;\n","import { styled } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst TicketAdvancedLayout = styled(Paper)({\n    height: `calc(100% - 48px)`,\n    display: \"grid\",\n    gridTemplateRows: \"56px 1fr\"\n})\n\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\n\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n    },\n    content: {\n        overflow: \"auto\"\n    },\n    placeholderContainer: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"100%\",\n\t\t// backgroundColor: \"#eee\"\n        background: theme.palette.tabHeaderBackground,\n    },\n    placeholderItem: {\n    }\n}));\n\nconst TicketAdvanced = (props) => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\tconst [option, setOption] = useState(0);\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\n\n    useEffect(() => {\n        if(currentTicket.id !== null) {\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\n        }\n        if (!ticketId) {\n            setOption(1)\n        }\n        return () => {\n            setCurrentTicket({ id: null, code: null })\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            setOption(0)\n        }\n    }, [currentTicket])\n\n\tconst renderPlaceholder = () => {\n\t\treturn <Box className={classes.placeholderContainer}>\n            <div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div><br />\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\n                Selecionar Ticket\n            </Button>\n        </Box>\n\t}\n\n\tconst renderMessageContext = () => {\n\t\tif (ticketId) {\n\t\t\treturn <Ticket />\n\t\t}\n\t\treturn renderPlaceholder()\n\t}\n\n\tconst renderTicketsManagerTabs = () => {\n\t\treturn <TicketsManagerTabs />\n\t}\n\n\treturn (\n        <TicketAdvancedLayout>\n            <Box className={classes.header}>\n                <BottomNavigation\n                    value={option}\n                    onChange={(event, newValue) => {\n                        setOption(newValue);\n                    }}\n                    showLabels\n                    className={classes.root}\n                >\n                    <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\n                    <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\n                </BottomNavigation>\n            </Box>\n            <Box className={classes.content}>\n                { option === 0 ? renderMessageContext() : renderTicketsManagerTabs() }\n            </Box>\n        </TicketAdvancedLayout>\n\t);\n};\n\nexport default TicketAdvanced;\n","import React from \"react\";\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Tickets from \"../TicketsCustom\"\nimport TicketAdvanced from \"../TicketsAdvanced\";\n\nfunction TicketResponsiveContainer (props) {\n    if (isWidthUp('md', props.width)) {\n        return <Tickets />;    \n    }\n    return <TicketAdvanced />\n}\n\nexport default withWidth()(TicketResponsiveContainer);","import React, { useState, useEffect } from \"react\";\nimport qs from 'query-string'\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\nimport usePlans from \"../../hooks/usePlans\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport {\n    FormControl,\n    InputLabel,\n    MenuItem,\n    Select,\n} from \"@material-ui/core\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport { openApi } from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nimport logo from \"../../assets/logo.png\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: \"100vw\",\n        height: \"100vh\",\n        backgroundImage: \"url(https://blackzap.com.br/wp-content/uploads/2023/10/EU-INDICO-1.png)\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"100% 100%\",\n        backgroundPosition: \"center\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        textAlign: \"center\",\n    },\n    paper: {\n        backgroundColor: \"white\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: \"55px 30px\",\n        borderRadius: \"12.5px\",\n    },\n    avatar: {\n        margin: theme.spacing(1),  \n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: \"100%\",\n        marginTop: theme.spacing(2),\n    },\n    inputLabel: {\n        color: \"#ffffff\",\n    },\n    underline: {\n        \"&::before\": {\n            borderBottom: \"1px solid #ffffff\",\n        },\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    powered: {\n        color: \"#666666\",\n        textAlign: \"center\",\n        marginTop: \"20px\",\n    },\n    whatsappButton: {\n        background: \"#00826a\",\n        color: \"#ffffff\",\n        padding: \"10px 20px\",\n        borderRadius: \"5px\",\n        textDecoration: \"none\",\n        display: \"flex\",\n        textAlign: \"center\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        gap: \"8px\",\n        \"&:hover\": {\n            background: \"#0c6a58\",\n            textAlign: \"center\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n        },\n    },\n    logo: {\n        margin: \"10px auto\",\n        width: \"90%\",\n        display: \"block\",\n        transform: \"scale(0.7)\",\n    },\n}));\n\nconst handleNewUserMessage = newMessage => {\n    window.open(\n        `https://api.whatsapp.com/send?phone=5554999460162&text=${encodeURIComponent(newMessage)}`,\n      \"_blank\"\n    );\n};\n\nconst UserSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(2, \"Muito curto!\")\n        .max(50, \"Muito extenso!\")\n        .required(\"Obrigatório\"),\n    password: Yup.string().min(5, \"Muito curto!\").max(50, \"Muito extenso!\"),\n    email: Yup.string().email(\"Email inválido\").required(\"Obrigatório\"),\n});\n\nconst SignUp = () => {\n    const classes = useStyles();\n    const history = useHistory();\n    const { getPlanList } = usePlans();\n    const [loading, setLoading] = useState(false);\n    let companyId = null;\n\n    const params = qs.parse(window.location.search);\n    if (params.companyId !== undefined) {\n        companyId = params.companyId;\n    }\n\n    const initialState = { name: \"\", email: \"\", password: \"\", phone: \"\", companyId, companyName: \"\", planId: \"\" };\n\n    const [user] = useState(initialState);\n\n    // Defina um estado para a variável 'plans'\n    const [plans, setPlans] = useState([]);\n\n    useEffect(() => {\n        setLoading(true);\n        const fetchData = async () => {\n            const planList = await getPlanList();\n\n            setPlans(planList);\n            setLoading(false);\n        };\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    \n    const dueDate = moment().add(7, \"day\").format();\n    const handleSignUp = async values => {\n        Object.assign(values, { recurrence: \"MENSAL\" });\n        Object.assign(values, { dueDate: dueDate });\n        Object.assign(values, { status: \"t\" });\n        Object.assign(values, { campaignsEnabled: true });\n        try {\n            await openApi.post(\"/auth/signup\", values);\n            toast.success(i18n.t(\"signup.toasts.success\"));\n            history.push(\"/login\");\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const { list: listPlans } = usePlans();\n\n    useEffect(() => {\n        async function fetchData() {\n            const list = await listPlans({listPublic: \"false\"});\n            setPlans(list);\n        }\n        fetchData();\n    }, []);\n\n    return (\n        <div className={classes.root} >\n            <Container component=\"main\" maxWidth=\"xs\">\n                <CssBaseline />\n                <div className={classes.paper}>\n                    <div>\n                        <img style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }} src={logo} alt=\"Whats\" />\n                    </div>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        {i18n.t(\"signup.title\")}\n                    </Typography>\n                    <Formik\n                        initialValues={user}\n                        enableReinitialize={true}\n                        validationSchema={UserSchema}\n                        onSubmit={(values, actions) => {\n                            setTimeout(() => {\n                                handleSignUp(values);\n                                actions.setSubmitting(false);\n                            }, 400);\n                        }}\n                    >\n                        {({ touched, errors, isSubmitting }) => (\n                            <Form className={classes.form}>\n                                <Grid container spacing={2}>\n                                    <Grid item xs={12}>\n                                        <Field\n                                            as={TextField}\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            id=\"companyName\"\n                                            label={i18n.t(\"signup.form.company\")}\n                                            error={touched.companyName && Boolean(errors.companyName)}\n                                            helperText={touched.companyName && errors.companyName}\n                                            name=\"companyName\"\n                                            autoComplete=\"companyName\"\n                                            autoFocus\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <Field\n                                            as={TextField}\n                                            autoComplete=\"name\"\n                                            name=\"name\"\n                                            error={touched.name && Boolean(errors.name)}\n                                            helperText={touched.name && errors.name}\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            id=\"name\"\n                                            label={i18n.t(\"signup.form.name\")}\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <Field\n                                            as={TextField}\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            id=\"email\"\n                                            label={i18n.t(\"signup.form.email\")}\n                                            name=\"email\"\n                                            error={touched.email && Boolean(errors.email)}\n                                            helperText={touched.email && errors.email}\n                                            autoComplete=\"email\"\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <Field\n                                            as={TextField}\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            name=\"password\"\n                                            error={touched.password && Boolean(errors.password)}\n                                            helperText={touched.password && errors.password}\n                                            label={i18n.t(\"signup.form.password\")}\n                                            type=\"password\"\n                                            id=\"password\"\n                                            autoComplete=\"current-password\"\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <Field\n                                            as={TextField}\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            id=\"phone\"\n                                            label={i18n.t(\"signup.form.phone\")}\n                                            name=\"phone\"\n                                            autoComplete=\"phone\"\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n                                        <Field\n                                            as={Select}\n                                            variant=\"outlined\"\n                                            fullWidth\n                                            id=\"plan-selection\"\n                                            label=\"Plano\"\n                                            name=\"planId\"\n                                            required\n                                        >\n                                            {plans.map((plan, key) => (\n                                                <MenuItem key={key} value={plan.id}>\n                                                    {plan.name} - Atendentes: {plan.users} - Conexões: {plan.connections} - Filas: {plan.queues} - $ {plan.amount}\n                                                </MenuItem>\n                                            ))}\n                                        </Field>\n                                    </Grid>\n                                    <Button\n                                        type=\"submit\"\n                                        fullWidth\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        className={classes.submit}\n                                    >\n                                        {i18n.t(\"signup.buttons.submit\")}\n                                    </Button>\n                                    <Grid container justify=\"flex-end\">\n                                        <Grid item>\n                                            <Link\n                                                href=\"#\"\n                                                variant=\"body2\"\n                                                component={RouterLink}\n                                                to=\"/login\"\n                                            >\n                                                {i18n.t(\"signup.buttons.login\")}\n                                            </Link>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                            </Form>\n                        )}\n                    </Formik>\n                </div>\n            </Container>\n        </div>\n    );\n};\n\nexport default SignUp;\n","import React, { useState, useContext } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\"; // Ícone do WhatsApp\n\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport logo from \"../../assets/logo.png\";\nimport { Copyright } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n    background: \"#fafafa\",\n    minHeight: \"100vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n\tpaper: {\n\t\tbackgroundColor: \"white\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tpadding: \"55px 30px\",\n\t\tborderRadius: \"12.5px\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),  \n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(2),\n  },\n  inputLabel: {\n    color: \"#ffffff\", // Cor do texto branco\n  },\n  underline: {\n    \"&::before\": {\n      borderBottom: \"1px solid #ffffff\", // Cor do underline branco\n    },\n  },\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n  powered: {\n    color: \"#666666\",\n    textAlign: \"center\",\n    marginTop: \"20px\",\n  },\n  whatsappButton: {\n    background: \"#00826a\",\n    color: \"#ffffff\",\n    padding: \"10px 20px\",\n    borderRadius: \"5px\",\n    textDecoration: \"none\",\n    display: \"flex\",\n    textAlign: \"center\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    gap: \"8px\",\n    \"&:hover\": {\n      background: \"#0c6a58\",\n      textAlign: \"center\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n  },\n\n  logo: {\n    margin: \"10px auto\",\n    width: \"90%\",\n    display: \"block\",\n    transform: \"scale(0.7)\", // Reduz o tamanho em 30%\n  },\n}));\n\nconst Login = () => {\n\tconst classes = useStyles();\n\n\tconst [user, setUser] = useState({ email: \"\", password: \"\" });\n\n\tconst { handleLogin } = useContext(AuthContext);\n\n\tconst handleChangeInput = e => {\n\t\tsetUser({ ...user, [e.target.name]: e.target.value });\n\t};\n\n\tconst handlSubmit = e => {\n\t\te.preventDefault();\n\t\thandleLogin(user);\n\t};\n\n\treturn (\n\t    \n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<div>\n\t\t\t\t\t<img style={{ margin: \"0 auto\", height: '100%', width: '100%',alignSelf: 'center' }} src={logo} alt=\"Whats\" />\n\t\t\t\t</div>\n\t\t\t\t{/* <Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"login.title\")}\n\t\t\t\t</Typography> */}\n\t\t\t\t<form className={classes.form} noValidate onSubmit={handlSubmit}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tlabel={i18n.t(\"login.form.email\")}\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel={i18n.t(\"login.form.password\")}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tvalue={user.password}\n\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"login.buttons.submit\")}\n\t\t\t\t\t</Button>\n                    <Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\tto=\"/forgetpsw\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"Esqueci minha senha\")}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\tto=\"/signup\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"Não tem uma conta? Cadastre-se!\")}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t\n\t\t\t\t</form>\n\t\t\t</div>\n\n        <a\n          href={`https://wa.me/${process.env.REACT_APP_NUMBER_SUPPORT}`}\n          className={classes.whatsappButton}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <WhatsAppIcon /> Entrar em Contato pelo WhatsApp\n        </a>\n\t\t</Container>\n\t);\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainContainer: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2),\n\t\t//height: 'calc(100% - 48px)',\n\t\theight: \"100%\",\n\t},\n\n\tcontentWrapper: {\n\t\theight: \"100%\",\n\t\toverflowY: \"hidden\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n}));\n\nconst MainContainer = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Container className={classes.mainContainer}>\n\t\t\t<div className={classes.contentWrapper}>{children}</div>\n\t\t</Container>\n\t);\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  TextField,\n  Switch,\n  FormControlLabel,\n  Grid,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    gap: 4\n  },\n\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const inputFileRef = useRef(null);\n\n  const [attachment, setAttachment] = useState(null);\n  const [attachmentName, setAttachmentName] = useState('');\n\n  const classes = useStyles();\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    complationMessage: \"\",\n    outOfHoursMessage: \"\",\n    ratingMessage: \"\",\n    isDefault: false,\n    token: \"\",\n    maxUseBotQueues: \"\",\n    provider: \"beta\",\n    expiresTicket: 0\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\n        setWhatsApp(data);\n        try {\n          setAttachmentName(JSON.parse(data.greetingMediaAttachment));\n        } catch (err) {\n          setAttachmentName([data.greetingMediaAttachment]);\n        }\n\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  const handleSaveWhatsApp = async (values) => {\n    const whatsappData = { ...values, queueIds: selectedQueueIds };\n    delete whatsappData[\"queues\"];\n    delete whatsappData[\"session\"];\n    const localAttachmentName = attachmentName;\n    if (attachment != null) {\n      localAttachmentName.push(attachment.name);\n    }\n    whatsappData.greetingMediaAttachment = JSON.stringify(localAttachmentName);\n\n    try {\n      console.log('attachment', attachment);\n      console.log('whatsappData', whatsappData);\n      if (whatsAppId) {\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/whatsapp/${whatsAppId}/media-upload`, formData);\n        }\n        if(!attachmentName && (whatsApp.greetingMediaAttachment !== null)) {\n          await api.delete(`/whatsapp/${whatsAppId}/media-upload`);\n        }\n      } else {\n        const {data} = await api.post(\"/whatsapp\", whatsappData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/whatsapp/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n      handleClose();\n    } catch {\n    }\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n    inputFileRef.current.value = null\n    setAttachment(null)\n  };\n\n  const handleFileUpload = () => {\n    const file = inputFileRef.current.files[0];\n    setAttachment(file)\n    const currentAttachment = attachmentName;\n    if (currentAttachment) {\n      currentAttachment.push(file.name)\n    } else {\n      currentAttachment = [file.name]\n    }\n    setAttachmentName(currentAttachment)\n    inputFileRef.current.value = null\n  };\n\n  const handleDeleFile = (index) => {\n    const currentAttachment = attachmentName instanceof Array ? attachmentName : [attachmentName];\n    currentAttachment.splice(index, 1);\n    console.log('currentAttachment', currentAttachment);\n    setAttachment(null)\n    setAttachmentName([...currentAttachment]);\n  }\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n\n                {/* NOME E PADRAO */}\n                <div className={classes.multFieldLine}>\n                  <Grid spacing={2} container>\n                    <Grid item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.name\")}\n                        autoFocus\n                        name=\"name\"\n                        error={touched.name && Boolean(errors.name)}\n                        helperText={touched.name && errors.name}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.textField}\n                      />\n                    </Grid>\n                    <Grid style={{ paddingTop: 15 }} item>\n                      <FormControlLabel\n                        control={\n                          <Field\n                            as={Switch}\n                            color=\"primary\"\n                            name=\"isDefault\"\n                            checked={values.isDefault}\n                          />\n                        }\n                        label={i18n.t(\"whatsappModal.form.default\")}\n                      />\n                    </Grid>\n                    <Grid item>\n                      <Field\n                        as={TextField}\n                        label={'Encerrar chat após x horas'}\n                        name=\"expiresTicket\"\n                        error={touched.expiresTicket && Boolean(errors.expiresTicket)}\n                        helperText={touched.expiresTicket && errors.expiresTicket}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.textFieldTime}\n                      />\n\n                    </Grid>                    \n                  </Grid>\n                </div>\n                {attachmentName && (\n                  <>\n                  {attachmentName?.map((file, index) => (\n                    <div key={index}\n                    style={{display: 'flex', flexDirection: 'row-reverse'}}\n                  >\n                    <Button\n                      variant='outlined'\n                      color=\"primary\"\n                      endIcon={<DeleteOutlineIcon />}\n                      onClick={() => handleDeleFile(index)}\n                    >\n                      {file}\n                    </Button>\n                  </div>\n                  ))}\n                  </>\n                )}\n\n                {/* MENSAGEM DE SAUDAÇÃO */}\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div\n                  style={{display: 'flex', flexDirection: \"column-reverse\"}}\n                >\n                  <input\n                    type=\"file\"\n                    accept=\"video/*,image/*,audio/*\"\n                    ref={inputFileRef}\n                    style={{ display: 'none' }}\n                    onChange={handleFileUpload}\n                  />\n                </div>\n\n                {/* MENSAGEM DE CONCLUSÃO */}\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.complationMessage\")}\n                    type=\"complationMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"complationMessage\"\n                    error={\n                      touched.complationMessage &&\n                      Boolean(errors.complationMessage)\n                    }\n                    helperText={\n                      touched.complationMessage && errors.complationMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n\n                {/* MENSAGEM DE FORA DE EXPEDIENTE */}\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.outOfHoursMessage\")}\n                    type=\"outOfHoursMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"outOfHoursMessage\"\n                    error={touched.outOfHoursMessage && Boolean(errors.outOfHoursMessage)}\n                    helperText={touched.outOfHoursMessage && errors.outOfHoursMessage}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n\n                {/* TOKEN */}\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.token\")}\n                    type=\"token\"\n                    fullWidth\n                    name=\"token\"\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n\n                {/* QUANTIDADE MÁXIMA DE VEZES QUE O CHATBOT VAI SER ENVIADO */}\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.maxUseBotQueues\")}\n                    type=\"maxUseBotQueues\"\n                    fullWidth\n                    name=\"maxUseBotQueues\"\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    error={touched.maxUseBotQueues && Boolean(errors.maxUseBotQueues)}\n                    helperText={touched.maxUseBotQueues && errors.maxUseBotQueues}\n                  />\n                </div>\n\n                {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.expiresTicket\")}\n                    type=\"expiresTicket\"\n                    fullWidth\n                    name=\"expiresTicket\"\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    error={touched.expiresTicket && Boolean(errors.expiresTicket)}\n                    helperText={touched.expiresTicket && errors.expiresTicket}\n                  />\n                </div>\n\n                {/*  */}\n                <QueueSelect\n                  selectedQueueIds={selectedQueueIds}\n                  onChange={(selectedIds) => setSelectedQueueIds(selectedIds)}\n                />\n\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n  const [qrCode, setQrCode] = useState(\"\");\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\n        setQrCode(data.qrcode);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    if (!whatsAppId) return;\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\n        setQrCode(data.session.qrcode);\n      }\n\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\n        onClose();\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [whatsAppId, onClose]);\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n      <DialogContent>\n        <Paper elevation={0}>\n          <Typography color=\"primary\" gutterBottom>\n            {i18n.t(\"qrCode.message\")}\n          </Typography>\n          {qrCode ? (\n            <QRCode value={qrCode} size={256} />\n          ) : (\n            <span>Aguardando o QR Code</span>\n          )}\n        </Paper>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default React.memo(QrcodeModal);\n","class FormatMask {\n  setPhoneFormatMask(phoneToFormat) {\n\n    if(!phoneToFormat || phoneToFormat.length < 12){\n      return;\n    }\n\n    const number = (\"\" + phoneToFormat).replace(/\\D/g, \"\");\n\n    if (number.length <= 12) {\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{4})(\\d{4})$/);\n      return (\n        \"+\" +\n        phoneNumberFormatted[1] +\n        \" (\" +\n        phoneNumberFormatted[2] +\n        \") \" +\n        phoneNumberFormatted[3] +\n        \"-\" +\n        phoneNumberFormatted[4]\n      );\n    }else if(number.length === 13){\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{5})(\\d{4})$/);\n      return (\n        \"+\" +\n        phoneNumberFormatted[1] +\n        \" (\" +\n        phoneNumberFormatted[2] +\n        \") \" +\n        phoneNumberFormatted[3] +\n        \"-\" +\n        phoneNumberFormatted[4]\n      );\n    }\n\n    return null;\n  }\n\n  removeMask(number) {\n    const filterNumber = number.replace(/\\D/g, \"\");\n    return filterNumber;\n  }\n\n  maskPhonePattern(phoneNumber){\n    if(phoneNumber.length < 13){\n      return '+55 (99) 9999 9999';\n    }else{\n      return '+55 (99) 99999 9999';\n    }\n  }\n}\n\nexport { FormatMask };","import { FormatMask } from './FormatMask';\n\nconst formatSerializedId = (serializedId) => {\n  const formatMask = new FormatMask();\n  const number = serializedId?.replace('@c.us', '');\n\n  return formatMask.setPhoneFormatMask(number);\n};\n\nexport default formatSerializedId;\n","import React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  TableBody,\n  TableRow,\n  TableCell,\n  IconButton,\n  Table,\n  TableHead,\n  Paper,\n  Tooltip,\n  Typography,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport {\n  Edit,\n  CheckCircle,\n  SignalCellularConnectedNoInternet2Bar,\n  SignalCellularConnectedNoInternet0Bar,\n  SignalCellular4Bar,\n  CropFree,\n  DeleteOutline,\n  Facebook,\n  Instagram,\n  WhatsApp,\n} from \"@material-ui/icons\";\n\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450,\n  },\n  tooltipPopper: {\n    textAlign: \"center\",\n  },\n  buttonProgress: {\n    color: green[500],\n  },\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip\n      arrow\n      classes={{\n        tooltip: classes.tooltip,\n        popper: classes.tooltipPopper,\n      }}\n      title={\n        <React.Fragment>\n          <Typography gutterBottom color=\"inherit\">\n            {title}\n          </Typography>\n          {content && <Typography>{content}</Typography>}\n        </React.Fragment>\n      }\n    >\n      {children}\n    </Tooltip>\n  );\n};\n\nconst IconChannel = (channel) => {\n  switch (channel) {\n    case \"facebook\":\n      return <Facebook style={{ color: \"#3b5998\" }} />;\n    case \"instagram\":\n      return <Instagram style={{ color: \"#e1306c\" }} />;\n    case \"whatsapp\":\n      return <WhatsApp style={{ color: \"#25d366\" }} />;\n    default:\n      return \"error\";\n  }\n};\n\nconst Connections = () => {\n  const classes = useStyles();\n\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false,\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(confirmationModalInitialState);\n  const [planConfig, setPlanConfig] = useState(false);\n\n  const { user } = useContext(AuthContext);\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      setPlanConfig(planConfigs)\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const responseFacebook = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  const responseInstagram = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          addInstagram: true,\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  const handleStartWhatsAppSession = async (whatsAppId) => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleRequestNewQrCode = async (whatsAppId) => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenWhatsAppModal = () => {\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n  const handleOpenQrModal = (whatsApp) => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n\n  const handleEditWhatsApp = (whatsApp) => {\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n\n  const openInNewTab = url => {\n    window.open(url, '_blank', 'noopener,noreferrer');\n  };\n\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n    setConfirmModalOpen(true);\n  };\n\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n\n  const renderActionButtons = (whatsApp) => {\n    return (\n      <>\n        {whatsApp.status === \"qrcode\" && (\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleOpenQrModal(whatsApp)}\n          >\n            {i18n.t(\"connections.buttons.qrcode\")}\n          </Button>\n        )}\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <>\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => handleStartWhatsAppSession(whatsApp.id)}\n            >\n              {i18n.t(\"connections.buttons.tryAgain\")}\n            </Button>{\" \"}\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => handleRequestNewQrCode(whatsApp.id)}\n            >\n              {i18n.t(\"connections.buttons.newQr\")}\n            </Button>\n          </>\n        )}\n        {(whatsApp.status === \"CONNECTED\" ||\n          whatsApp.status === \"PAIRING\" ||\n          whatsApp.status === \"TIMEOUT\") && (\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => {\n                handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n              }}\n            >\n              {i18n.t(\"connections.buttons.disconnect\")}\n            </Button>\n          )}\n        {whatsApp.status === \"OPENING\" && (\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n            {i18n.t(\"connections.buttons.connecting\")}\n          </Button>\n        )}\n      </>\n    );\n  };\n\n  const renderStatusToolTips = (whatsApp) => {\n    return (\n      <div className={classes.customTableCell}>\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\n          >\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"OPENING\" && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n        {whatsApp.status === \"qrcode\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\n          >\n            <CropFree />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"CONNECTED\" && (\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n            <SignalCellular4Bar style={{ color: green[500] }} />\n          </CustomToolTip>\n        )}\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\n          >\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n      </div>\n    );\n  };\n\n  const restartWhatsapps = async () => {\n    // const companyId = localStorage.getItem(\"companyId\");\n    try {\n      await api.post(`/whatsapp-restart/`);\n      toast.success(i18n.t(\"Aguarde... Suas conexões serão reiniciadas!\"));\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={confirmModalInfo.title}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleSubmitConfirmationModal}\n      >\n        {confirmModalInfo.message}\n      </ConfirmationModal>\n      <QrcodeModal\n        open={qrModalOpen}\n        onClose={handleCloseQrModal}\n        whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n      />\n      <WhatsAppModal\n        open={whatsAppModalOpen}\n        onClose={handleCloseWhatsAppModal}\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"connections.title\")} ({whatsApps.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={restartWhatsapps}\n          >\n            {i18n.t(\"REINICIAR CONEXÕES\")}\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => openInNewTab(`https://wa.me/${process.env.REACT_APP_NUMBER_SUPPORT}`)}\n          >\n            {i18n.t(\"CHAMAR NO SUPORTE\")}\n          </Button>\n          <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n            {(popupState) => (\n              <React.Fragment>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  {...bindTrigger(popupState)}\n                >\n                  Nova Conexão\n                </Button>\n                <Menu {...bindMenu(popupState)}>\n                  {/* WHATSAPP */}\n                  <MenuItem\n                    disabled={planConfig?.plan?.useWhatsapp ? false : true}\n                    onClick={() => {\n                      handleOpenWhatsAppModal();\n                      popupState.close();\n                    }}\n                  >\n                    <WhatsApp\n                      fontSize=\"small\"\n                      style={{\n                        marginRight: \"10px\",\n                        color: \"#25D366\",\n                      }}\n                    />\n                    WhatsApp\n                  </MenuItem>\n                  {/* FACEBOOK */}\n                  <FacebookLogin\n                    appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                    autoLoad={false}\n                    fields=\"name,email,picture\"\n                    version=\"18.0\"\n                    scope=\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"\n                    callback={responseFacebook}\n                    render={(renderProps) => (\n                      <MenuItem\n                        disabled={planConfig?.plan?.useFacebook ? false : true}\n                        onClick={renderProps.onClick}\n                      >\n                        <Facebook\n                          fontSize=\"small\"\n                          style={{\n                            marginRight: \"10px\",\n                            color: \"#3b5998\",\n                          }}\n                        />\n                        Facebook\n                      </MenuItem>\n                    )}\n                  />\n                  {/* INSTAGRAM */}\n                  <FacebookLogin\n                    appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                    autoLoad={false}\n                    fields=\"name,email,picture\"\n                    version=\"18.0\"\n                    scope=\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"\n                    callback={responseInstagram}\n                    render={(renderProps) => (\n                      <MenuItem\n                        disabled={planConfig?.plan?.useInstagram ? false : true}\n                        onClick={renderProps.onClick}\n                      >\n                        <Instagram\n                          fontSize=\"small\"\n                          style={{\n                            marginRight: \"10px\",\n                            color: \"#e1306c\",\n                          }}\n                        />\n                        Instagram\n                      </MenuItem>\n                    )}\n                  />\n\n                </Menu>\n              </React.Fragment>\n            )}\n          </PopupState>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Channel</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"connections.table.name\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"connections.table.number\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"connections.table.status\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"connections.table.session\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"connections.table.lastUpdate\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"connections.table.default\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"connections.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {loading ? (\n              <TableRowSkeleton />\n            ) : (\n              <>\n                {whatsApps?.length > 0 &&\n                  whatsApps.map((whatsApp) => (\n                    <TableRow key={whatsApp.id}>\n                      <TableCell align=\"center\">{IconChannel(whatsApp.channel)}</TableCell>\n                      <TableCell align=\"center\">{whatsApp.name}</TableCell>\n                      <TableCell align=\"center\">{whatsApp.number ? (<>{formatSerializedId(whatsApp.number)}</>) : \"-\"}</TableCell>\n                      <TableCell align=\"center\">{renderStatusToolTips(whatsApp)}</TableCell>\n                      <TableCell align=\"center\">{renderActionButtons(whatsApp)}</TableCell>\n                      <TableCell align=\"center\">{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}</TableCell>\n                      <TableCell align=\"center\">\n                        {whatsApp.isDefault && (\n                          <div className={classes.customTableCell}>\n                            <CheckCircle style={{ color: green[500] }} />\n                          </div>\n                        )}\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => handleEditWhatsApp(whatsApp)}\n                        >\n                          <Edit />\n                        </IconButton>\n\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            handleOpenConfirmationModal(\"delete\", whatsApp.id);\n                          }}\n                        >\n                          <DeleteOutline />\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n              </>\n            )}\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Connections;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles, TextField, Grid } from \"@material-ui/core\";\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\nimport { isArray } from \"lodash\";\nimport NumberFormat from \"react-number-format\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nfunction SchedulesForm(props) {\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\n  const classes = useStyles();\n\n  const [schedules, setSchedules] = useState([\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"\", endTime: \"\" },\n  ]);\n\n  useEffect(() => {\n    if (isArray(initialValues) && initialValues.length > 0) {\n      setSchedules(initialValues);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialValues]);\n\n  const handleSubmit = (data) => {\n    onSubmit(data);\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      className={classes.fullWidth}\n      initialValues={{ schedules }}\n      onSubmit={({ schedules }) =>\n        setTimeout(() => {\n          handleSubmit(schedules);\n        }, 500)\n      }\n    >\n      {({ values }) => (\n        <Form className={classes.fullWidth}>\n          <FieldArray\n            name=\"schedules\"\n            render={(arrayHelpers) => (\n              <Grid spacing={4} container>\n                {values.schedules.map((item, index) => {\n                  return (\n                    <Grid key={index} xs={12} md={4} item>\n                      <Grid container>\n                        <Grid className={classes.control} xs={12} item>\n                          <FastField\n                            as={TextField}\n                            label=\"Dia da Semana\"\n                            name={`schedules[${index}].weekday`}\n                            disabled\n                            variant=\"outlined\"\n                            className={classes.fullWidth}\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                        <Grid className={classes.control} xs={12} md={6} item>\n                          <FastField\n                            label=\"Hora de Inicial\"\n                            name={`schedules[${index}].startTime`}\n                          >\n                            {({ field }) => (\n                              <NumberFormat\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                className={classes.fullWidth}\n                              />\n                            )}\n                          </FastField>\n                        </Grid>\n                        <Grid className={classes.control} xs={12} md={6} item>\n                          <FastField\n                            label=\"Hora de Final\"\n                            name={`schedules[${index}].endTime`}\n                          >\n                            {({ field }) => (\n                              <NumberFormat\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                className={classes.fullWidth}\n                              />\n                            )}\n                          </FastField>\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  );\n                })}\n              </Grid>\n            )}\n          ></FieldArray>\n          <div className={classes.buttonContainer}>\n            <ButtonWithSpinner\n              loading={loading}\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              {labelSaveButton ?? \"Salvar\"}\n            </ButtonWithSpinner>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nexport default SchedulesForm;\n","import api from \"../../services/api\";\n\nconst useCompanies = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/companies',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const findAll = async (id) => {\n        const { data } = await api.request({\n            url: `/companies`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const list = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/list`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const find = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const updateSchedules = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}/schedules`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n        save,\n        update,\n        remove,\n        list,\n        find,\n        findAll,\n        updateSchedules\n    }\n}\n\nexport default useCompanies;","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelectCustom = ({ selectedQueueIds, companyId, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\", {\n\t\t\t\t\tparams: { companyId }\n\t\t\t\t});\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, [companyId]);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelectCustom;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelectCustom from \"../QueueSelectCustom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst UserSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    profile: \"user\",\n  };\n\n  const { user: loggedInUser } = useContext(AuthContext);\n\n  const [user, setUser] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      if (!userId) return;\n      if (open) {\n        try {\n          const { data } = await api.get(`/users/${userId}`);\n          setUser((prevState) => {\n            return { ...prevState, ...data };\n          });\n          const userQueueIds = data.queues?.map((queue) => queue.id);\n          setSelectedQueueIds(userQueueIds);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n    };\n\n    fetchUser();\n  }, [userId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setUser(initialState);\n  };\n\n  const handleSaveUser = async (values) => {\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\n    try {\n      if (userId) {\n        await api.put(`/users/${userId}`, userData);\n      } else {\n        await api.post(\"/users\", userData);\n      }\n      toast.success(i18n.t(\"userModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {userId\n            ? `${i18n.t(\"userModal.title.edit\")}`\n            : `${i18n.t(\"userModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={user}\n          enableReinitialize={true}\n          validationSchema={UserSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveUser(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.password\")}\n                    type=\"password\"\n                    name=\"password\"\n                    error={touched.password && Boolean(errors.password)}\n                    helperText={touched.password && errors.password}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    margin=\"dense\"\n                  >\n                    <Can\n                      role={loggedInUser.profile}\n                      perform=\"user-modal:editProfile\"\n                      yes={() => (\n                        <>\n                          <InputLabel id=\"profile-selection-input-label\">\n                            {i18n.t(\"userModal.form.profile\")}\n                          </InputLabel>\n\n                          <Field\n                            as={Select}\n                            label={i18n.t(\"userModal.form.profile\")}\n                            name=\"profile\"\n                            labelId=\"profile-selection-label\"\n                            id=\"profile-selection\"\n                            required\n                          >\n                            <MenuItem value=\"admin\">Admin</MenuItem>\n                            <MenuItem value=\"user\">User</MenuItem>\n                          </Field>\n                        </>\n                      )}\n                    />\n                  </FormControl>\n                </div>\n                <Can\n                  role={loggedInUser.profile}\n                  perform=\"user-modal:editQueues\"\n                  yes={() => (\n                    <QueueSelectCustom\n                      companyId={companyId}\n                      selectedQueueIds={selectedQueueIds}\n                      onChange={(values) => setSelectedQueueIds(values)}\n                    />\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"userModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {userId\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ModalUsers;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  makeStyles,\n  Paper,\n  Grid,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  TextField,\n  Table,\n  TableHead,\n  TableBody,\n  TableCell,\n  TableRow,\n  IconButton,\n  Select,\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from \"formik\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport usePlans from \"../../hooks/usePlans\";\nimport ModalUsers from \"../ModalUsers\";\nimport api from \"../../services/api\";\nimport { head, isArray, has } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    padding: \"2px\"\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    // padding: theme.spacing(2), //comentado para retirar o scroll do Empresas\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  tableContainer: {\n    width: \"100%\",\n    // overflowX: \"scroll\",\n    // ...theme.scrollbarStyles,\n    padding: \"2px\",\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  row: {\n    // paddingTop: theme.spacing(2),\n    // paddingBottom: theme.spacing(2),\n  },\n  control: {\n    // paddingRight: theme.spacing(1),\n    // paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    // padding: theme.spacing(1),\n  },\n}));\n\nexport function CompanyForm(props) {\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n  const classes = useStyles();\n  const [plans, setPlans] = useState([]);\n  const [modalUser, setModalUser] = useState(false);\n  const [firstUser, setFirstUser] = useState({});\n\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    // campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    password: \"\",\n    ...initialValue,\n  });\n\n  const { list: listPlans } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const list = await listPlans();\n      setPlans(list);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setRecord((prev) => {\n      if (moment(initialValue).isValid()) {\n        initialValue.dueDate = moment(initialValue.dueDate).format(\n          \"YYYY-MM-DD\"\n        );\n      }\n      return {\n        ...prev,\n        ...initialValue,\n      };\n    });\n  }, [initialValue]);\n\n  const handleSubmit = async (data) => {\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\n      data.dueDate = null;\n    }\n    onSubmit(data);\n    setRecord({ ...initialValue, dueDate: \"\" });\n  };\n\n  const handleOpenModalUsers = async () => {\n    try {\n      const { data } = await api.get(\"/users/list\", {\n        params: {\n          companyId: initialValue.id,\n        },\n      });\n      if (isArray(data) && data.length) {\n        setFirstUser(head(data));\n      }\n      setModalUser(true);\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleCloseModalUsers = () => {\n    setFirstUser({});\n    setModalUser(false);\n  };\n\n  const incrementDueDate = () => {\n    const data = { ...record };\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\n      switch (data.recurrence) {\n        case \"MENSAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(1, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"BIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(2, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"TRIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(3, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"SEMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(6, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"ANUAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(12, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        default:\n          break;\n      }\n    }\n    setRecord(data);\n  };\n\n  return (\n    <>\n      <ModalUsers\n        userId={firstUser.id}\n        companyId={initialValue.id}\n        open={modalUser}\n        onClose={handleCloseModalUsers}\n      />\n      <Formik\n        enableReinitialize\n        className={classes.fullWidth}\n        initialValues={record}\n        onSubmit={(values, { resetForm }) =>\n          setTimeout(() => {\n            handleSubmit(values);\n            resetForm();\n          }, 500)\n        }\n      >\n        {(values, setValues) => (\n          <Form className={classes.fullWidth}>\n            <Grid spacing={1} justifyContent=\"center\" container>\n              <Grid xs={12} sm={6} md={3} item>\n                <Field\n                  as={TextField}\n                  label=\"Nome\"\n                  name=\"name\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"E-mail\"\n                  name=\"email\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                  required\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"Senha\"\n                  name=\"password\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"Telefone\"\n                  name=\"phone\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"plan-selection\"\n                    label=\"Plano\"\n                    labelId=\"plan-selection-label\"\n                    name=\"planId\"\n                    margin=\"dense\"\n                    required\n                  >\n                    {plans.map((plan, key) => (\n                      <MenuItem key={key} value={plan.id}>\n                        {plan.name}\n                      </MenuItem>\n                    ))}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={1} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Ativa</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"status-selection\"\n                    label=\"Ativa\"\n                    labelId=\"status-selection-label\"\n                    name=\"status\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Sim</MenuItem>\n                    <MenuItem value={false}>Não</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              {/* <Grid xs={12} sm={6} md={3} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"payment-method-selection\">\n                    Método de Pagamento\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"payment-method-selection\"\n                    label=\"Método de Pagamento\"\n                    labelId=\"payment-method-selection-label\"\n                    name=\"paymentMethod\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={\"pix\"}>PIX</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid> */}\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"CPF/CNPJ\"\n                  name=\"document\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              {/* <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"campaigns-selection\"\n                    label=\"Campanhas\"\n                    labelId=\"campaigns-selection-label\"\n                    name=\"campaignsEnabled\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Habilitadas</MenuItem>\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid> */}\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl variant=\"outlined\" fullWidth>\n                  <Field\n                    as={TextField}\n                    label=\"Data de Vencimento\"\n                    type=\"date\"\n                    name=\"dueDate\"\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    margin=\"dense\"\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"recorrencia-selection\">\n                    Recorrência\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    label=\"Recorrência\"\n                    labelId=\"recorrencia-selection-label\"\n                    id=\"recurrence\"\n                    name=\"recurrence\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value=\"MENSAL\">Mensal</MenuItem>\n                    <MenuItem value=\"BIMESTRAL\">Bimestral</MenuItem>\n                    <MenuItem value=\"TRIMESTRAL\">Trimestral</MenuItem>\n                    <MenuItem value=\"SEMESTRAL\">Semestral</MenuItem>\n                    <MenuItem value=\"ANUAL\">Anual</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} item>\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\n                  <Grid xs={4} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      onClick={() => onCancel()}\n                      variant=\"contained\"\n                    >\n                      Limpar\n                    </ButtonWithSpinner>\n                  </Grid>\n                  {record.id !== undefined ? (\n                    <>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => onDelete(record)}\n                          variant=\"contained\"\n                          color=\"secondary\"\n                        >\n                          Excluir\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={2} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => incrementDueDate()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          + Vencimento\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => handleOpenModalUsers()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          Usuário\n                        </ButtonWithSpinner>\n                      </Grid>\n                    </>\n                  ) : null}\n                  <Grid xs={6} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Salvar\n                    </ButtonWithSpinner>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n}\n\nexport function CompaniesManagerGrid(props) {\n  const { records, onSelect } = props;\n  const classes = useStyles();\n  const { dateToClient, datetimeToClient } = useDate();\n\n  const renderStatus = (row) => {\n    return row.status === false ? \"Não\" : \"Sim\";\n  };\n\n  const renderPlan = (row) => {\n    return row.planId !== null ? row.plan.name : \"-\";\n  };\n\n  const renderPlanValue = (row) => {\n    return row.planId !== null ? row.plan.amount ? row.plan.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00' : \"-\";\n  };\n\n  // const renderCampaignsStatus = (row) => {\n  //   if (\n  //     has(row, \"settings\") &&\n  //     isArray(row.settings) &&\n  //     row.settings.length > 0\n  //   ) {\n  //     const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\n  //     if (setting) {\n  //       return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\n  //     }\n  //   }\n  //   return \"Desabilitadas\";\n  // };\n\n  const rowStyle = (record) => {\n    if (moment(record.dueDate).isValid()) {\n      const now = moment();\n      const dueDate = moment(record.dueDate);\n      const diff = dueDate.diff(now, \"days\");\n      if (diff >= 1 && diff <= 5) {\n        return { backgroundColor: \"#fffead\" };\n      }\n      if (diff <= 0) {\n        return { backgroundColor: \"#fa8c8c\" };\n      }\n      // else {\n      //   return { backgroundColor: \"#affa8c\" };\n      // }\n    }\n    return {};\n  };\n\n  return (\n    <Paper className={classes.tableContainer}>\n      <Table\n        className={classes.fullWidth}\n        // size=\"small\"\n        padding=\"none\"\n        aria-label=\"a dense table\"\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>#</TableCell>\n            <TableCell align=\"left\">Nome</TableCell>\n            <TableCell align=\"left\">E-mail</TableCell>\n            <TableCell align=\"center\">Telefone</TableCell>\n            <TableCell align=\"center\">Plano</TableCell>\n            <TableCell align=\"center\">Valor Plano</TableCell>\n            {/* <TableCell align=\"center\">Campanhas</TableCell> */}\n            <TableCell align=\"center\">Ativa</TableCell>\n            <TableCell align=\"center\">Criada Em</TableCell>\n            <TableCell align=\"center\">Vencimento</TableCell>\n            <TableCell align=\"center\">Ult. Login</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {records.map((row, key) => (\n            <TableRow style={rowStyle(row)} key={key}>\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                  <EditIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\n              <TableCell align=\"left\" size=\"small\">{row.email || \"-\"}</TableCell>\n              <TableCell align=\"center\">{row.phone || \"-\"}</TableCell>\n              <TableCell align=\"center\">{renderPlan(row)}</TableCell>\n              <TableCell align=\"center\">$ {renderPlanValue(row)}</TableCell>\n              {/* <TableCell align=\"center\">{renderCampaignsStatus(row)}</TableCell> */}\n              <TableCell align=\"center\">{renderStatus(row)}</TableCell>\n              <TableCell align=\"center\">{dateToClient(row.createdAt)}</TableCell>\n              <TableCell align=\"center\">{dateToClient(row.dueDate)}<br /><span>{row.recurrence}</span></TableCell>\n              <TableCell align=\"center\">{datetimeToClient(row.lastLogin)}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default function CompaniesManager() {\n  const classes = useStyles();\n  const { list, save, update, remove } = useCompanies();\n\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    // campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    password: \"\",\n    document: \"\",\n    paymentMethod: \"\"\n  });\n\n  useEffect(() => {\n    loadPlans();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyList = await list();\n      setRecords(companyList);\n    } catch (e) {\n      toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  const handleSubmit = async (data) => {\n    setLoading(true);\n    try {\n      if (data.id !== undefined) {\n        await update(data);\n      } else {\n        await save(data);\n      }\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\n        \"Não foi possível realizar a operação. Verifique se já existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\n      );\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await remove(record.id);\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\"Não foi possível realizar a operação\");\n    }\n    setLoading(false);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    setShowConfirmDialog(true);\n  };\n\n  const handleCancel = () => {\n    setRecord((prev) => ({\n      ...prev,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      planId: \"\",\n      status: true,\n      // campaignsEnabled: false,\n      dueDate: \"\",\n      recurrence: \"\",\n      password: \"\",\n      document: \"\",\n      paymentMethod: \"\"\n    }));\n  };\n\n  const handleSelect = (data) => {\n    // let campaignsEnabled = false;\n\n    // const setting = data.settings.find(\n    //   (s) => s.key.indexOf(\"campaignsEnabled\") > -1\n    // );\n    // if (setting) {\n    //   campaignsEnabled = setting.value === \"true\" || setting.value === \"enabled\";\n    // }\n\n    setRecord((prev) => ({\n      ...prev,\n      id: data.id,\n      name: data.name || \"\",\n      phone: data.phone || \"\",\n      email: data.email || \"\",\n      planId: data.planId || \"\",\n      status: data.status === false ? false : true,\n      // campaignsEnabled,\n      dueDate: data.dueDate || \"\",\n      recurrence: data.recurrence || \"\",\n      password: \"\",\n      document: data.document || \"\",\n      paymentMethod: data.paymentMethod || \"\",\n    }));\n  };\n\n  return (\n    <Paper className={classes.mainPaper} elevation={0}>\n      <Grid spacing={2} container>\n        <Grid xs={12} item>\n          <CompanyForm\n            initialValue={record}\n            onDelete={handleOpenDeleteDialog}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n            loading={loading}\n          />\n        </Grid>\n        <Grid xs={12} item>\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\n        </Grid>\n      </Grid>\n      <ConfirmationModal\n        title=\"Exclusão de Registro\"\n        open={showConfirmDialog}\n        onClose={() => setShowConfirmDialog(false)}\n        onConfirm={() => handleDelete()}\n      >\n        Deseja realmente excluir esse registro?\n      </ConfirmationModal>\n    </Paper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton,\n    FormControl,\n    InputLabel,\n    MenuItem,\n    Select\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport usePlans from \"../../hooks/usePlans\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%'\n    },\n    mainPaper: {\n        width: '100%',\n        flex: 1,\n        padding: theme.spacing(2)\n    },\n    fullWidth: {\n        width: '100%'\n    },\n    tableContainer: {\n        width: '100%',\n        overflowX: \"scroll\",\n        ...theme.scrollbarStyles\n    },\n    textfield: {\n        width: '100%'\n    },\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2)\n    },\n    control: {\n        paddingRight: theme.spacing(1),\n        paddingLeft: theme.spacing(1)\n    },\n    buttonContainer: {\n        textAlign: 'right',\n        padding: theme.spacing(1)\n    }\n}));\n\nexport function PlanManagerForm(props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        amount: 0,\n        useWhatsapp: true,\n        useFacebook: true,\n        useInstagram: true,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n    });\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async (data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n                        \n                        {/* NOME */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <Field\n                                as={TextField}\n                                label=\"Nome\"\n                                name=\"name\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n\n                        {/* USUARIOS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Usuários\"\n                                name=\"users\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* CONEXOES */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Conexões\"\n                                name=\"connections\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n                        \n                        {/* FILAS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Setores\"\n                                name=\"queues\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n                        \n                        {/* VALOR */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Valor\"\n                                name=\"amount\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"string\"\n                            />\n                        </Grid>\n                        \n                        {/* WHATSAPP */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useWhatsapp-selection\">Whatsapp</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useWhatsapp-selection\"\n                                    label=\"Whatsapp\"\n                                    labelId=\"useWhatsapp-selection-label\"\n                                    name=\"useWhatsapp\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>Habilitadas</MenuItem>\n                                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* FACEBOOK */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useFacebook-selection\">Facebook</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useFacebook-selection\"\n                                    label=\"Facebook\"\n                                    labelId=\"useFacebook-selection-label\"\n                                    name=\"useFacebook\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>Habilitadas</MenuItem>\n                                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* INSTAGRAM */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useInstagram-selection\">Instagram</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useInstagram-selection\"\n                                    label=\"Instagram\"\n                                    labelId=\"useInstagram-selection-label\"\n                                    name=\"useInstagram\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>Habilitadas</MenuItem>\n                                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* CAMPANHAS */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useCampaigns-selection\">Campanhas</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useCampaigns-selection\"\n                                    label=\"Campanhas\"\n                                    labelId=\"useCampaigns-selection-label\"\n                                    name=\"useCampaigns\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>Habilitadas</MenuItem>\n                                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* AGENDAMENTOS */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useSchedules-selection\">Agendamentos</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useSchedules-selection\"\n                                    label=\"Agendamentos\"\n                                    labelId=\"useSchedules-selection-label\"\n                                    name=\"useSchedules\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>Habilitadas</MenuItem>\n                                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* CHAT INTERNO */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useInternalChat-selection\">Chat Interno</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useInternalChat-selection\"\n                                    label=\"Chat Interno\"\n                                    labelId=\"useInternalChat-selection-label\"\n                                    name=\"useInternalChat\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>Habilitadas</MenuItem>\n                                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* API Externa */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useExternalApi-selection\">API Externa</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useExternalApi-selection\"\n                                    label=\"API Externa\"\n                                    labelId=\"useExternalApi-selection-label\"\n                                    name=\"useExternalApi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>Habilitadas</MenuItem>\n                                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                Limpar\n                            </ButtonWithSpinner>\n                        </Grid>\n                        {record.id !== undefined ? (\n                            <Grid sm={3} md={1} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    Excluir\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                Salvar\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function PlansManagerGrid(props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    const renderWhatsapp = (row) => {\n        return row.useWhatsapp === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderFacebook = (row) => {\n        return row.useFacebook === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderInstagram = (row) => {\n        return row.useInstagram === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderCampaigns = (row) => {\n        return row.useCampaigns === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderSchedules = (row) => {\n        return row.useSchedules === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderInternalChat = (row) => {\n        return row.useInternalChat === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderExternalApi = (row) => {\n        return row.useExternalApi === false ? \"Não\" : \"Sim\";\n    };\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table\n                className={classes.fullWidth}\n                // size=\"small\"\n                padding=\"none\"\n                aria-label=\"a dense table\"\n            >\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\" style={{ width: '1%' }}>#</TableCell>\n                        <TableCell align=\"left\">Nome</TableCell>\n                        <TableCell align=\"center\">Usuários</TableCell>\n                        <TableCell align=\"center\">Conexões</TableCell>\n                        <TableCell align=\"center\">Setores</TableCell>\n                        <TableCell align=\"center\">Valor</TableCell>\n                        <TableCell align=\"center\">Whatsapp</TableCell>\n                        <TableCell align=\"center\">Facebook</TableCell>\n                        <TableCell align=\"center\">Instagram</TableCell>\n                        <TableCell align=\"center\">Campanhas</TableCell>\n                        <TableCell align=\"center\">Agendamentos</TableCell>\n                        <TableCell align=\"center\">Chat Interno</TableCell>\n                        <TableCell align=\"center\">API Externa</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {records.map((row) => (\n                        <TableRow key={row.id}>\n                            <TableCell align=\"center\" style={{ width: '1%' }}>\n                                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                    <EditIcon />\n                                </IconButton>\n                            </TableCell>\n                            <TableCell align=\"left\">{row.name || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.users || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.connections || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.queues || '-'}</TableCell>\n                            <TableCell align=\"center\">$ {row.amount ? row.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00'}</TableCell>\n                            <TableCell align=\"center\">{renderWhatsapp(row)}</TableCell>\n                            <TableCell align=\"center\">{renderFacebook(row)}</TableCell>\n                            <TableCell align=\"center\">{renderInstagram(row)}</TableCell>\n                            <TableCell align=\"center\">{renderCampaigns(row)}</TableCell>\n                            <TableCell align=\"center\">{renderSchedules(row)}</TableCell>\n                            <TableCell align=\"center\">{renderInternalChat(row)}</TableCell>\n                            <TableCell align=\"center\">{renderExternalApi(row)}</TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function PlansManager() {\n    const classes = useStyles()\n    const { list, save, update, remove } = usePlans()\n\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        amount: 0,\n        useWhatsapp: true,\n        useFacebook: true,\n        useInstagram: true,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n    })\n\n    useEffect(() => {\n        async function fetchData() {\n            await loadPlans()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const loadPlans = async () => {\n        setLoading(true)\n        try {\n            const planList = await list()\n            setRecords(planList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            name: '',\n            users: 0,\n            connections: 0,\n            queues: 0,\n            amount: 0,\n            useWhatsapp: true,\n            useFacebook: true,\n            useInstagram: true,\n            useCampaigns: true,\n            useSchedules: true,\n            useInternalChat: true,\n            useExternalApi: true,\n        })\n    }\n\n    const handleSelect = (data) => {\n\n        let useWhatsapp = data.useWhatsapp === false ? false : true\n        let useFacebook = data.useFacebook === false ? false : true\n        let useInstagram = data.useInstagram === false ? false : true\n        let useCampaigns = data.useCampaigns === false ? false : true\n        let useSchedules = data.useSchedules === false ? false : true\n        let useInternalChat = data.useInternalChat === false ? false : true\n        let useExternalApi = data.useExternalApi === false ? false : true\n\n        setRecord({\n            id: data.id,\n            name: data.name || '',\n            users: data.users || 0,\n            connections: data.connections || 0,\n            queues: data.queues || 0,\n            amount: data.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) || 0,\n            useWhatsapp,\n            useFacebook,\n            useInstagram,\n            useCampaigns,\n            useSchedules,\n            useInternalChat,\n            useExternalApi\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <PlanManagerForm\n                        initialValue={record}\n                        onDelete={handleOpenDeleteDialog}\n                        onSubmit={handleSubmit}\n                        onCancel={handleCancel}\n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <PlansManagerGrid\n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const findAll = async (params) => {\n        const { data } = await api.request({\n            url: `/helps`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/helps/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/helps',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/helps/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/helps/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    return {\n        findAll,\n        list,\n        save,\n        update,\n        remove\n    }\n}\n\nexport default usePlans;","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useHelps from \"../../hooks/useHelps\";\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n    mainPaper: {\n\t\twidth: '100%',\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2)\n    },\n\tfullWidth: {\n\t\twidth: '100%'\n\t},\n    tableContainer: {\n\t\twidth: '100%',\n\t\toverflowX: \"scroll\",\n\t\t...theme.scrollbarStyles\n    },\n\ttextfield: {\n\t\twidth: '100%'\n\t},\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n\t\tpaddingTop: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2)\n    },\n    control: {\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(1)\n\t},\n    buttonContainer: {\n        textAlign: 'right',\n\t\tpadding: theme.spacing(1)\n\t}\n}));\n\nexport function HelpManagerForm (props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState(initialValue);\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async(data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Título\"\n                                name=\"title\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Código do Vídeo\"\n                                name=\"video\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={12} md={6} item>\n                            <Field\n                                as={TextField}\n                                label=\"Descrição\"\n                                name=\"description\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                Limpar\n                            </ButtonWithSpinner>\n                        </Grid>\n                        { record.id !== undefined ? (\n                            <Grid sm={3} md={1} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    Excluir\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                Salvar\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function HelpsManagerGrid (props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\n                    <TableCell align=\"left\">Título</TableCell>\n                    <TableCell align=\"left\">Descrição</TableCell>\n                    <TableCell align=\"left\">Vídeo</TableCell>\n                </TableRow>\n                </TableHead>\n                <TableBody>\n                {records.map((row) => (\n                    <TableRow key={row.id}>\n                        <TableCell align=\"center\" style={{width: '1%'}}>\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                <EditIcon />\n                            </IconButton>\n                        </TableCell>\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\n                    </TableRow>\n                ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function HelpsManager () {\n    const classes = useStyles()\n    const { list, save, update, remove } = useHelps()\n    \n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        title: '',\n        description: '',\n        video: ''\n    })\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadHelps()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const loadHelps = async () => {\n        setLoading(true)\n        try {\n            const helpList = await list()\n            setRecords(helpList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            title: '',\n            description: '',\n            video: ''\n        })\n    }\n\n    const handleSelect = (data) => {\n        setRecord({\n            id: data.id,\n            title: data.title || '',\n            description: data.description || '',\n            video: data.video || ''\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <HelpManagerForm \n                        initialValue={record} \n                        onDelete={handleOpenDeleteDialog} \n                        onSubmit={handleSubmit} \n                        onCancel={handleCancel} \n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <HelpsManagerGrid \n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import React, { useEffect, useState, useContext } from \"react\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog'; // Importe Dialog\nimport DialogActions from '@material-ui/core/DialogActions'; // Importe DialogActions\nimport DialogContent from '@material-ui/core/DialogContent'; // Importe DialogContent\nimport DialogTitle from '@material-ui/core/DialogTitle'; // Importe DialogTitle\nimport TextField from \"@material-ui/core/TextField\";\nimport Title from \"../Title\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { Tabs, Tab } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { head } from \"lodash\";\n\nimport useSettings from \"../../hooks/useSettings\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n    tab: {\n    background: \"#f2f5f3\",\n    borderRadius: 4,\n    width: \"100%\",\n    \"& .MuiTab-wrapper\": {\n      color: \"#128c7e\"\n    },\n    \"& .MuiTabs-flexContainer\": {\n      justifyContent: \"center\"\n    }\n\n\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 12,\n    width: \"100%\",\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n}));\n\nexport default function Options(props) {\n  const { settings, scheduleTypeChanged } = props;\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const [userRating, setUserRating] = useState(\"disabled\");\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\n  const [chatBotType, setChatBotType] = useState(\"text\");\n\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\n\n  const [UserCreation, setUserCreation] = useState(\"disabled\");\n  const [loadingUserCreation, setLoadingUserCreation] = useState(false);\n\n  // recursos a mais\n  const [CheckMsgIsGroup, setCheckMsgIsGroup] = useState(\"enabled\");\n  const [loadingCheckMsgIsGroup, setLoadingCheckMsgIsGroup] = useState(false);\n\n  const [SendGreetingAccepted, setSendGreetingAccepted] = useState(\"enabled\");\n  const [loadingSendGreetingAccepted, setLoadingSendGreetingAccepted] = useState(false);\n\n  const [UserRandom, setUserRandom] = useState(\"enabled\");\n  const [loadingUserRandom, setLoadingUserRandom] = useState(false);\n\n  const [SettingsTransfTicket, setSettingsTransfTicket] = useState(\"enabled\");\n  const [loadingSettingsTransfTicket, setLoadingSettingsTransfTicket] = useState(false);\n\n  const [AcceptCallWhatsapp, setAcceptCallWhatsapp] = useState(\"enabled\");\n  const [loadingAcceptCallWhatsapp, setLoadingAcceptCallWhatsapp] = useState(false);\n\n  const [HoursCloseTicketsAuto, setHoursCloseTicketsAuto] = useState(\"enabled\");\n  const [loadingHoursCloseTicketsAuto, setLoadingHoursCloseTicketsAuto] = useState(false);\n\n  const [sendSignMessage, setSendSignMessage] = useState(\"enabled\");\n  const [loadingSendSignMessage, setLoadingSendSignMessage] = useState(false);\n\n  const [sendGreetingMessageOneQueues, setSendGreetingMessageOneQueues] = useState(\"enabled\");\n  const [loadingSendGreetingMessageOneQueues, setLoadingSendGreetingMessageOneQueues] = useState(false);\n\n  const [sendQueuePosition, setSendQueuePosition] = useState(\"enabled\");\n  const [loadingSendQueuePosition, setLoadingSendQueuePosition] = useState(false);\n\n  const [sendFarewellWaitingTicket, setSendFarewellWaitingTicket] = useState(\"enabled\");\n  const [loadingSendFarewellWaitingTicket, setLoadingSendFarewellWaitingTicket] = useState(false);\n\n  const [acceptAudioMessageContact, setAcceptAudioMessageContact] = useState(\"enabled\");\n  const [loadingAcceptAudioMessageContact, setLoadingAcceptAudioMessageContact] = useState(false);\n  \n  const [ipixcType, setIpIxcType] = useState(\"\");\n  const [loadingIpIxcType, setLoadingIpIxcType] = useState(false);\n  const [tokenixcType, setTokenIxcType] = useState(\"\");\n  const [loadingTokenIxcType, setLoadingTokenIxcType] = useState(false);\n\n  const [smtpauthType, setUrlSmtpauthType] = useState(\"\");\n  const [loadingUrlSmtpauthType, setLoadingUrlSmtpauthType] = useState(false);\n  const [usersmtpauthType, setUserSmtpauthType] = useState(\"\");\n  const [loadingSmtpauthType, setLoadingSmptauthType] = useState(false);\n  const [clientsecretsmtpauthType, setClientSecrectSmtpauthType] = useState(\"\");\n  const [loadingClientSecrectSmtpauthType, setLoadingClientSecrectSmtpauthType] = useState(false);\n\n\n  const [ipmkauthType, setIpMkauthType] = useState(\"\");\n  const [loadingIpMkauthType, setLoadingIpMkauthType] = useState(false);\n  const [clientidmkauthType, setClientIdMkauthType] = useState(\"\");\n  const [loadingClientIdMkauthType, setLoadingClientIdMkauthType] = useState(false);\n  const [clientsecretmkauthType, setClientSecrectMkauthType] = useState(\"\");\n  const [loadingClientSecrectMkauthType, setLoadingClientSecrectMkauthType] = useState(false);\n\n  const [asaasType, setAsaasType] = useState(\"\");\n  const [loadingAsaasType, setLoadingAsaasType] = useState(false);\n  const [companyId, setCompanyId] = useState('')\n\n  const { update } = useSettings();\n\n  const isSuper = () => {\n    return user.super;\n  };\n\n  useEffect(() => {\n    if (Array.isArray(settings) && settings.length) {\n\n      const userCreation = settings.find((s) => s.key === \"userCreation\");\n      if (userCreation) {\n        setUserRating(userCreation.value);\n      }\n\n      const userRating = settings.find((s) => s.key === \"userRating\");\n      if (userRating) {\n        setUserRating(userRating.value);\n      }\n\n      const scheduleType = settings.find((s) => s.key === \"scheduleType\");\n      if (scheduleType) {\n        setScheduleType(scheduleType.value);\n      }\n\n      const chatBotType = settings.find((s) => s.key === \"chatBotType\");\n      if (chatBotType) {\n        setChatBotType(chatBotType.value);\n      }\n\n      const CheckMsgIsGroup = settings.find((s) => s.key === \"CheckMsgIsGroup\");\n      if (CheckMsgIsGroup) {\n        setCheckMsgIsGroup(CheckMsgIsGroup.value);\n      }\n\n      const SendGreetingAccepted = settings.find((s) => s.key === \"sendGreetingAccepted\");\n      if (SendGreetingAccepted) {\n        setSendGreetingAccepted(SendGreetingAccepted.value);\n      }\n\n      const UserRandom = settings.find((s) => s.key === \"userRandom\");\n      if (UserRandom) {\n        setUserRandom(UserRandom.value);\n      }\n\n      const SettingsTransfTicket = settings.find((s) => s.key === \"sendMsgTransfTicket\");\n      if (SettingsTransfTicket) {\n        setSettingsTransfTicket(SettingsTransfTicket.value);\n      }\n\n      const AcceptCallWhatsapp = settings.find((s) => s.key === \"acceptCallWhatsapp\");\n      if (AcceptCallWhatsapp) {\n        setAcceptCallWhatsapp(AcceptCallWhatsapp.value);\n      }\n\n      const HoursCloseTicketsAuto = settings.find((s) => s.key === \"hoursCloseTicketsAuto\");\n      if (HoursCloseTicketsAuto) {\n        setHoursCloseTicketsAuto(HoursCloseTicketsAuto.value);\n      }\n\n      const sendSignMessage = settings.find((s) => s.key === \"sendSignMessage\");\n      if (sendSignMessage) {\n        setSendSignMessage(sendSignMessage.value)\n      }\n\n      const sendGreetingMessageOneQueues = settings.find((s) => s.key === \"sendGreetingMessageOneQueues\");\n      if (sendGreetingMessageOneQueues) {\n        setSendGreetingMessageOneQueues(sendGreetingMessageOneQueues.value)\n      }\n\n      const sendQueuePosition = settings.find((s) => s.key === \"sendQueuePosition\");\n      if (sendQueuePosition) {\n        setSendQueuePosition(sendQueuePosition.value)\n      }\n\n      const sendFarewellWaitingTicket = settings.find((s) => s.key === \"sendFarewellWaitingTicket\");\n      if (sendFarewellWaitingTicket) {\n        setSendFarewellWaitingTicket(sendFarewellWaitingTicket.value)\n      }\n\n      const acceptAudioMessageContact = settings.find((s) => s.key === \"acceptAudioMessageContact\");\n      if (acceptAudioMessageContact) {\n        setAcceptAudioMessageContact(acceptAudioMessageContact.value)\n      }\n\n      const ipixcType = settings.find((s) => s.key === \"ipixc\");\n      if (ipixcType) {\n        setIpIxcType(ipixcType.value);\n      }\n\n      const tokenixcType = settings.find((s) => s.key === \"tokenixc\");\n      if (tokenixcType) {\n        setTokenIxcType(tokenixcType.value);\n      }\n\n      const ipmkauthType = settings.find((s) => s.key === \"ipmkauth\");\n      if (ipmkauthType) {\n        setIpMkauthType(ipmkauthType.value);\n      }\n\n      const clientidmkauthType = settings.find((s) => s.key === \"clientidmkauth\");\n      if (clientidmkauthType) {\n        setClientIdMkauthType(clientidmkauthType.value);\n      }\n\n      const clientsecretmkauthType = settings.find((s) => s.key === \"clientsecretmkauth\");\n      if (clientsecretmkauthType) {\n        setClientSecrectMkauthType(clientsecretmkauthType.value);\n      }\n\n      const smtpauthType = settings.find((s) => s.key === \"smtpauth\");\n      if (smtpauthType) {\n        setUrlSmtpauthType(smtpauthType.value);\n      }\n\n      const usersmtpauthType = settings.find((s) => s.key === \"usersmtpauth\");\n      if (usersmtpauthType) {\n        setUserSmtpauthType(usersmtpauthType.value);\n      }\n\n      const clientsecretsmtpauthType = settings.find((s) => s.key === \"clientsecretsmtpauth\");\n      if (clientsecretsmtpauthType) {\n        setClientSecrectSmtpauthType(clientsecretsmtpauthType.value);\n      }\n\n      const asaasType = settings.find((s) => s.key === \"asaas\");\n      if (asaasType) {\n        setAsaasType(asaasType.value);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings]);\n\n  async function handleChangeUserCreation(value) {\n    setUserCreation(value);\n    setLoadingUserCreation(true);\n    await update({\n      key: \"userCreation\",\n      value,\n    });\n    setLoadingUserCreation(false);\n  }\n\n  async function handleChangeUserRating(value) {\n    setUserRating(value);\n    setLoadingUserRating(true);\n    await update({\n      key: \"userRating\",\n      value,\n    });\n    setLoadingUserRating(false);\n  }\n\n  async function handleScheduleType(value) {\n    setScheduleType(value);\n    setLoadingScheduleType(true);\n    await update({\n      key: \"scheduleType\",\n      value,\n    });\n    setLoadingScheduleType(false);\n    if (typeof scheduleTypeChanged === \"function\") {\n      scheduleTypeChanged(value);\n    }\n  }\n\n  async function handleChatBotType(value) {\n    setChatBotType(value);\n    await update({\n      key: \"chatBotType\",\n      value,\n    });\n    if (typeof scheduleTypeChanged === \"function\") {\n      setChatBotType(value);\n    }\n  }\n\n  async function handleCheckMsgIsGroup(value) {\n    setCheckMsgIsGroup(value);\n    setLoadingCheckMsgIsGroup(true);\n    await update({\n      key: \"CheckMsgIsGroup\",\n      value,\n    });\n    setLoadingCheckMsgIsGroup(false);\n  }\n\n  async function handleSendGreetingAccepted(value) {\n    setSendGreetingAccepted(value);\n    setLoadingSendGreetingAccepted(true);\n    await update({\n      key: \"sendGreetingAccepted\",\n      value,\n    });\n    setLoadingSendGreetingAccepted(false);\n  }\n\n  async function handleUserRandom(value) {\n    setUserRandom(value);\n    setLoadingUserRandom(true);\n    await update({\n      key: \"userRandom\",\n      value,\n    });\n    setLoadingUserRandom(false);\n  }\n\n  async function handleSettingsTransfTicket(value) {\n    setSettingsTransfTicket(value);\n    setLoadingSettingsTransfTicket(true);\n    await update({\n      key: \"sendMsgTransfTicket\",\n      value,\n    });\n    setLoadingSettingsTransfTicket(false);\n  }\n\n  async function handleAcceptCallWhatsapp(value) {\n    setAcceptCallWhatsapp(value);\n    setLoadingAcceptCallWhatsapp(true);\n    await update({\n      key: \"acceptCallWhatsapp\",\n      value,\n    });\n    setLoadingAcceptCallWhatsapp(false);\n  }\n\n  async function handleHoursCloseTicketsAuto(value) {\n    setHoursCloseTicketsAuto(value);\n    setLoadingHoursCloseTicketsAuto(true);\n    await update({\n      key: \"hoursCloseTicketsAuto\",\n      value,\n    });\n    setLoadingHoursCloseTicketsAuto(false);\n  }\n\n  async function handleSendSignMessage(value) {\n    setSendSignMessage(value);\n    setLoadingSendSignMessage(true);\n    await update({\n      key: \"sendSignMessage\",\n      value,\n    });\n    setLoadingSendSignMessage(false);\n  }\n\n  async function handleSendGreetingMessageOneQueues(value) {\n    setSendGreetingMessageOneQueues(value);\n    setLoadingSendGreetingMessageOneQueues(true);\n    await update({\n      key: \"sendGreetingMessageOneQueues\",\n      value,\n    });\n    setLoadingSendGreetingMessageOneQueues(false);\n  }\n\n  async function handleSendQueuePosition(value) {\n    setSendQueuePosition(value);\n    setLoadingSendQueuePosition(true);\n    await update({\n      key: \"sendQueuePosition\",\n      value,\n    });\n    setLoadingSendQueuePosition(false);\n  }\n\n  async function handleSendFarewellWaitingTicket(value) {\n    setSendFarewellWaitingTicket(value);\n    setLoadingSendFarewellWaitingTicket(true);\n    await update({\n      key: \"sendFarewellWaitingTicket\",\n      value,\n    });\n    setLoadingSendFarewellWaitingTicket(false);\n  }\n\n  async function handleAcceptAudioMessageContact(value) {\n    setAcceptAudioMessageContact(value);\n    setLoadingAcceptAudioMessageContact(true);\n    await update({\n      key: \"acceptAudioMessageContact\",\n      value,\n    });\n    setLoadingAcceptAudioMessageContact(false);\n  }\n  \n    async function handleChangeIPIxc(value) {\n    setIpIxcType(value);\n    setLoadingIpIxcType(true);\n    await update({\n      key: \"ipixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpIxcType(false);\n  }\n\n  async function handleChangeTokenIxc(value) {\n    setTokenIxcType(value);\n    setLoadingTokenIxcType(true);\n    await update({\n      key: \"tokenixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingTokenIxcType(false);\n  }\n\n  async function handleChangeIpMkauth(value) {\n    setIpMkauthType(value);\n    setLoadingIpMkauthType(true);\n    await update({\n      key: \"ipmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpMkauthType(false);\n  }\n\n  async function handleChangeClientIdMkauth(value) {\n    setClientIdMkauthType(value);\n    setLoadingClientIdMkauthType(true);\n    await update({\n      key: \"clientidmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientIdMkauthType(false);\n  }\n\n  async function handleChangeClientSecrectMkauth(value) {\n    setClientSecrectMkauthType(value);\n    setLoadingClientSecrectMkauthType(true);\n    await update({\n      key: \"clientsecretmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientSecrectMkauthType(false);\n  }\n\n  async function handleChangeUrlSmtpauth(value) {\n    setUrlSmtpauthType(value);\n    setLoadingUrlSmtpauthType(true);\n    await update({\n      key: \"smtpauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingUrlSmtpauthType(false);\n  }\n\n  async function handleChangeUserSmptauth(value) {\n    setUserSmtpauthType(value);\n    setLoadingSmptauthType(true);\n    await update({\n      key: \"usersmtpauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSmptauthType(false);\n  }\n\n  async function handleChangeClientSecrectSmtpauth(value) {\n    setClientSecrectSmtpauthType(value);\n    setLoadingClientSecrectSmtpauthType(true);\n    await update({\n      key: \"clientsecretsmtpauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientSecrectSmtpauthType(false);\n  }\n\n  async function handleChangeAsaas(value) {\n    setAsaasType(value);\n    setLoadingAsaasType(true);\n    await update({\n      key: \"asaas\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingAsaasType(false);\n  }\n\n\n  return (\n    <>\n      <Grid spacing={3} container>\n\n        {/* CRIAÇÃO DE COMPANY/USERS */}\n        {isSuper() ?\n          <Grid xs={12} sm={6} md={4} item>\n            <FormControl className={classes.selectContainer}>\n              <InputLabel id=\"UserCreation-label\">Criação de Empresa/Usuário</InputLabel>\n              <Select\n                labelId=\"UserCreation-label\"\n                value={UserCreation}\n                onChange={async (e) => {\n                  handleChangeUserCreation(e.target.value);\n                }}\n              >\n                <MenuItem value={\"disabled\"}>Desabilitadas</MenuItem>\n                <MenuItem value={\"enabled\"}>Habilitadas</MenuItem>\n              </Select>\n              <FormHelperText>\n                {loadingUserCreation && \"Atualizando...\"}\n              </FormHelperText>\n            </FormControl>\n          </Grid>\n          : null}\n\n        {/* AVALIAÇÕES */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"ratings-label\">Avaliações</InputLabel>\n            <Select\n              labelId=\"ratings-label\"\n              value={userRating}\n              onChange={async (e) => {\n                handleChangeUserRating(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitadas</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitadas</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingUserRating && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* AGENDAMENTO DE EXPEDIENTE */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"schedule-type-label\">Agendamento de Expediente</InputLabel>\n            <Select\n              labelId=\"schedule-type-label\"\n              value={scheduleType}\n              onChange={async (e) => {\n                handleScheduleType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"queue\"}>Gerenciamento Por Fila/Setor</MenuItem>\n              <MenuItem value={\"company\"}>Gerenciamento Por Empresa</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingAccepted-label\">Enviar saudação ao aceitar o atendimento</InputLabel>\n            <Select\n              labelId=\"sendGreetingAccepted-label\"\n              value={SendGreetingAccepted}\n              onChange={async (e) => {\n                handleSendGreetingAccepted(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingAccepted && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ESCOLHER OPERADOR ALEATORIO */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"userRandom-label\">Escolher Operador Aleatório Ao Escolher Setor</InputLabel>\n            <Select\n              labelId=\"userRandom-label\"\n              value={UserRandom}\n              onChange={async (e) => {\n                handleUserRandom(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingUserRandom && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR MENSAGEM DE TRANSFERENCIA DE SETOR/ATENDENTE */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendMsgTransfTicket-label\">Enviar mensagem de transferência de Setor/Atendente</InputLabel>\n            <Select\n              labelId=\"sendMsgTransfTicket-label\"\n              value={SettingsTransfTicket}\n              onChange={async (e) => {\n                handleSettingsTransfTicket(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSettingsTransfTicket && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* IGNORAR MENSAGEM DE GRUPOS */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"CheckMsgIsGroup-label\">Ignorar mensagens de grupo</InputLabel>\n            <Select\n              labelId=\"CheckMsgIsGroup-label\"\n              value={CheckMsgIsGroup}\n              onChange={async (e) => {\n                handleCheckMsgIsGroup(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingCheckMsgIsGroup && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* TIPO DO BOT */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"schedule-type-label\">Tipo do Bot</InputLabel>\n            <Select\n              labelId=\"schedule-type-label\"\n              value={chatBotType}\n              onChange={async (e) => {\n                handleChatBotType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"text\"}>Texto</MenuItem>\n              <MenuItem value={\"button\"}>Botões</MenuItem>\n              <MenuItem value={\"list\"}>Lista</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* AVISO SOBRE LIGAÇÃO DO WHATSAPP */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"acceptCallWhatsapp-label\">Informar que não aceita ligação no whatsapp</InputLabel>\n            <Select\n              labelId=\"acceptCallWhatsapp-label\"\n              value={AcceptCallWhatsapp}\n              onChange={async (e) => {\n                handleAcceptCallWhatsapp(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingAcceptCallWhatsapp && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* HABILITAR PARA O ATENDENTE RETIRAR O ASSINATURA */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendSignMessage-label\">Permite atendente escolher ENVIAR Assinatura</InputLabel>\n            <Select\n              labelId=\"sendSignMessage-label\"\n              value={sendSignMessage}\n              onChange={async (e) => {\n                handleSendSignMessage(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendSignMessage && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR SAUDAÇÃO QUANDO HOUVER SOMENTE 1 FILA */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingMessageOneQueues-label\">Enviar saudação quando houver somente 1 setor</InputLabel>\n            <Select\n              labelId=\"sendGreetingMessageOneQueues-label\"\n              value={sendGreetingMessageOneQueues}\n              onChange={async (e) => {\n                handleSendGreetingMessageOneQueues(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingMessageOneQueues && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR MENSAGEM COM A POSIÇÃO DA FILA */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendQueuePosition-label\">Enviar mensagem com a posicão na fila</InputLabel>\n            <Select\n              labelId=\"sendQueuePosition-label\"\n              value={sendQueuePosition}\n              onChange={async (e) => {\n                handleSendQueuePosition(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendQueuePosition && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        {/* ENVIAR MENSAGEM DE DESPEDIDA NO AGUARDANDO */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendFarewellWaitingTicket-label\">Enviar mensagem de despedida quando aguardando</InputLabel>\n            <Select\n              labelId=\"sendFarewellWaitingTicket-label\"\n              value={sendFarewellWaitingTicket}\n              onChange={async (e) => {\n                handleSendFarewellWaitingTicket(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendFarewellWaitingTicket && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"acceptAudioMessageContact-label\">Aceita receber audio de todos contatos</InputLabel>\n            <Select\n              labelId=\"acceptAudioMessageContact-label\"\n              value={acceptAudioMessageContact}\n              onChange={async (e) => {\n                handleAcceptAudioMessageContact(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingAcceptAudioMessageContact && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n          </Grid>\n      </Grid>\n      {/*-----------------MK-AUTH-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"MK-AUTH\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"ipmkauth\"\n              name=\"ipmkauth\"\n              margin=\"dense\"\n              label=\"Ip Mk-Auth\"\n              variant=\"outlined\"\n              value={ipmkauthType}\n              onChange={async (e) => {\n                handleChangeIpMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingIpMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientidmkauth\"\n              name=\"clientidmkauth\"\n              margin=\"dense\"\n              label=\"Client Id\"\n              variant=\"outlined\"\n              value={clientidmkauthType}\n              onChange={async (e) => {\n                handleChangeClientIdMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientIdMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientsecretmkauth\"\n              name=\"clientsecretmkauth\"\n              margin=\"dense\"\n              label=\"Client Secret\"\n              variant=\"outlined\"\n              value={clientsecretmkauthType}\n              onChange={async (e) => {\n                handleChangeClientSecrectMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientSecrectMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n      {/*-----------------ASAAS-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"ASAAS\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"asaas\"\n              name=\"asaas\"\n              margin=\"dense\"\n              label=\"Token Asaas\"\n              variant=\"outlined\"\n              value={asaasType}\n              onChange={async (e) => {\n                handleChangeAsaas(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingAsaasType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n      {/*-----------------SMTP-AUTH-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"SMPT\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"smtpauth\"\n              name=\"smtpauth\"\n              margin=\"dense\"\n              label=\"Url SMTP\"\n              variant=\"outlined\"\n              value={smtpauthType}\n              onChange={async (e) => {\n                handleChangeUrlSmtpauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingUrlSmtpauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"usersmtpauth\"\n              name=\"usersmtpauth\"\n              margin=\"dense\"\n              label=\"User Smpt\"\n              variant=\"outlined\"\n              value={usersmtpauthType}\n              onChange={async (e) => {\n                handleChangeUserSmptauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingSmtpauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientsecretsmtpauth\"\n              name=\"clientsecretsmtpauth\"\n              margin=\"dense\"\n              label=\"PassWord Smpt\"\n              variant=\"outlined\"\n              value={clientsecretsmtpauthType}\n              onChange={async (e) => {\n                handleChangeClientSecrectSmtpauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientSecrectSmtpauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\n\nOnlyForSuperUser.defaultProps = {\n    user: {},\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport default OnlyForSuperUser;","import React, { useState, useEffect } from \"react\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\n\nimport TabPanel from \"../../components/TabPanel\";\n\nimport SchedulesForm from \"../../components/SchedulesForm\";\nimport CompaniesManager from \"../../components/CompaniesManager\";\nimport PlansManager from \"../../components/PlansManager\";\nimport HelpsManager from \"../../components/HelpsManager\";\nimport Options from \"../../components/Settings/Options\";\n\nimport { i18n } from \"../../translate/i18n.js\";\nimport { toast } from \"react-toastify\";\n\nimport useCompanies from \"../../hooks/useCompanies\";\nimport useAuth from \"../../hooks/useAuth.js\";\nimport useSettings from \"../../hooks/useSettings\";\n\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  mainPaper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    flex: 1,\n  },\n  tab: {\n    // background: \"#f2f5f3\" \n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\n    borderRadius: 4,\n  },\n  paper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  container: {\n    width: \"100%\",\n    maxHeight: \"100%\",\n  },\n  control: {\n    padding: theme.spacing(1),\n  },\n  textfield: {\n    width: \"100%\",\n  },\n}));\n\nconst SettingsCustom = () => {\n  const classes = useStyles();\n  const [tab, setTab] = useState(\"options\");\n  const [schedules, setSchedules] = useState([]);\n  const [company, setCompany] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [settings, setSettings] = useState({});\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n\n  const { getCurrentUserInfo } = useAuth();\n  const { find, updateSchedules } = useCompanies();\n  const { getAll: getAllSettings } = useSettings();\n\n  useEffect(() => {\n    async function findData() {\n      setLoading(true);\n      try {\n        const companyId = localStorage.getItem(\"companyId\");\n        const company = await find(companyId);\n        const settingList = await getAllSettings();\n        setCompany(company);\n        setSchedules(company.schedules);\n        setSettings(settingList);\n\n        if (Array.isArray(settingList)) {\n          const scheduleType = settingList.find(\n            (d) => d.key === \"scheduleType\"\n          );\n          if (scheduleType) {\n            setSchedulesEnabled(scheduleType.value === \"company\");\n          }\n        }\n\n        const user = await getCurrentUserInfo();\n        setCurrentUser(user);\n      } catch (e) {\n        toast.error(e);\n      }\n      setLoading(false);\n    }\n    findData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleTabChange = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleSubmitSchedules = async (data) => {\n    setLoading(true);\n    try {\n      setSchedules(data);\n      await updateSchedules({ id: company.id, schedules: data });\n      toast.success(\"Horários atualizados com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n    setLoading(false);\n  };\n\n  const isSuper = () => {\n    return currentUser.super;\n  };\n\n  return (\n    <MainContainer className={classes.root}>\n      <MainHeader>\n        <Title>{i18n.t(\"settings.title\")}</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} elevation={1}>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          onChange={handleTabChange}\n          className={classes.tab}\n        >\n          <Tab label=\"Opções\" value={\"options\"} />\n          {schedulesEnabled && <Tab label=\"Horários\" value={\"schedules\"} />}\n          {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\n          {isSuper() ? <Tab label=\"Planos\" value={\"plans\"} /> : null}\n          {isSuper() ? <Tab label=\"Ajuda\" value={\"helps\"} /> : null}\n        </Tabs>\n        <Paper className={classes.paper} elevation={0}>\n          <TabPanel\n            className={classes.container}\n            value={tab}\n            name={\"schedules\"}\n          >\n            <SchedulesForm\n              loading={loading}\n              onSubmit={handleSubmitSchedules}\n              initialValues={schedules}\n            />\n          </TabPanel>\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"companies\"}\n              >\n                <CompaniesManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"plans\"}\n              >\n                <PlansManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"helps\"}\n              >\n                <HelpsManager />\n              </TabPanel>\n            )}\n          />\n          <TabPanel className={classes.container} value={tab} name={\"options\"}>\n            <Options\n              settings={settings}\n              scheduleTypeChanged={(value) =>\n                setSchedulesEnabled(value === \"company\")\n              }\n            />\n          </TabPanel>\n        </Paper>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default SettingsCustom;\n","import React from 'react';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport { TextField } from '@material-ui/core';\n\nexport default function InputField(props) {\n  const { errorText, ...rest } = props;\n  const [field, meta] = useField(props);\n\n  function _renderHelperText() {\n    const [touched, error] = at(meta, 'touched', 'error');\n    if (touched && error) {\n      return error;\n    }\n  }\n\n  return (\n    <TextField\n      type=\"text\"\n      error={meta.touched && meta.error && true}\n      helperText={_renderHelperText()}\n      {...field}\n      {...rest}\n    />\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport {\n  InputLabel,\n  FormControl,\n  Select,\n  MenuItem,\n  FormHelperText\n} from '@material-ui/core';\n\nfunction SelectField(props) {\n  const { label, data, ...rest } = props;\n  const [field, meta] = useField(props);\n  const { value: selectedValue } = field;\n  const [touched, error] = at(meta, 'touched', 'error');\n  const isError = touched && error && true;\n  function _renderHelperText() {\n    if (isError) {\n      return <FormHelperText>{error}</FormHelperText>;\n    }\n  }\n\n  return (\n    <FormControl {...rest} error={isError}>\n      <InputLabel>{label}</InputLabel>\n      <Select {...field} value={selectedValue ? selectedValue : ''}>\n        {data.map((item, index) => (\n          <MenuItem key={index} value={item.value}>\n            {item.label}\n          </MenuItem>\n        ))}\n      </Select>\n      {_renderHelperText()}\n    </FormControl>\n  );\n}\n\nSelectField.defaultProps = {\n  data: []\n};\n\nSelectField.propTypes = {\n  data: PropTypes.array.isRequired\n};\n\nexport default SelectField;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { InputField, SelectField } from \"../../FormFields\";\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\n\nconst countries = [\n  {\n    value: \"BR\",\n    label: \"Brasil\",\n  },\n  {\n    value: \"usa\",\n    label: \"United States\",\n  },\n];\n\nexport default function AddressForm(props) {\n\n  const { user } = useContext(AuthContext);\n  const [billingName, setBillingName] = useState(user.company.billingName);\n  const [addressZipCode, setAddressZipCode] = useState(user.company.addressZipCode);\n  const [addressStreet, setAddressStreet] = useState(user.company.addressStreet);\n  const [addressState, setAddressState] = useState(user.company.addressState);\n  const [addressCity, setAddressCity] = useState(user.company.addressCity);\n  const [addressDistrict, setAddressDistrict] = useState(user.company.addressDistrict);\n\n  const {\n    formField: {\n      firstName,\n      address1,\n      city,\n      state,\n      zipcode,\n      country,\n    },\n    setFieldValue\n  } = props;\n  useEffect(() => {\n    setFieldValue(\"firstName\", billingName)\n    setFieldValue(\"zipcode\", addressZipCode)\n    setFieldValue(\"address2\", addressStreet)\n    setFieldValue(\"state\", addressState)\n    setFieldValue(\"city\", addressCity)\n    setFieldValue(\"country\", addressDistrict)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Vamos precisar de algumas informações\n      </Typography>\n      <Grid container spacing={3}>\n\n        <Grid item xs={6} sm={6}>\n          <InputField name={firstName.name} label={firstName.label} fullWidth\n            value={billingName}\n            onChange={(e) => {\n              setBillingName(e.target.value)\n              setFieldValue(\"firstName\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={6} sm={6}>\n          <SelectField\n            name={country.name}\n            label={country.label}\n            data={countries}\n            fullWidth\n            value={addressDistrict}\n            onChange={(e) => {\n              setAddressDistrict(e.target.value)\n              setFieldValue(\"country\", e.target.value)\n            }\n            }\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={zipcode.name}\n            label={zipcode.label}\n            fullWidth\n            value={addressZipCode}\n            onChange={(e) => {\n              setAddressZipCode(e.target.value)\n              setFieldValue(\"zipcode\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={address1.name}\n            label={address1.label}\n            fullWidth\n            value={addressStreet}\n            onChange={(e) => {\n              setAddressStreet(e.target.value)\n              setFieldValue(\"address2\", e.target.value)\n\n            }}\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={state.name}\n            label={state.label}\n            fullWidth\n            value={addressState}\n            onChange={(e) => {\n              setAddressState(e.target.value)\n              setFieldValue(\"state\", e.target.value)\n\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={city.name}\n            label={city.label}\n            fullWidth\n            value={addressCity}\n            onChange={(e) => {\n              setAddressCity(e.target.value)\n              setFieldValue(\"city\", e.target.value)\n            }}\n          />\n        </Grid>\n\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Grid from '@material-ui/core/Grid';\nimport StarIcon from '@material-ui/icons/StarBorder';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport MinimizeIcon from '@material-ui/icons/Minimize';\nimport AddIcon from '@material-ui/icons/Add';\nimport usePlans from \"../../../hooks/usePlans\";\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    ul: {\n      margin: 0,\n      padding: 0,\n      listStyle: 'none',\n    },\n  },\n\n  margin: {\n    margin: theme.spacing(1),\n  },\n\n  cardHeader: {\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\n  },\n\n  cardPricing: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'baseline',\n    marginBottom: theme.spacing(2),\n  },\n\n  footer: {\n    borderTop: `1px solid ${theme.palette.divider}`,\n    marginTop: theme.spacing(8),\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(6),\n    },\n  },\n\n  customCard: {\n    display: \"flex\",\n    marginTop: \"16px\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n\n  custom: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  }\n}));\n\nexport default function Pricing(props) {\n  const {\n    setFieldValue,\n    setActiveStep,\n    activeStep,\n  } = props;\n\n  const classes = useStyles();\n  const [usersPlans, setUsersPlans] = React.useState(3);\n  const [connectionsPlans, setConnectionsPlans] = React.useState(3);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  //const [setLoading] = React.useState(false);\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadPlans();\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyId = localStorage.getItem(\"companyId\");\n      const _planList = await getPlanCompany(undefined, companyId);\n\n      const planList = _planList.plan;\n\n      const plans = []\n\n      plans.push({\n        title: planList.name,\n        planId: planList.id,\n        price: planList.amount,\n        description: [\n          `${planList.users} Usuários`,\n          `${planList.connections} Conexão`,\n          `${planList.queues} Filas`\n        ],\n        users: planList.users,\n        connections: planList.connections,\n        queues: planList.queues,\n        buttonText: 'SELECIONAR',\n        buttonVariant: 'outlined',\n      })\n\n      // setStoragePlans(data);\n\n      setStoragePlans(plans);\n    } catch (e) {\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  const [customValuePlans, setCustomValuePlans] = React.useState(49.00);\n\n  const handleChangeAdd = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11.00;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeMin = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const handleChangeConnectionsAdd = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20.00;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeConnectionsMin = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={3}>\n        {storagePlans?.map((tier) => (\n          // Enterprise card is full width at sm breakpoint\n          <Grid item key={tier.title} xs={12} sm={tier.title === 'Enterprise' ? 12 : 6} md={12}>\n            <Card>\n              <CardHeader\n                title={tier.title}\n                subheader={tier.subheader}\n                titleTypographyProps={{ align: 'center' }}\n                subheaderTypographyProps={{ align: 'center' }}\n                action={tier.title === 'Pro' ? <StarIcon /> : null}\n                className={classes.cardHeader}\n              />\n              <CardContent>\n                <div className={classes.cardPricing}>\n                  <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\n                    {\n                      tier.custom ?\n                        <React.Fragment>\n                          ${customValuePlans.toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                        </React.Fragment>\n                        :\n                        <React.Fragment>\n                          ${tier.price.toLocaleString('en-US', { minimumFractionDigits: 2 })}\n                        </React.Fragment>\n                    }\n                  </Typography>\n                  <Typography variant=\"h6\" color=\"textSecondary\">\n                    /mês\n                  </Typography>\n                </div>\n                <ul>\n                  {tier.description.map((line) => (\n                    <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={line}>\n                      {line}\n                    </Typography>\n                  ))}\n\n                  {\n                    tier.custom && (\n                      <div className={classes.customCard}>\n                        <div className={classes.custom}>\n                          <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={12}>\n\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\n                              <MinimizeIcon fontSize=\"inherit\" onClick={e => handleChangeMin(e, usersPlans - 1)} />\n                            </IconButton>\n                            {usersPlans} Usuários\n\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\n                              <AddIcon fontSize=\"inherit\" onClick={e => handleChangeAdd(e, usersPlans + 1)} />\n                            </IconButton>\n                          </Typography>\n                        </div>\n\n                        <div className={classes.custom}>\n                          <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={12}>\n\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\n                              <MinimizeIcon fontSize=\"inherit\" onClick={(e) => handleChangeConnectionsMin(e, connectionsPlans - 1)} />\n                            </IconButton>\n                            {connectionsPlans} Conexão\n\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\n                              <AddIcon fontSize=\"inherit\" onClick={(e) => handleChangeConnectionsAdd(e, connectionsPlans + 1)} />\n                            </IconButton>\n                          </Typography>\n                        </div>\n                      </div>\n\n                    )\n                  }\n\n                </ul>\n              </CardContent>\n              <CardActions>\n                <Button\n                  fullWidth\n                  variant={tier.buttonVariant}\n                  color=\"primary\"\n                  onClick={() => {\n                    if (tier.custom) {\n                      setFieldValue(\"plan\", JSON.stringify({\n                        users: usersPlans,\n                        connections: connectionsPlans,\n                        price: customValuePlans\n                      }));\n                    } else {\n                      setFieldValue(\"plan\", JSON.stringify(tier));\n                    }\n\n                    setActiveStep(activeStep + 1);\n                  }\n                  }\n                >\n                  {tier.buttonText}\n                </Button>\n              </CardActions>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </React.Fragment>\n  );\n}","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  listItem: {\n    padding: theme.spacing(1, 0)\n  },\n  total: {\n    fontWeight: '700'\n  },\n  title: {\n    marginTop: theme.spacing(2)\n  }\n}));\n","import React from 'react';\nimport { Typography, Grid } from '@material-ui/core';\nimport useStyles from './styles';\n\nfunction PaymentDetails(props) {\n  const { formValues } = props;\n  const classes = useStyles();\n  const { plan } = formValues;\n\n  const newPlan = JSON.parse(plan);\n  const { users, connections, price } = newPlan;\n  return (\n    <Grid item xs={12} sm={12}>\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\n        Detalhes do plano\n      </Typography>\n      <Typography gutterBottom>Usuários: {users}</Typography>\n      <Typography gutterBottom>Whatsapps: {connections}</Typography>\n      <Typography gutterBottom>Cobrança: Mensal</Typography>\n      <Typography gutterBottom>Total: R${price.toLocaleString('pt-br', {minimumFractionDigits: 2})}</Typography>\n    </Grid>\n  );\n}\n\nexport default PaymentDetails;\n","import ReviewOrder from './ReviewOrder';\nexport default ReviewOrder;\n","import React from 'react';\nimport { useFormikContext } from 'formik';\nimport { Typography, Grid } from '@material-ui/core';\nimport ShippingDetails from './ShippingDetails';\n\nexport default function ReviewOrder() {\n  const { values: formValues } = useFormikContext();\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Resumo da assinatura\n      </Typography>\n      <Grid container spacing={2}>\n        <ShippingDetails formValues={formValues} />\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n`;\nexport const Total = styled.div`\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n`;\n\nexport const SuccessContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n`;\n\nexport const CheckoutWrapper = styled.div`\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n`;","import React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport QRCode from 'react-qr-code';\nimport { SuccessContent, Total } from './style';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\nimport { socketConnection } from \"../../../services/socket\";\nimport { useDate } from \"../../../hooks/useDate\";\nimport { toast } from \"react-toastify\";\n\nfunction CheckoutSuccess(props) {\n\n  const { pix } = props;\n  const [pixString,] = useState(pix.qrcode.qrcode);\n  const [copied, setCopied] = useState(false);\n  const history = useHistory();\n\n  const { dateToClient } = useDate();\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n    socket.on(`company-${companyId}-payment`, (data) => {\n\n      if (data.action === \"CONCLUIDA\") {\n        toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 4000);\n      }\n    });\n  }, [history, dateToClient]);\n\n  const handleCopyQR = () => {\n    setTimeout(() => {\n      setCopied(false);\n    }, 1 * 1000);\n    setCopied(true);\n  };\n\n  return (\n    <React.Fragment>\n      <Total>\n        <span>TOTAL</span>\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\n      </Total>\n      <SuccessContent>\n        <QRCode value={pixString} />\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\n          <button className=\"copy-button\" type=\"button\">\n            {copied ? (\n              <>\n                <span>Copiado</span>\n                <FaCheckCircle size={18} />\n              </>\n            ) : (\n              <>\n                <span>Copiar código QR</span>\n                <FaCopy size={18} />\n              </>\n            )}\n          </button>\n        </CopyToClipboard>\n        <span>\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\n          código Pix acima :)\n        </span>\n      </SuccessContent>\n    </React.Fragment>\n  );\n}\n\nexport default CheckoutSuccess;\n","import CheckoutSuccess from './CheckoutSuccess';\nexport default CheckoutSuccess;\n","export default {\n  formId: 'checkoutForm',\n  formField: {\n    firstName: {\n      name: 'firstName',\n      label: 'Nome completo*',\n      requiredErrorMsg: 'O nome completo é obrigatório'\n    },\n    lastName: {\n      name: 'lastName',\n      label: 'Last name*',\n      requiredErrorMsg: 'Last name is required'\n    },\n    address1: {\n      name: 'address2',\n      label: 'Endereço*',\n      requiredErrorMsg: 'O Endereço é obrigatório'\n    },\n\n    city: {\n      name: 'city',\n      label: 'Cidade*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    state: {\n      name: 'state',\n      label: 'Estado*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    zipcode: {\n      name: 'zipcode',\n      label: 'CEP*',\n      requiredErrorMsg: 'CEP é obrigatório',\n      invalidErrorMsg: 'Formato de CEP inválido'\n    },\n    country: {\n      name: 'country',\n      label: 'País*',\n      requiredErrorMsg: 'País é obrigatório'\n    },\n    useAddressForPaymentDetails: {\n      name: 'useAddressForPaymentDetails',\n      label: 'Use this address for payment details'\n    },\n    invoiceId: {\n      name: 'invoiceId',\n      label: 'Use this invoiceId'\n    },\n    nameOnCard: {\n      name: 'nameOnCard',\n      label: 'Name on card*',\n      requiredErrorMsg: 'Name on card is required'\n    },\n    cardNumber: {\n      name: 'cardNumber',\n      label: 'Card number*',\n      requiredErrorMsg: 'Card number is required',\n      invalidErrorMsg: 'Card number is not valid (e.g. 4111111111111)'\n    },\n    expiryDate: {\n      name: 'expiryDate',\n      label: 'Expiry date*',\n      requiredErrorMsg: 'Expiry date is required',\n      invalidErrorMsg: 'Expiry date is not valid'\n    },\n    cvv: {\n      name: 'cvv',\n      label: 'CVV*',\n      requiredErrorMsg: 'CVV is required',\n      invalidErrorMsg: 'CVV is invalid (e.g. 357)'\n    }\n  }\n};\n","import * as Yup from 'yup';\nimport checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    address1,\n    city,\n    zipcode,\n    country,\n  }\n} = checkoutFormModel;\n\n\nexport default [\n  Yup.object().shape({\n    [firstName.name]: Yup.string().required(`${firstName.requiredErrorMsg}`),\n    [address1.name]: Yup.string().required(`${address1.requiredErrorMsg}`),\n    [city.name]: Yup.string()\n      .nullable()\n      .required(`${city.requiredErrorMsg}`),\n    [zipcode.name]: Yup.string()\n      .required(`${zipcode.requiredErrorMsg}`),\n\n    [country.name]: Yup.string()\n      .nullable()\n      .required(`${country.requiredErrorMsg}`)\n  }),\n\n];\n","import checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    lastName,\n    address1,\n    city,\n    state,\n    zipcode,\n    country,\n    useAddressForPaymentDetails,\n    nameOnCard,\n    cardNumber,\n    invoiceId,\n    cvv\n  }\n} = checkoutFormModel;\n\nexport default {\n  [firstName.name]: '',\n  [lastName.name]: '',\n  [address1.name]: '',\n  [city.name]: '',\n  [state.name]: '',\n  [zipcode.name]: '',\n  [country.name]: '',\n  [useAddressForPaymentDetails.name]: false,\n  [nameOnCard.name]: '',\n  [cardNumber.name]: '',\n  [invoiceId.name]: '',\n  [cvv.name]: ''\n};\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  stepper: {\n    padding: theme.spacing(3, 0, 5)\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1)\n  },\n  wrapper: {\n    margin: theme.spacing(1),\n    position: 'relative'\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%'\n  }\n}));\n","import CheckoutPage from './CheckoutPage';\nexport default CheckoutPage;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Stepper,\n  Step,\n  StepLabel,\n  Button,\n  Typography,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Formik, Form } from \"formik\";\n\nimport AddressForm from \"./Forms/AddressForm\";\nimport PaymentForm from \"./Forms/PaymentForm\";\nimport ReviewOrder from \"./ReviewOrder\";\nimport CheckoutSuccess from \"./CheckoutSuccess\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nimport validationSchema from \"./FormModel/validationSchema\";\nimport checkoutFormModel from \"./FormModel/checkoutFormModel\";\nimport formInitialValues from \"./FormModel/formInitialValues\";\n\nimport useStyles from \"./styles\";\n\n\nexport default function CheckoutPage(props) {\n  const steps = [\"Dados\", \"Personalizar\", \"Revisar\"];\n  const { formId, formField } = checkoutFormModel;\n  \n  \n  \n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(1);\n  const [datePayment, setDatePayment] = useState(null);\n  const [invoiceId, ] = useState(props.Invoice.id);\n  const currentValidationSchema = validationSchema[activeStep];\n  const isLastStep = activeStep === steps.length - 1;\n  const { user } = useContext(AuthContext);\n\nfunction _renderStepContent(step, setFieldValue, setActiveStep, values ) {\n\n  switch (step) {\n    case 0:\n      return <AddressForm formField={formField} values={values} setFieldValue={setFieldValue}  />;\n    case 1:\n      return <PaymentForm \n      formField={formField} \n      setFieldValue={setFieldValue} \n      setActiveStep={setActiveStep} \n      activeStep={step} \n      invoiceId={invoiceId}\n      values={values}\n      />;\n    case 2:\n      return <ReviewOrder />;\n    default:\n      return <div>Not Found</div>;\n  }\n}\n\n\n  async function _submitForm(values, actions) {\n    try {\n      const plan = JSON.parse(values.plan);\n      const newValues = {\n        firstName: values.firstName,\n        lastName: values.lastName,\n        address2: values.address2,\n        city: values.city,\n        state: values.state,\n        zipcode: values.zipcode,\n        country: values.country,\n        useAddressForPaymentDetails: values.useAddressForPaymentDetails,\n        nameOnCard: values.nameOnCard,\n        cardNumber: values.cardNumber,\n        cvv: values.cvv,\n        plan: values.plan,\n        price: plan.price,\n        users: plan.users,\n        connections: plan.connections,\n        invoiceId: invoiceId\n      }\n\n      const { data } = await api.post(\"/subscription\", newValues);\n      setDatePayment(data)\n      actions.setSubmitting(true);\n      setActiveStep(activeStep + 1);\n      toast.success(\"Assinatura realizada com sucesso!, aguardando a realização do pagamento\");\n    } catch (err) {\n      actions.setSubmitting(false);\n     \n      toastError(err);\n    }\n  }\n\n  function _handleSubmit(values, actions) {\n    if (isLastStep) {\n      _submitForm(values, actions);\n    } else {\n      setActiveStep(activeStep + 1);\n      actions.setTouched({});\n      actions.setSubmitting(false);\n    }\n  }\n\n  function _handleBack() {\n    setActiveStep(activeStep - 1);\n  }\n\n  return (\n    <React.Fragment>\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n        Falta pouco!\n      </Typography>\n      <Stepper activeStep={activeStep} className={classes.stepper}>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <React.Fragment>\n        {activeStep === steps.length ? (\n          <CheckoutSuccess pix={datePayment} />\n        ) : (\n          <Formik\n            initialValues={{\n              ...user, \n              ...formInitialValues\n            }}\n            validationSchema={currentValidationSchema}\n            onSubmit={_handleSubmit}\n          >\n            {({ isSubmitting, setFieldValue, values }) => (\n              <Form id={formId}>\n                {_renderStepContent(activeStep, setFieldValue, setActiveStep, values)}\n\n                <div className={classes.buttons}>\n                  {activeStep !== 1 && (\n                    <Button onClick={_handleBack} className={classes.button}>\n                      VOLTAR\n                    </Button>\n                  )}\n                  <div className={classes.wrapper}>\n                    {activeStep !== 1 && (\n                      <Button\n                        disabled={isSubmitting}\n                        type=\"submit\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                      >\n                        {isLastStep ? \"PAGAR\" : \"PRÓXIMO\"}\n                      </Button>\n                    )}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </div>\n                </div>\n              </Form>\n            )}\n          </Formik>\n        )}\n      </React.Fragment>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport CheckoutPage from \"../CheckoutPage/\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactModal = ({ open, onClose, Invoice, contactId, initialValues, onSave }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"md\" scroll=\"paper\">\n        <DialogContent dividers>\n          <CheckoutPage\n            Invoice={Invoice}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport toastError from \"../../errors/toastError\";\n\nimport moment from \"moment\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INVOICES\") {\n    const invoices = action.payload;\n    const newUsers = [];\n\n    invoices.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Invoices = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam, ] = useState(\"\");\n  const [invoices, dispatch] = useReducer(reducer, []);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n\n  const handleOpenContactModal = (invoices) => {\n    setStoragePlans(invoices);\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchInvoices = async () => {\n        try {\n          const { data } = await api.get(\"/invoices/all\", {\n            params: { searchParam, pageNumber },\n          });\n\n          dispatch({ type: \"LOAD_INVOICES\", payload: data });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchInvoices();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const rowStyle = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();\n    if (dias < 0 && record.status !== \"paid\") {\n      return { backgroundColor: \"#ffbcbc9c\" };\n    }\n  };\n\n  const rowStatus = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();\n    const status = record.status;\n    if (status === \"paid\") {\n      return \"Pago\";\n    }\n    if (dias < 0) {\n      return \"Vencido\";\n    } else {\n      return \"Em Aberto\"\n    }\n  }\n  \n  const renderUseWhatsapp = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseFacebook = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseInstagram = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseCampaigns = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseSchedules = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseInternalChat = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseExternalApi = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n\n  return (\n    <MainContainer>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        Invoice={storagePlans}\n        contactId={selectedContactId}\n\n      ></SubscriptionModal>\n      <MainHeader>\n        <Title>Faturas ({invoices.length})</Title>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              {/* <TableCell align=\"center\">Id</TableCell> */}\n              <TableCell align=\"center\">Detalhes</TableCell>\n\n              <TableCell align=\"center\">Usuários</TableCell>\n              <TableCell align=\"center\">Conexões</TableCell>\n              <TableCell align=\"center\">Filas</TableCell>\n              {/* <TableCell align=\"center\">Whatsapp</TableCell>\n              <TableCell align=\"center\">Facebook</TableCell>\n              <TableCell align=\"center\">Instagram</TableCell> */}\n              {/* <TableCell align=\"center\">Campanhas</TableCell>\n              <TableCell align=\"center\">Agendamentos</TableCell>\n              <TableCell align=\"center\">Chat Interno</TableCell>\n              <TableCell align=\"center\">Rest PI</TableCell> */}\n\n              <TableCell align=\"center\">Valor</TableCell>\n              <TableCell align=\"center\">Data Venc.</TableCell>\n              <TableCell align=\"center\">Status</TableCell>\n              <TableCell align=\"center\">Ação</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {invoices.map((invoices) => (\n                <TableRow style={rowStyle(invoices)} key={invoices.id}>\n                  {/* <TableCell align=\"center\">{invoices.id}</TableCell> */}\n                  <TableCell align=\"center\">{invoices.detail}</TableCell>\n\n                  <TableCell align=\"center\">{invoices.users}</TableCell>\n                  <TableCell align=\"center\">{invoices.connections}</TableCell>\n                  <TableCell align=\"center\">{invoices.queues}</TableCell>\n                  {/* <TableCell align=\"center\">{renderUseWhatsapp(invoices.useWhatsapp)}</TableCell>\n                  <TableCell align=\"center\">{renderUseFacebook(invoices.useFacebook)}</TableCell>\n                  <TableCell align=\"center\">{renderUseInstagram(invoices.useInstagram)}</TableCell> */}\n                  {/* <TableCell align=\"center\">{renderUseCampaigns(invoices.useCampaigns)}</TableCell>\n                  <TableCell align=\"center\">{renderUseSchedules(invoices.useSchedules)}</TableCell>\n                  <TableCell align=\"center\">{renderUseInternalChat(invoices.useInternalChat)}</TableCell>\n                  <TableCell align=\"center\">{renderUseExternalApi(invoices.useExternalApi)}</TableCell> */}\n\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{invoices.value.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}</TableCell>\n                  <TableCell align=\"center\">{moment(invoices.dueDate).format(\"DD/MM/YYYY\")}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{rowStatus(invoices)}</TableCell>\n                  <TableCell align=\"center\">\n                    {rowStatus(invoices) !== \"Pago\" ?\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        onClick={() => handleOpenContactModal(invoices)}\n                      >\n                        PAGAR\n                      </Button> :\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                      // color=\"secondary\"\n                      >\n                        PAGO\n                      </Button>}\n\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Invoices;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { green, red } from '@material-ui/core/colors';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst useStyles = makeStyles(theme => ({\n    on: {\n        color: green[600],\n        fontSize: '20px'\n    },\n    off: {\n        color: red[600],\n        fontSize: '20px'\n    }\n}));\n\nconst UserStatusIcon = ({ user }) => {\n    const classes = useStyles();\n    return user.online ?\n        <CheckCircleIcon className={classes.on} />\n        : <ErrorIcon className={classes.off} />\n}\n\nexport default UserStatusIcon;","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\nimport UserStatusIcon from \"../../components/UserModal/statusIcon\";\nimport { WhatsApp } from \"@material-ui/icons\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-user`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")} ({users.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.id\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.status\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.email\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.profile\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.whatsapp\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.startWork\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.endWork\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.id}</TableCell>\n                  <TableCell align=\"center\"><UserStatusIcon user={user} /></TableCell>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">{user.whatsapp?.name}</TableCell>\n                  <TableCell align=\"center\">{user.startWork}</TableCell>\n                  <TableCell align=\"center\">{user.endWork}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={8} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, {\n    useState,\n    useEffect,\n    useReducer,\n    useContext,\n    useRef,\n} from \"react\";\nimport { socketConnection } from \"../../services/socket\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { CSVLink } from \"react-csv\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport Archive from \"@material-ui/icons/Archive\"\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport BlockIcon from \"@material-ui/icons/Block\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\n\nimport {\n    ArrowDropDown,\n    Backup,\n    CloudDownload,\n    ContactPhone,\n} from \"@material-ui/icons\";\nimport { Menu, MenuItem } from \"@material-ui/core\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_CONTACTS\") {\n        const contacts = action.payload;\n        const newContacts = [];\n\n        contacts.forEach((contact) => {\n            const contactIndex = state.findIndex((c) => c.id === contact.id);\n            if (contactIndex !== -1) {\n                state[contactIndex] = contact;\n            } else {\n                newContacts.push(contact);\n            }\n        });\n\n        return [...state, ...newContacts];\n    }\n\n    if (action.type === \"UPDATE_CONTACTS\") {\n        const contact = action.payload;\n        const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n        if (contactIndex !== -1) {\n            state[contactIndex] = contact;\n            return [...state];\n        } else {\n            return [contact, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_CONTACT\") {\n        const contactId = action.payload;\n\n        const contactIndex = state.findIndex((c) => c.id === contactId);\n        if (contactIndex !== -1) {\n            state.splice(contactIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst Contacts = () => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const { user } = useContext(AuthContext);\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [contacts, dispatch] = useReducer(reducer, []);\n    const [selectedContactId, setSelectedContactId] = useState(null);\n    const [contactModalOpen, setContactModalOpen] = useState(false);\n    const [deletingContact, setDeletingContact] = useState(null);\n    const [ImportContacts, setImportContacts] = useState(null);\n    const [blockingContact, setBlockingContact] = useState(null);\n    const [unBlockingContact, setUnBlockingContact] = useState(null);\n    const [confirmOpen, setConfirmOpen] = useState(false);\n    const [confirmChatsOpen, setConfirmChatsOpen] = useState(false);\n    const [hasMore, setHasMore] = useState(false);\n    const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n    const [contactTicket, setContactTicket] = useState({});\n    const fileUploadRef = useRef(null);\n\n    const handleImportExcel = async () => {\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", fileUploadRef.current.files[0]);\n            await api.request({\n                url: `/contacts/upload`,\n                method: \"POST\",\n                data: formData,\n            });\n            history.go(0);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const handleExportExcel = async () => {\n        try {\n            const { data } = await api.post(\"/contacts/export\", {});\n\n            const url = `${process.env.REACT_APP_BACKEND_URL}/public/${data}`;\n\n            window.open(url, \"_blank\");\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    // const teste = async () => {\n    //     return <CSVLink\n    //         className={classes.csvbtn}\n    //         separator=\";\"\n    //         filename={'contacts.csv'}\n    //         data={\n    //             contacts.map((contact) => ({\n    //                 name: contact.name,\n    //                 number: contact.number,\n    //                 email: contact.email\n    //             }))\n    //         }>\n    //         <Button\n    //             variant=\"contained\"\n    //             color=\"primary\">\n    //             <Archive />\n    //             &nbsp; {i18n.t(\"contacts.buttons.export\")}\n    //         </Button>\n    //     </CSVLink>\n    // }\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async () => {\n                try {\n                    const { data } = await api.get(\"/contacts/\", {\n                        params: { searchParam, pageNumber },\n                    });\n                    dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n                    setHasMore(data.hasMore);\n                    setLoading(false);\n                } catch (err) {\n                    toastError(err);\n                }\n            };\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber]);\n\n    useEffect(() => {\n        const companyId = localStorage.getItem(\"companyId\");\n        const socket = socketConnection({ companyId });\n\n        socket.on(`company-${companyId}-contact`, (data) => {\n            if (data.action === \"update\" || data.action === \"create\") {\n                dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n            }\n\n            if (data.action === \"delete\") {\n                dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n            }\n        });\n\n        return () => {\n            socket.disconnect();\n        };\n    }, []);\n\n    const handleCloseOrOpenTicket = (ticket) => {\n        setNewTicketModalOpen(false);\n        if (ticket !== undefined && ticket.uuid !== undefined) {\n            history.push(`/tickets/${ticket.uuid}`);\n        }\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleOpenContactModal = () => {\n        setSelectedContactId(null);\n        setContactModalOpen(true);\n    };\n\n    const handleCloseContactModal = () => {\n        setSelectedContactId(null);\n        setContactModalOpen(false);\n    };\n\n    const handleSaveTicket = async (contactId) => {\n        if (!contactId) return;\n        setLoading(true);\n        try {\n            const { data: ticket } = await api.post(\"/tickets\", {\n                contactId: contactId,\n                userId: user?.id,\n                status: \"open\",\n            });\n            history.push(`/tickets/${ticket.uuid}`);\n        } catch (err) {\n            toastError(err);\n        }\n        setLoading(false);\n    };\n\n    const hadleEditContact = (contactId) => {\n        setSelectedContactId(contactId);\n        setContactModalOpen(true);\n    };\n\n    const handleDeleteContact = async (contactId) => {\n        try {\n            await api.delete(`/contacts/${contactId}`);\n            toast.success(i18n.t(\"contacts.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingContact(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n    };\n\n    const handleBlockContact = async (contactId) => {\n        try {\n            await api.put(`/contacts/block/${contactId}`, { active: false });\n            toast.success(\"Contato bloqueado\");\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingContact(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n    };\n\n    const handleUnBlockContact = async (contactId) => {\n        try {\n            await api.put(`/contacts/block/${contactId}`, { active: true });\n            toast.success(\"Contato desbloqueado\");\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingContact(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n    };\n\n    const handleimportContact = async () => {\n        try {\n            await api.post(\"/contacts/import\");\n            history.go(0);\n            \n            // setImportContacts(false);\n        } catch (err) {\n            toastError(err);\n            //setImportContacts(false);\n        }\n    };\n\n    const handleimportChats = async () => {\n        try {\n            await api.post(\"/contacts/import/chats\");\n            history.go(0);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    function getDateLastMessage(contact) {\n        if (!contact) return null;\n        if (!contact.tickets) return null;\n\n        if (contact.tickets.length > 0) {\n            const date = new Date(\n                contact.tickets[contact.tickets.length - 1].updatedAt\n            );\n\n            const day =\n                date.getDate() > 9 ? date.getDate() : `0${date.getDate()}`;\n            const month = date.getMonth() + 1;\n            const year = date.getFullYear();\n\n            const hours = date.getHours();\n            const minutes = date.getMinutes();\n\n            return `${day}/${month}/${year} ${hours}:${minutes}`;\n        }\n\n        return null;\n    }\n\n    return (\n        <MainContainer className={classes.mainContainer}>\n            <NewTicketModal\n                modalOpen={newTicketModalOpen}\n                initialContact={contactTicket}\n                onClose={(ticket) => {\n                    handleCloseOrOpenTicket(ticket);\n                }}\n            />\n            <ContactModal\n                open={contactModalOpen}\n                onClose={handleCloseContactModal}\n                aria-labelledby=\"form-dialog-title\"\n                contactId={selectedContactId}\n            ></ContactModal>\n            <ConfirmationModal\n                title={\n                    deletingContact\n                        ? `${i18n.t(\n                            \"contacts.confirmationModal.deleteTitle\"\n                        )} ${deletingContact.name}?`\n                        : blockingContact\n                            ? `Bloquear Contato ${blockingContact.name}?`\n                            : unBlockingContact\n                                ? `Desbloquear Contato ${unBlockingContact.name}?`\n                                : ImportContacts\n                                    ? `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n                                    : `${i18n.t(\n                                        \"contactListItems.confirmationModal.importTitlte\"\n                                    )}`\n                }\n                open={confirmOpen}\n                onClose={setConfirmOpen}\n                onConfirm={(e) =>\n                    deletingContact\n                        ? handleDeleteContact(deletingContact.id)\n                        : blockingContact\n                            ? handleBlockContact(blockingContact.id)\n                            : unBlockingContact\n                                ? handleUnBlockContact(unBlockingContact.id)\n                                : ImportContacts\n                                    ? handleimportContact()\n                                    : handleImportExcel()\n                }\n            >\n                {deletingContact\n                    ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n                    : blockingContact\n                        ? `Tem certeza que deseja bloquear este contato?`\n                        : unBlockingContact\n                            ? `Tem certeza que deseja desbloquear este contato?`\n                            : ImportContacts\n                                ? `${i18n.t(\"contacts.confirmationModal.importMessage\")}`\n                                : `${i18n.t(\n                                    \"contactListItems.confirmationModal.importMessage\"\n                                )}`}\n            </ConfirmationModal>\n            <ConfirmationModal\n                title={\"Importar Conversas\"}\n                open={confirmChatsOpen}\n                onClose={setConfirmChatsOpen}\n                onConfirm={(e) => handleimportChats()}\n            >\n                Deseja importar todas as conversas do telefone?\n            </ConfirmationModal>\n            <MainHeader>\n                <Title>{i18n.t(\"contacts.title\")} ({contacts.length})</Title>\n                <MainHeaderButtonsWrapper>\n                    <TextField\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon color=\"secondary\" />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n                        {(popupState) => (\n                            <React.Fragment>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    {...bindTrigger(popupState)}\n                                >\n                                    Importar / Exportar\n                                    <ArrowDropDown />\n                                </Button>\n                                <Menu {...bindMenu(popupState)}>\n                                    <MenuItem\n                                        onClick={() => {\n                                            setConfirmOpen(true);\n                                            setImportContacts(true);\n                                            popupState.close();\n                                        }}\n                                    >\n                                        <ContactPhone\n                                            fontSize=\"small\"\n                                            color=\"primary\"\n                                            style={{\n                                                marginRight: 10,\n                                            }}\n                                        />\n                                        Importar Agenda\n                                    </MenuItem>\n                                    <MenuItem\n                                        onClick={() => {\n                                            fileUploadRef.current.value = null;\n                                            fileUploadRef.current.click();\n                                        }}\n                                    >\n                                        <Backup\n                                            fontSize=\"small\"\n                                            color=\"primary\"\n                                            style={{\n                                                marginRight: 10,\n                                            }}\n                                        />\n                                        Importar Excel\n                                    </MenuItem>\n                                    {/* <MenuItem\n                                        onClick={() => {\n                                            <>\n                                                <CSVLink\n                                                    className={classes.csvbtn}\n                                                    separator=\";\"\n                                                    filename={'contacts.xlsx'}\n                                                    data={\n                                                        contacts.map((contact) => ({\n                                                            name: contact.name,\n                                                            number: contact.number,\n                                                            email: contact.email\n                                                        }))\n                                                    }>\n                                                    <Button\n                                                        variant=\"contained\"\n                                                        color=\"primary\">\n                                                        <Archive />\n                                                        &nbsp; {i18n.t(\"contacts.buttons.export\")}\n                                                    </Button>\n                                                </CSVLink>\n                                            </>\n\n                                            // handleExportExcel();\n                                            // popupState.close();\n                                        }}\n                                    >\n                                        <CloudDownload\n                                            fontSize=\"small\"\n                                            color=\"primary\"\n                                            style={{\n                                                marginRight: 10,\n                                            }}\n                                        />\n                                        Exportar Excel\n                                    </MenuItem> */}\n                                </Menu>\n                            </React.Fragment>\n                        )}\n                    </PopupState>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenContactModal}\n                    >\n                        {i18n.t(\"contacts.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Paper\n                className={classes.mainPaper}\n                variant=\"outlined\"\n                onScroll={handleScroll}\n            >\n                <>\n                    <input\n                        style={{ display: \"none\" }}\n                        id=\"upload\"\n                        name=\"file\"\n                        type=\"file\"\n                        accept=\".xls,.xlsx\"\n                        onChange={() => {\n                            setConfirmOpen(true);\n                        }}\n                        ref={fileUploadRef}\n                    />\n                </>\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell padding=\"checkbox\" />\n                            <TableCell>\n                                {i18n.t(\"contacts.table.name\")}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"contacts.table.whatsapp\")}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"contacts.table.email\")}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {\"Ultimo mensaje\"}\n                            </TableCell>\n                            <TableCell align=\"center\">{\"Status\"}</TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"contacts.table.actions\")}\n                            </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {contacts.map((contact) => (\n                                <TableRow key={contact.id}>\n                                    <TableCell style={{ paddingRight: 0 }}>\n                                        {<Avatar src={contact.profilePicUrl} />}\n                                    </TableCell>\n                                    <TableCell>{contact.name}</TableCell>\n                                    <TableCell align=\"center\">\n                                        {contact.number}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {contact.email}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {getDateLastMessage(contact)}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {contact.active ? (\n                                            <CheckCircleIcon\n                                                style={{ color: \"green\" }}\n                                                fontSize=\"small\"\n                                            />\n                                        ) : (\n                                            <CancelIcon\n                                                style={{ color: \"red\" }}\n                                                fontSize=\"small\"\n                                            />\n                                        )}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={() => {\n                                                setContactTicket(contact);\n                                                setNewTicketModalOpen(true);\n                                                // handleSaveTicket(contact.id);\n                                            }}\n                                        >\n                                            <WhatsAppIcon color=\"secondary\" />\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={() =>\n                                                hadleEditContact(contact.id)\n                                            }\n                                        >\n                                            <EditIcon color=\"secondary\" />\n                                        </IconButton>\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={\n                                                contact.active\n                                                    ? () => {\n                                                        setConfirmOpen(true);\n                                                        setBlockingContact(\n                                                            contact\n                                                        );\n                                                    }\n                                                    : () => {\n                                                        setConfirmOpen(true);\n                                                        setUnBlockingContact(\n                                                            contact\n                                                        );\n                                                    }\n                                            }\n                                        >\n                                            {contact.active ? (\n                                                <BlockIcon color=\"secondary\" />\n                                            ) : (\n                                                <CheckCircleIcon color=\"secondary\" />\n                                            )}\n                                        </IconButton>\n                                        <Can\n                                            role={user.profile}\n                                            perform=\"contacts-page:deleteContact\"\n                                            yes={() => (\n                                                <IconButton\n                                                    size=\"small\"\n                                                    onClick={(e) => {\n                                                        setConfirmOpen(true);\n                                                        setDeletingContact(\n                                                            contact\n                                                        );\n                                                    }}\n                                                >\n                                                    <DeleteOutlineIcon color=\"secondary\" />\n                                                </IconButton>\n                                            )}\n                                        />\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton avatar columns={3} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer >\n    );\n};\n\nexport default Contacts;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tTooltip,\n\tTypography,\n} from \"@material-ui/core\";\n\n\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst ToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n      // placement=\"bottom\"\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nexport default ToolTip","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\nimport api from \"../../services/api\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { Formik, Field, FieldArray } from \"formik\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { toast } from \"react-toastify\";\r\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\r\nimport CustomToolTip from \"../ToolTips\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { FormControlLabel } from \"@material-ui/core\";\r\n\r\nconst QueueSchema = Yup.object().shape({\r\n  options: Yup.array()\r\n    .of(\r\n      Yup.object().shape({\r\n        name: Yup.string().min(4, \"muito curto\").required(\"Required\"),\r\n      })\r\n    )\r\n    .required(\"Precisa ter amigos\"),\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  greetingMessage: {\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  Box: {\r\n    cursor: \"pointer\",\r\n    alignItems: \"center\",\r\n  },\r\n}));\r\n\r\nfunction getStepContent(step) {\r\n  return <VerticalLinearStepper chatBotId={step} />;\r\n}\r\n\r\nexport default function VerticalLinearStepper(props) {\r\n  const initialState = {\r\n    name: \"\",\r\n    greetingMessage: \"\",\r\n    options: [],\r\n  };\r\n\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = React.useState(-1);\r\n  const [steps, setSteps] = React.useState(initialState);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [isStepContent, setIsStepContent] = React.useState(true);\r\n  const [isNameEdit, setIsNamedEdit] = React.useState(null);\r\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = React.useState(null);\r\n  const [selectedQueue, setSelectedQueue] = React.useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = React.useState(false);\r\n\r\n  const handleSaveBot = async (values) => {\r\n    try {\r\n      if (props.chatBotId) {\r\n        await api.put(`/chatbot/${props.chatBotId}`, values);\r\n      } else {\r\n        await api.post(\"/chatbot\", values);\r\n      }\r\n      toast.success(\"Bot saved successfully\");\r\n      // setActiveStep(-1)\r\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\r\n\r\n      setSteps(initialState);\r\n      setSteps(data);\r\n      setIsNamedEdit(null);\r\n      setGreetingMessageEdit(null);\r\n\r\n      setSteps(data);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setLoading(true);\r\n\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchList = async () => {\r\n        try {\r\n          const { data } = await api.get(`/chatbot/${props.chatBotId}`);\r\n          setSteps(data);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n      fetchList();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [props.chatBotId]);\r\n\r\n  React.useEffect(() => {\r\n    if (activeStep === isNameEdit) {\r\n      setIsStepContent(false);\r\n    } else {\r\n      setIsStepContent(true);\r\n    }\r\n  }, [isNameEdit, activeStep]);\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleDeleteQueue = async (queueId) => {\r\n    try {\r\n      await api.delete(`/chatbot/${queueId}`);\r\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\r\n      setSteps(initialState);\r\n      setSteps(data);\r\n      setIsNamedEdit(null);\r\n      setGreetingMessageEdit(null);\r\n      setSteps(data);\r\n      toast.success(i18n.t(\"Fila excluída com sucesso!\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedQueue &&\r\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\r\n            selectedQueue.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\r\n      >\r\n        {i18n.t(\"Tem certeza? Todas as opções internas também serão excluídas\")}\r\n      </ConfirmationModal>\r\n\r\n      {!loading && (\r\n        <div>\r\n          <Formik\r\n            initialValues={steps}\r\n            validateOnChange={false}\r\n            enableReinitialize={true}\r\n            validationSchema={QueueSchema}\r\n            render={({\r\n              touched,\r\n              errors,\r\n              isSubmitting,\r\n              values,\r\n              handleSubmit,\r\n            }) => (\r\n              <FieldArray name=\"options\">\r\n                {({ push, remove }) => (\r\n                  <>\r\n                    <Stepper\r\n                      nonLinear\r\n                      activeStep={activeStep}\r\n                      orientation=\"vertical\"\r\n                    >\r\n                      {values.options &&\r\n                        values.options.length > 0 &&\r\n                        values.options.map((info, index) => (\r\n                          <Step\r\n                            key={`${info.id ? info.id : index}-options`}\r\n                            onClick={() => setActiveStep(index)}\r\n                          >\r\n                            <StepLabel key={`${info.id}-options`}>\r\n                              {isNameEdit !== index &&\r\n                              steps.options[index]?.name ? (\r\n                                <div\r\n                                  className={classes.greetingMessage}\r\n                                  variant=\"body1\"\r\n                                >\r\n                                  {values.options[index].name}\r\n\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={() => {\r\n                                      setIsNamedEdit(index);\r\n                                      setIsStepContent(false);\r\n                                    }}\r\n                                  >\r\n                                    <EditIcon />\r\n                                  </IconButton>\r\n\r\n                                  <IconButton\r\n                                    onClick={() => {\r\n                                      setSelectedQueue(info);\r\n                                      setConfirmModalOpen(true);\r\n                                    }}\r\n                                    size=\"small\"\r\n                                  >\r\n                                    <DeleteOutline />\r\n                                  </IconButton>\r\n                                </div>\r\n                              ) : (\r\n                                <>\r\n                                  <Field\r\n                                    as={TextField}\r\n                                    name={`options[${index}].name`}\r\n                                    variant=\"standard\"\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    autoFocus\r\n                                    error={\r\n                                      touched?.options?.[index]?.name &&\r\n                                      Boolean(errors.options?.[index]?.name)\r\n                                    }\r\n                                    className={classes.textField}\r\n                                  />\r\n\r\n                                  <FormControlLabel\r\n                                    control={\r\n                                      <Field\r\n                                        as={Switch}\r\n                                        color=\"primary\"\r\n                                        name={`options[${index}].isAgent`}\r\n                                        checked={\r\n                                          values.options[index].isAgent || false\r\n                                        }\r\n                                      />\r\n                                    }\r\n                                    label=\"Atendente\"\r\n                                  />\r\n\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={() =>\r\n                                      values.options[index].name\r\n                                        ? handleSaveBot(values)\r\n                                        : null\r\n                                    }\r\n                                    disabled={isSubmitting}\r\n                                  >\r\n                                    <SaveIcon />\r\n                                  </IconButton>\r\n\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={() => remove(index)}\r\n                                    disabled={isSubmitting}\r\n                                  >\r\n                                    <DeleteOutline />\r\n                                  </IconButton>\r\n                                </>\r\n                              )}\r\n                            </StepLabel>\r\n\r\n                            {isStepContent && steps.options[index] && (\r\n                              <StepContent>\r\n                                <>\r\n                                  {isGreetingMessageEdit !== index ? (\r\n                                    <div className={classes.greetingMessage}>\r\n                                      <Typography\r\n                                        color=\"textSecondary\"\r\n                                        variant=\"body1\"\r\n                                      >\r\n                                        Message:\r\n                                      </Typography>\r\n\r\n                                      {values.options[index].greetingMessage}\r\n\r\n                                      {!steps.options[index]\r\n                                        ?.greetingMessage && (\r\n                                        <CustomToolTip\r\n                                          title=\"A mensagem é obrigatória para passar para o próximo nível.\"\r\n                                          content=\"Se a mensagem não estiver definida, o bot não o seguirá.\"\r\n                                        >\r\n                                          <HelpOutlineOutlinedIcon\r\n                                            color=\"secondary\"\r\n                                            style={{ marginLeft: \"4px\" }}\r\n                                            fontSize=\"small\"\r\n                                          />\r\n                                        </CustomToolTip>\r\n                                      )}\r\n\r\n                                      <IconButton\r\n                                        size=\"small\"\r\n                                        onClick={() =>\r\n                                          setGreetingMessageEdit(index)\r\n                                        }\r\n                                      >\r\n                                        <EditIcon />\r\n                                      </IconButton>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <div className={classes.greetingMessage}>\r\n                                      <Field\r\n                                        as={TextField}\r\n                                        name={`options[${index}].greetingMessage`}\r\n                                        variant=\"standard\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                        multiline\r\n                                        error={\r\n                                          touched.greetingMessage &&\r\n                                          Boolean(errors.greetingMessage)\r\n                                        }\r\n                                        helperText={\r\n                                          touched.greetingMessage &&\r\n                                          errors.greetingMessage\r\n                                        }\r\n                                        className={classes.textField}\r\n                                      />\r\n\r\n                                      <IconButton\r\n                                        size=\"small\"\r\n                                        onClick={() => handleSaveBot(values)}\r\n                                        disabled={isSubmitting}\r\n                                      >\r\n                                        {\" \"}\r\n                                        <SaveIcon />\r\n                                      </IconButton>\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  {getStepContent(info.id)}\r\n                                </>\r\n                              </StepContent>\r\n                            )}\r\n                          </Step>\r\n                        ))}\r\n\r\n                      <Step>\r\n                        <StepLabel\r\n                          onClick={() =>\r\n                            push({\r\n                              name: undefined,\r\n                              greetingMessage: undefined,\r\n                            })\r\n                          }\r\n                        >\r\n                          Adicionar opções..\r\n                        </StepLabel>\r\n                      </Step>\r\n                    </Stepper>\r\n                  </>\r\n                )}\r\n              </FieldArray>\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { BlockPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n\tconst [selectedColor, setSelectedColor] = useState(currentColor);\n\n\tconst handleChange = color => {\n\t\tsetSelectedColor(color.hex);\n\t\thandleClose();\n\t};\n\n\tconst colors = [\n    \"#B80000\",\n    \"#DB3E00\",\n    \"#FCCB00\",\n    \"#008B02\",\n    \"#006B76\",\n    \"#1273DE\",\n    \"#004DCF\",\n    \"#5300EB\",\n    \"#EB9694\",\n    \"#FAD0C3\",\n    \"#FEF3BD\",\n    \"#C1E1C5\",\n    \"#BEDADC\",\n    \"#C4DEF6\",\n    \"#BED3F3\",\n    \"#D4C4FB\",\n    \"#4D4D4D\",\n    \"#999999\",\n    \"#FFFFFF\",\n    \"#F44E3B\",\n    \"#FE9200\",\n    \"#FCDC00\",\n    \"#DBDF00\",\n    \"#A4DD00\",\n    \"#68CCCA\",\n    \"#73D8FF\",\n    \"#AEA1FF\",\n    \"#FDA1FF\",\n    \"#333333\",\n    \"#808080\",\n    \"#cccccc\",\n    \"#D33115\",\n    \"#E27300\",\n    \"#FCC400\",\n    \"#B0BC00\",\n    \"#68BC00\",\n    \"#16A5A5\",\n    \"#009CE0\",\n    \"#7B64FF\",\n    \"#FA28FF\",\n    \"#666666\",\n    \"#B3B3B3\",\n    \"#9F0500\",\n    \"#C45100\",\n    \"#FB9E00\",\n    \"#808900\",\n    \"#194D33\",\n    \"#0C797D\",\n    \"#0062B1\",\n    \"#653294\",\n    \"#AB149E\",\n\t];\n\n\treturn (\n\t\t<Dialog\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\topen={open}\n\t\t>\n\t\t\t<BlockPicker\n\t\t\t\twidth={\"100%\"}\n\t\t\t\ttriangle=\"hide\"\n\t\t\t\tcolor={selectedColor}\n\t\t\t\tcolors={colors}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonChangeComplete={color => onChange(color.hex)}\n\t\t\t/>\n\t\t</Dialog>\n\t);\n};\n\nexport default ColorPicker;\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: \"100%\",\r\n      //height: 400,\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        maxHeight: \"20vh\",\r\n      },\r\n    },\r\n    button: {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n    input: {\r\n      marginTop: theme.spacing(1),\r\n      marginBottom: theme.spacing(1),\r\n    },\r\n    addButton: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n  }));","function getConfig(name, defaultValue = null) {\n    // If inside a docker container, use window.ENV\n    if (window.ENV !== undefined) {\n        return window.ENV[name] || defaultValue;\n    }\n\n    return process.env[name] || defaultValue;\n}\n\nexport function getBackendUrl() {\n    return getConfig('REACT_APP_BACKEND_URL');\n}\n\nexport function getHoursCloseTicketsAuto() {\n    return getConfig('REACT_APP_HOURS_CLOSE_TICKETS_AUTO');\n}\n\nexport function getFrontendPort() {\n    return getConfig('SERVER_PORT');\n}\n\nexport function getPrimaryColor() {\n    return getConfig(\"REACT_APP_PRIMARY_COLOR\");\n}\n\nexport function getPrimaryDark() {\n    return getConfig(\"REACT_APP_PRIMARY_DARK\");\n}\n\nexport function getNumberSupport() {\n    return getConfig(\"REACT_APP_NUMBER_SUPPORT\");\n}\n\nexport function getOpenAIApiKey() {\n    return getConfig('REACT_APP_API_OPEN_AI');\n}\n\nexport function getNameSystem() {\n    return getConfig('REACT_APP_NAME_SYSTEM');\n}\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport CustomToolTip from \"../ToolTips\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport { FormControlLabel } from \"@material-ui/core\";\r\nimport Input from '@mui/material/Input';\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\r\n\r\nimport OptionsChatBot from \"../ChatBots/options\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport ColorPicker from \"../ColorPicker\";\r\nimport {\r\n  Grid,\r\n  IconButton,\r\n  InputAdornment,\r\n  Paper,\r\n  Tab,\r\n  Tabs, FormControl, InputLabel, Link, MenuItem, Select\r\n} from \"@material-ui/core\";\r\n\r\nimport { Colorize, Send } from \"@material-ui/icons\";\r\nimport { QueueOptions } from \"../QueueOptions\";\r\nimport SchedulesForm from \"../SchedulesForm\";\r\nimport { getBackendUrl } from \"../../config\";\r\n\r\nconst InputFullWidth = ({props}) => {\r\n  return <TextField placeholder=\"Mensagem\" fullWidth style={{width: \"100%\"}} {...props} />;\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n  greetingMessage: {\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  custom: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n\r\n}));\r\n\r\nconst QueueSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\r\n  greetingMessage: Yup.string(),\r\n});\r\n\r\nconst QueueModal = ({ open, onClose, queueId, onEdit }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    color: \"\",\r\n    greetingMessage: \"\",\r\n    outOfHoursMessage: \"\",\r\n    chatbots: [],\r\n\r\n  };\r\n\r\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\r\n  const [queue, setQueue] = useState(initialState);\r\n  const [tab, setTab] = useState(0);\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n  const greetingRef = useRef();\r\n\r\n  const [activeStep, setActiveStep] = React.useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [isStepContent, setIsStepContent] = React.useState(true);\r\n  const [isNameEdit, setIsNamedEdit] = React.useState(null);\r\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = React.useState(null);\r\n  const [timestampUpdated, setTimestampUpdated] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n\r\n  const [schedules, setSchedules] = useState([\r\n    {\r\n      weekday: \"Segunda-feira\",\r\n      weekdayEn: \"monday\",\r\n      startTime: \"\",\r\n      endTime: \"\",\r\n    },\r\n    {\r\n      weekday: \"Terça-feira\",\r\n      weekdayEn: \"tuesday\",\r\n      startTime: \"\",\r\n      endTime: \"\",\r\n    },\r\n    {\r\n      weekday: \"Quarta-feira\",\r\n      weekdayEn: \"wednesday\",\r\n      startTime: \"\",\r\n      endTime: \"\",\r\n    },\r\n    {\r\n      weekday: \"Quinta-feira\",\r\n      weekdayEn: \"thursday\",\r\n      startTime: \"\",\r\n      endTime: \"\",\r\n    },\r\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"\", endTime: \"\" },\r\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"\", endTime: \"\" },\r\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"\", endTime: \"\" },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    api.get(`/settings`).then(({ data }) => {\r\n      if (Array.isArray(data)) {\r\n        const scheduleType = data.find((d) => d.key === \"scheduleType\");\r\n        if (scheduleType) {\r\n          setSchedulesEnabled(scheduleType.value === \"queue\");\r\n        }\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!queueId) return;\r\n      try {\r\n        const { data } = await api.get(`/queue/${queueId}`);\r\n        setQueue((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n        setSchedules(data.schedules);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      setQueue({\r\n        name: \"\",\r\n        color: \"\",\r\n        greetingMessage: \"\",\r\n        chatbots: [],\r\n      });\r\n    };\r\n  }, [queueId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setQueue(initialState);\r\n  };\r\n\r\n  const handleSaveQueue = async (values) => {\r\n    try {\r\n      if (queueId) {\r\n        await api.put(`/queue/${queueId}`, { ...values, schedules });\r\n      } else {\r\n        await api.post(\"/queue\", { ...values, schedules });\r\n      }\r\n      toast.success(\"Queue saved successfully\");\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveSchedules = async (values) => {\r\n    toast.success(\"Clique em salvar para registar as alterações\");\r\n    setSchedules(values);\r\n    setTab(0);\r\n  };\r\n\r\n  const renderTitle = (index, chatbot, values) => {\r\n\r\n    console.log('qqqq', index, chatbot);\r\n    return (\r\n          <FormControlLabel\r\n              control={\r\n                <Field\r\n                  as={Switch}\r\n                  color=\"primary\"\r\n                  name={`chatbots[${index}].optionType`}\r\n                  onChange={e => values.chatbots[index].optionType === 'file' ? values.chatbots[index].optionType = 'file' : values.chatbots[index].optionType = 'text'}\r\n                  checked={\r\n                    values.chatbots[index].optionType === 'file'\r\n                  }\r\n                />\r\n              }\r\n              label=\"Arquivo\"\r\n            />\r\n    );\r\n\r\n    \r\n  };\r\n\r\n  const handleSaveBot = async (values) => {\r\n    try {\r\n      if (queueId) {\r\n        const { data } = await api.put(`/queue/${queueId}`, values);\r\n        if (data.chatbots && data.chatbots.length) {\r\n          onEdit(data);\r\n          setQueue(data);\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/queue\", values);\r\n        if (data.chatbots && data.chatbots.length) {\r\n          setQueue(data);\r\n          onEdit(data);\r\n          handleClose();\r\n        }\r\n      }\r\n\r\n      setIsNamedEdit(null)\r\n      setGreetingMessageEdit(null)\r\n      toast.success(\"Setor salvo com sucesso!\");\r\n\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOptionChangeType = (values, index) => {\r\n    console.log('Run', values.chatbots[index].optionType);\r\n    values.chatbots[index].optionType = values.chatbots[index].optionType !== 'file' ? 'file' : 'text';\r\n    setTimestampUpdated(new Date().getTime());\r\n  };\r\n\r\n  const makeFileLink = (option, companyId) => {\r\n    console.log('option', option, companyId);\r\n    if (!option) return '';\r\n    if (option.greetingMessage)  {\r\n      return `${getBackendUrl()}/public/company${companyId}/${option.greetingMessage}`;\r\n    } \r\n    return '';\r\n  }\r\n\r\n  const handleSetFile = () => {\r\n    const file = document.getElementById('file').files[0];\r\n    setFile(file);\r\n    console.log(file);\r\n  }\r\n\r\n  const handleSaveFile = async (option) => {\r\n    if (!file) return;\r\n    if (!option.id) {\r\n      toastError('Opção não salva, salve a opção antes de adicionar um arquivo');\r\n    }\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      const {data} = await api.request({\r\n        url: `/queue-options/${option.id}/file`,\r\n        method: \"POST\",\r\n        data: formData,\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n      option.edition = false;\r\n      console.log(data);\r\n      setTimestampUpdated(new Date().getTime());\r\n      handleClose();\r\n      toast.success('Arquivo adicionado.');\r\n    } catch (e) {\r\n      toastError(e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        maxWidth=\"lg\"\r\n        fullWidth={true}\r\n        open={open}\r\n        onClose={handleClose}\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle>\r\n          {queueId\r\n            ? `${i18n.t(\"queueModal.title.edit\")}`\r\n            : `${i18n.t(\"queueModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Tabs\r\n          value={tab}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          onChange={(_, v) => setTab(v)}\r\n          aria-label=\"disabled tabs example\"\r\n        >\r\n          <Tab label=\"Dados da Fila/Setor\" />\r\n          {schedulesEnabled && <Tab label=\"Horários de Atendimento\" />}\r\n        </Tabs>\r\n        {tab === 0 && (\r\n          <Paper>\r\n            <Formik\r\n              initialValues={queue}\r\n              validateOnChange={false}\r\n              enableReinitialize={true}\r\n              validationSchema={QueueSchema}\r\n              onSubmit={(values, actions) => {\r\n                setTimeout(() => {\r\n                  handleSaveQueue(values);\r\n                  actions.setSubmitting(false);\r\n                }, 400);\r\n              }}\r\n            >\r\n              {({ handleChange, touched, errors, isSubmitting, values }) => (\r\n                <Form>\r\n                  <DialogContent dividers>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"queueModal.form.name\")}\r\n                      autoFocus\r\n                      name=\"name\"\r\n                      error={touched.name && Boolean(errors.name)}\r\n                      helperText={touched.name && errors.name}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.textField}\r\n                    />\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"queueModal.form.color\")}\r\n                      name=\"color\"\r\n                      id=\"color\"\r\n                      onFocus={() => {\r\n                        setColorPickerModalOpen(true);\r\n                        greetingRef.current.focus();\r\n                      }}\r\n                      error={touched.color && Boolean(errors.color)}\r\n                      helperText={touched.color && errors.color}\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <div\r\n                              style={{ backgroundColor: values.color }}\r\n                              className={classes.colorAdorment}\r\n                            ></div>\r\n                          </InputAdornment>\r\n                        ),\r\n                        endAdornment: (\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            color=\"default\"\r\n                            onClick={() => setColorPickerModalOpen(true)}\r\n                          >\r\n                            <Colorize />\r\n                          </IconButton>\r\n                        ),\r\n                      }}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                    />\r\n                    <ColorPicker\r\n                      open={colorPickerModalOpen}\r\n                      handleClose={() => setColorPickerModalOpen(false)}\r\n                      onChange={(color) => {\r\n                        values.color = color;\r\n                        setQueue(() => {\r\n                          return { ...values, color };\r\n                        });\r\n                      }}\r\n                    />\r\n                    {/* <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                        type=\"greetingMessage\"\r\n                        multiline\r\n                        inputRef={greetingRef}\r\n                        minRows={5}\r\n                        fullWidth\r\n                        name=\"greetingMessage\"\r\n                        error={\r\n                          touched.greetingMessage && Boolean(errors.greetingMessage)\r\n                        }\r\n                        helperText={\r\n                          touched.greetingMessage && errors.greetingMessage\r\n                        }\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div> */}\r\n\r\n                    <div style={{ marginTop: 5 }}>\r\n                      <Grid spacing={1} container>\r\n                        <Grid xs={12} md={schedulesEnabled ? 6 : 12} item>\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                            type=\"greetingMessage\"\r\n                            multiline\r\n                            inputRef={greetingRef}\r\n                            rows={5}\r\n                            fullWidth\r\n                            name=\"greetingMessage\"\r\n                            error={\r\n                              touched.greetingMessage &&\r\n                              Boolean(errors.greetingMessage)\r\n                            }\r\n                            helperText={\r\n                              touched.greetingMessage && errors.greetingMessage\r\n                            }\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n                        {schedulesEnabled && (\r\n                          <Grid xs={12} md={6} item>\r\n                            <Field\r\n                              as={TextField}\r\n                              label={i18n.t(\r\n                                \"queueModal.form.outOfHoursMessage\"\r\n                              )}\r\n                              type=\"outOfHoursMessage\"\r\n                              multiline\r\n                              rows={5}\r\n                              fullWidth\r\n                              name=\"outOfHoursMessage\"\r\n                              error={\r\n                                touched.outOfHoursMessage &&\r\n                                Boolean(errors.outOfHoursMessage)\r\n                              }\r\n                              helperText={\r\n                                touched.outOfHoursMessage &&\r\n                                errors.outOfHoursMessage\r\n                              }\r\n                              variant=\"outlined\"\r\n                              margin=\"dense\"\r\n                            />\r\n                          </Grid>\r\n                        )}\r\n                      </Grid>\r\n                    </div>\r\n\r\n                    {/* <Typography variant=\"subtitle1\">\r\n                      Opções\r\n                      <CustomToolTip\r\n                        title=\"Adicione opções para construir um chatbot\"\r\n                        content=\"Se houver apenas uma opção, ela será escolhida automaticamente, fazendo com que o bot responda com a mensagem da opção e siga adiante\"\r\n                      >\r\n                        <HelpOutlineOutlinedIcon\r\n                          style={{ marginLeft: \"14px\" }}\r\n                          fontSize=\"small\"\r\n                        />\r\n                      </CustomToolTip>\r\n                    </Typography> */}\r\n\r\n                    <div>\r\n                      <FieldArray name=\"chatbots\">\r\n                        {({ push, remove }) => (\r\n                          <>\r\n                            <Stepper\r\n                              nonLinear\r\n                              activeStep={activeStep}\r\n                              orientation=\"vertical\"\r\n                            >\r\n                              {values.chatbots &&\r\n                                values.chatbots.length > 0 &&\r\n                                values.chatbots.map((info, index) => (\r\n                                  <Step\r\n                                    key={`${info.id ? info.id : index}-chatbots`}\r\n                                    onClick={() => setActiveStep(index)}\r\n                                  >\r\n                                    <StepLabel key={`${info.id}-chatbots`}>\r\n                                      {isNameEdit !== index &&\r\n                                        queue.chatbots[index]?.name ? (\r\n                                        <div\r\n                                          className={classes.greetingMessage}\r\n                                          variant=\"body1\"\r\n                                        >\r\n                                          {values.chatbots[index].name}\r\n\r\n                                          <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() => {\r\n                                              setIsNamedEdit(index);\r\n                                              setIsStepContent(false);\r\n                                            }}\r\n                                          >\r\n                                            <EditIcon />\r\n                                          </IconButton>\r\n\r\n                                          <IconButton\r\n                                            onClick={() => {\r\n                                              setSelectedQueue(info);\r\n                                              setConfirmModalOpen(true);\r\n                                            }}\r\n                                            size=\"small\"\r\n                                          >\r\n                                            <DeleteOutline />\r\n                                          </IconButton>\r\n                                        </div>\r\n                                      ) : (\r\n                                        <>\r\n                                          <Field\r\n                                            as={TextField}\r\n                                            name={`chatbots[${index}].name`}\r\n                                            variant=\"standard\"\r\n                                            color=\"primary\"\r\n                                            disabled={isSubmitting}\r\n                                            autoFocus\r\n                                            error={\r\n                                              touched?.chatbots?.[index]?.name &&\r\n                                              Boolean(\r\n                                                errors.chatbots?.[index]?.name\r\n                                              )\r\n                                            }\r\n                                            className={classes.textField}\r\n                                          />\r\n\r\n                                          <FormControlLabel\r\n                                            control={\r\n                                              <Field\r\n                                                as={Switch}\r\n                                                color=\"primary\"\r\n                                                name={`chatbots[${index}].isAgent`}\r\n                                                checked={\r\n                                                  values.chatbots[index].isAgent ||\r\n                                                  false\r\n                                                }\r\n                                              />\r\n                                            }\r\n                                            label=\"Atendente..\"\r\n                                          />\r\n                                          {console.log('values.chatbots[index].optionType/*\\\\', values.chatbots[index].optionType)}\r\n                                          {\r\n                                            !values.chatbots[index].isAgent && (\r\n                                              <FormControlLabel\r\n                                                control={\r\n                                                  <Field\r\n                                                    as={Switch}\r\n                                                    color=\"primary\"\r\n                                                    name={`chatbots[${index}].optionType`}\r\n                                                    type=\"checkbox\"\r\n                                                    onChange={() => handleOptionChangeType(values, index)}\r\n                                                    checked={values.chatbots[index].optionType === 'file'}\r\n                                                  />\r\n                                                }\r\n                                                label=\"Arquivo\"\r\n                                              />\r\n                                            )\r\n                                          }\r\n                                          {values.chatbots[index].optionType === 'file' ? (\r\n                                            <>\r\n                                              <input\r\n                                                accept=\"image/*,application/pdf\"\r\n                                                className={classes.input}\r\n                                                id=\"file\"\r\n                                                type=\"file\"\r\n                                                name=\"file\"\r\n                                                onChange={handleSetFile}\r\n                                              />\r\n                                              {console.log(values)}\r\n                                              <IconButton size=\"small\" onClick={() => handleSaveFile(values.chatbots[index])} component=\"span\">\r\n                                                <Send />\r\n                                              </IconButton>\r\n                                              {makeFileLink(values.chatbots[index], values.companyId) !== '' && (<><Link style={{marginLeft: 20}} href={makeFileLink(values.chatbots[index], values.companyId)} target=\"_blank\">Arquivo atual</Link><br/></>)}<br/>\r\n                                              <br/>\r\n                                            </>\r\n                                          ) : (\r\n                                            <>\r\n                                              <br />\r\n                                              <FormControlLabel\r\n                                                control={\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    type=\"greetingMessage\"\r\n                                                    placeholder=\"Mensagem\"\r\n                                                    fullWidth\r\n                                                    variant=\"outlined\"\r\n                                                    multiline\r\n                                                    style={{ minWidth: \"400px\", width: \"100%\", marginLeft: \"20px\" }}\r\n                                                    margin=\"dense\"\r\n                                                    color=\"primary\"\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    // onChange={() => handleOptionChangeType(values, index)}\r\n                                                    // checked={values.chatbots[index].optionType === 'file'}\r\n                                                  />\r\n                                                }\r\n                                                label=\"\"\r\n                                              />\r\n                                            </>\r\n                                          )}\r\n\r\n                                          <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() =>\r\n                                              values.chatbots[index].name\r\n                                                ? handleSaveBot(values)\r\n                                                : null\r\n                                            }\r\n                                            disabled={isSubmitting}\r\n                                          >\r\n                                            <SaveIcon />\r\n                                          </IconButton>\r\n\r\n                                          <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() => remove(index)}\r\n                                            disabled={isSubmitting}\r\n                                          >\r\n                                            <DeleteOutline />\r\n                                          </IconButton>\r\n                                        </>\r\n                                      )}\r\n                                    </StepLabel>\r\n\r\n                                    {isStepContent && queue.chatbots[index] && (\r\n                                      <StepContent>\r\n                                        <>\r\n                                          {isGreetingMessageEdit !== index ? (\r\n                                            <div\r\n                                              className={classes.greetingMessage}\r\n                                            >\r\n                                              <Typography\r\n                                                color=\"textSecondary\"\r\n                                                variant=\"body1\"\r\n                                              >\r\n                                                Message:\r\n                                              </Typography>\r\n\r\n                                              {\r\n                                                values.chatbots[index]\r\n                                                  .greetingMessage\r\n                                              }\r\n\r\n                                              {!queue.chatbots[index]\r\n                                                ?.greetingMessage && (\r\n                                                  <CustomToolTip\r\n                                                    title=\"A mensagem é obrigatória para passar para o próximo nível.\"\r\n                                                    content=\"Se a mensagem não estiver definida, o bot não o seguirá.\"\r\n                                                  >\r\n                                                    <HelpOutlineOutlinedIcon\r\n                                                      color=\"secondary\"\r\n                                                      style={{ marginLeft: \"4px\" }}\r\n                                                      fontSize=\"small\"\r\n                                                    />\r\n                                                  </CustomToolTip>\r\n                                                )}\r\n\r\n                                              <IconButton\r\n                                                size=\"small\"\r\n                                                onClick={() =>\r\n                                                  setGreetingMessageEdit(index)\r\n                                                }\r\n                                              >\r\n                                                <EditIcon />\r\n                                              </IconButton>\r\n                                            </div>\r\n                                          ) : (\r\n                                            <div\r\n                                              className={classes.greetingMessage}\r\n                                            >\r\n                                              <Field\r\n                                                as={TextField}\r\n                                                name={`chatbots[${index}].greetingMessage`}\r\n                                                variant=\"standard\"\r\n                                                margin=\"dense\"\r\n                                                fullWidth\r\n                                                multiline\r\n                                                error={\r\n                                                  touched.greetingMessage &&\r\n                                                  Boolean(errors.greetingMessage)\r\n                                                }\r\n                                                helperText={\r\n                                                  touched.greetingMessage &&\r\n                                                  errors.greetingMessage\r\n                                                }\r\n                                                className={classes.textField}\r\n                                              />\r\n\r\n                                              <IconButton\r\n                                                size=\"small\"\r\n                                                onClick={() =>\r\n                                                  handleSaveBot(values)\r\n                                                }\r\n                                                disabled={isSubmitting}\r\n                                              >\r\n                                                {\" \"}\r\n                                                <SaveIcon />\r\n                                              </IconButton>\r\n                                            </div>\r\n                                          )}\r\n\r\n                                          <OptionsChatBot chatBotId={info.id} />\r\n                                        </>\r\n                                      </StepContent>\r\n                                    )}\r\n                                  </Step>\r\n                                ))}\r\n\r\n                              <Step>\r\n                                <StepLabel style={{ cursor: \"pointer\", width: '100%' }}\r\n                                  onClick={() => push({ name: \"\", value: \"\" })}>\r\n                                  Adicionar opções...\r\n                                </StepLabel>\r\n                              </Step>\r\n                            </Stepper>\r\n                          </>\r\n                        )}\r\n                      </FieldArray>\r\n                    </div>\r\n                  </DialogContent>\r\n                  <DialogActions>\r\n                    <Button\r\n                      onClick={handleClose}\r\n                      // color=\"secondary\"\r\n                      disabled={isSubmitting}\r\n                    // variant=\"outlined\"\r\n                    >\r\n                      {i18n.t(\"queueModal.buttons.cancel\")}\r\n                    </Button>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      color=\"primary\"\r\n                      disabled={isSubmitting}\r\n                      variant=\"contained\"\r\n                      className={classes.btnWrapper}\r\n                    >\r\n                      {queueId\r\n                        ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\r\n                        : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\r\n                      {isSubmitting && (\r\n                        <CircularProgress\r\n                          size={24}\r\n                          className={classes.buttonProgress}\r\n                        />\r\n                      )}\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Paper>\r\n        )}\r\n        {tab === 1 && (\r\n          <Paper style={{ padding: 20 }}>\r\n            <SchedulesForm\r\n              loading={false}\r\n              onSubmit={handleSaveSchedules}\r\n              initialValues={schedules}\r\n              labelSaveButton=\"Adicionar\"\r\n            />\r\n          </Paper>\r\n        )}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QueueModal;\r\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-queue`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n        onEdit={(res) => {\n          if(res) {\n              setTimeout(() => {\n                handleEditQueue(res)\n              }, 500)\n          }\n        }}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")} ({queues.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Checkbox, FormControlLabel, IconButton, InputAdornment } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\")\n});\n\nconst TagModal = ({ open, onClose, tagId, reload, kanban }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\",\n\t\tkanban: kanban\n\t};\n\n\tconst [tag, setTag] = useState(initialState);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tif (!tagId) return;\n\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tsetTag(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetTag(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tonClose();\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst tagData = { ...values, userId: user.id, kanban: kanban };\n\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", tagData);\n\t\t\t}\n\t\t\ttoast.success(kanban === 0 ? `${i18n.t(\"tagModal.success\")}`: `${i18n.t(\"tagModal.successKanban\")}`);\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{ (tagId ? (kanban === 0 ? `${i18n.t(\"tagModal.title.edit\")}`: `${i18n.t(\"Nova Lane\")}`) : \n\t\t\t\t\t\t\t   (kanban === 0 ? `${i18n.t(\"tagModal.title.add\")}`: `${i18n.t(\"Nova Lane\")}`)) \n\t\t\t\t\t}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={tag}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveTag(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{ colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\n\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{margin: '20px auto 0'}}\n\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber, kanban: 0 },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = socketConnection({ companyId: user.companyId });\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TAGS\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [user]);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n        kanban={0}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"tags.title\")} ({tags.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenTagModal}\n          >\n            {i18n.t(\"tags.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.tickets\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tags.map((tag) => (\n                <TableRow key={tag.id}>\n                  <TableCell align=\"center\">\n                    <Chip\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: tag.color,\n                        textShadow: \"1px 1px 1px #000\",\n                        color: \"white\",\n                      }}\n                      label={tag.name}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingTag(tag);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\n// import api from \"../../services/api\";\nimport axios from \"axios\";\nimport usePlans from \"../../hooks/usePlans\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    paddingBottom: 100\n  },\n  mainHeader: {\n    marginTop: theme.spacing(1),\n  },\n  elementMargin: {\n    padding: theme.spacing(2),\n  },\n  formContainer: {\n    maxWidth: 500,\n  },\n  textRight: {\n    textAlign: \"right\"\n  }\n}));\n\nconst MessagesAPI = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [formMessageTextData,] = useState({ token: '', number: '', body: '' })\n  const [formMessageMediaData,] = useState({ token: '', number: '', medias: '' })\n  const [file, setFile] = useState({})\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useExternalApi) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const getEndpoint = () => {\n    return process.env.REACT_APP_BACKEND_URL + '/api/messages/send'\n  }\n\n  const handleSendTextMessage = async (values) => {\n    const { number, body } = values;\n    const data = { number, body };\n    try {\n      await axios.request({\n        url: getEndpoint(),\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${values.token}`\n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const handleSendMediaMessage = async (values) => {\n    try {\n      const firstFile = file[0];\n      const data = new FormData();\n      data.append('number', values.number);\n      data.append('body', firstFile.name);\n      data.append('medias', firstFile);\n      await axios.request({\n        url: getEndpoint(),\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'multipart/form-data',\n          'Authorization': `Bearer ${values.token}`\n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const renderFormMessageText = () => {\n    return (\n      <Formik\n        initialValues={formMessageTextData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendTextMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\n                  name=\"body\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {isSubmitting ? (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  ) : 'Enviar'}\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  const renderFormMessageMedia = () => {\n    return (\n      <Formik\n        initialValues={formMessageMediaData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendMediaMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n            document.getElementById('medias').files = null\n            document.getElementById('medias').value = null\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <input type=\"file\" name=\"medias\" id=\"medias\" required onChange={(e) => setFile(e.target.files)} />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {isSubmitting ? (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  ) : 'Enviar'}\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  return (\n    <Paper\n      className={classes.mainPaper}\n      style={{marginLeft: \"5px\"}}\n      // className={classes.elementMargin}\n      variant=\"outlined\"\n    >\n      <Typography variant=\"h5\">\n        Documentação para envio de mensagens\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Métodos de Envio\n      </Typography>\n      <Typography component=\"div\">\n        <ol>\n          <li>Mensagens de Texto</li>\n          <li>Mensagens de Media</li>\n        </ol>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Instruções\n      </Typography>\n      <Typography className={classes.elementMargin} component=\"div\">\n        <b>Observações importantes</b><br />\n        <ul>\n          <li>Antes de enviar mensagens, é necessário o cadastro do token vinculado à conexão que enviará as mensagens. <br />Para realizar o cadastro acesse o menu \"Conexões\", clique no botão editar da conexão e insira o token no devido campo.</li>\n          <li>\n            O número para envio não deve ter mascara ou caracteres especiais e deve ser composto por:\n            <ul>\n              <li>Código do país</li>\n              <li>DDD</li>\n              <li>Número</li>\n            </ul>\n          </li>\n        </ul>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        1. Mensagens de Texto\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> Authorization (token cadastrado) e Content-Type (application/json) <br />\n            <b>Body: </b> {\"{ \\\"number\\\": \\\"595985523065\\\", \\\"body\\\": \\\"Sua mensagem\\\" }\"}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageText()}\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        2. Mensagens de Media\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> Authorization (token cadastrado) e Content-Type (multipart/form-data) <br />\n            <b>FormData: </b> <br />\n            <ul>\n              <li>\n                <b>number: </b> 5531991841066\n              </li>\n              <li>\n                <b>medias: </b> arquivo\n              </li>\n            </ul>\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageMedia()}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MessagesAPI;","import React, { useState, useEffect } from \"react\";\n\nimport {\n\tmakeStyles,\n\tPaper\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport useHelps from \"../../hooks/useHelps\";\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\twidth: '100%',\n\t\tminHeight: '200px',\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\theading: {\n\t  fontSize: theme.typography.pxToRem(15),\n\t  flexBasis: '33.33%',\n\t  flexShrink: 0,\n\t},\n\tsecondaryHeading: {\n\t  fontSize: theme.typography.pxToRem(15),\n\t  color: theme.palette.text.secondary,\n\t}\n}));\n\nconst Helps = () => {\n\tconst classes = useStyles();\n\n\tconst [records, setRecords] = useState([]);\n\tconst { list } = useHelps()\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst helps = await list()\n\t\t\tsetRecords(helps)\n\t\t}\n\t\tfetchData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst renderVideo = (record) => {\n\t\tconst url = `https://www.youtube.com/embed/${record.video}`;\n\t\treturn (\n\t\t\t<iframe style={{ width: 700, height: 500 }} src={url} title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n\t\t)\n\t\t\t\n\t}\n\n\tconst renderHelps = () => {\n\t\treturn <>\n\t\t\t{ records.length ? records.map((record, key) => (\n\t\t\t\t<Accordion key={key}>\n\t\t\t\t\t<AccordionSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls=\"panel1a-content\"\n\t\t\t\t\t\tid=\"panel1a-header\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>{ record.title }</Typography>\n          \t\t\t\t<Typography className={classes.secondaryHeading}>{ record.description }</Typography>\n\t\t\t\t\t</AccordionSummary>\n\t\t\t\t\t<AccordionDetails>\n\t\t\t\t\t\t<Typography>{ renderVideo(record) }</Typography>\n\t\t\t\t\t</AccordionDetails>\n\t\t\t\t</Accordion>\n\t\t\t)) : null }\n\t\t</>\n\t}\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t{ renderHelps() }\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Helps;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst ContactListSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst ContactListModal = ({ open, onClose, contactListId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n  };\n\n  const [contactList, setContactList] = useState(initialState);\n\n  useEffect(() => {\n    const fetchContactList = async () => {\n      if (!contactListId) return;\n      try {\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\n        setContactList((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContactList();\n  }, [contactListId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setContactList(initialState);\n  };\n\n  const handleSaveContactList = async (values) => {\n    const contactListData = { ...values };\n    try {\n      if (contactListId) {\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\n      } else {\n        await api.post(\"/contact-lists\", contactListData);\n      }\n      toast.success(i18n.t(\"contactList.dialog\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {contactListId\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contactList}\n          enableReinitialize={true}\n          validationSchema={ContactListSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContactList(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactLists.dialog.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactLists.dialog.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactListId\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListDialog from \"../../components/ContactListDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTLISTS\") {\n    const contactLists = action.payload;\n    const newContactLists = [];\n\n    contactLists.forEach((contactList) => {\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n      if (contactListIndex !== -1) {\n        state[contactListIndex] = contactList;\n      } else {\n        newContactLists.push(contactList);\n      }\n    });\n\n    return [...state, ...newContactLists];\n  }\n\n  if (action.type === \"UPDATE_CONTACTLIST\") {\n    const contactList = action.payload;\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n\n    if (contactListIndex !== -1) {\n      state[contactListIndex] = contactList;\n      return [...state];\n    } else {\n      return [contactList, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACTLIST\") {\n    const contactListId = action.payload;\n\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\n    if (contactListIndex !== -1) {\n      state.splice(contactListIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactLists = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedContactList, setSelectedContactList] = useState(null);\n  const [deletingContactList, setDeletingContactList] = useState(null);\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contactLists, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContactLists = async () => {\n        try {\n          const { data } = await api.get(\"/contact-lists/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContactLists();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-ContactList`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(true);\n  };\n\n  const handleCloseContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditContactList = (contactList) => {\n    setSelectedContactList(contactList);\n    setContactListModalOpen(true);\n  };\n\n  const handleDeleteContactList = async (contactListId) => {\n    try {\n      await api.delete(`/contact-lists/${contactListId}`);\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContactList(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContacts = (id) => {\n    history.push(`/contact-lists/${id}/contacts`);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingContactList &&\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${deletingContactList.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\n      >\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ContactListDialog\n        open={contactListModalOpen}\n        onClose={handleCloseContactListModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactListId={selectedContactList && selectedContactList.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={7} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={5} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListModal}\n                >\n                  {i18n.t(\"contactLists.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"contactLists.table.name\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"contactLists.table.contacts\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"contactLists.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contactLists.map((contactList) => (\n                <TableRow key={contactList.id}>\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\n                  <TableCell align=\"center\">{contactList.contactsCount || 0}</TableCell>\n                  <TableCell align=\"center\">\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\n                        <DownloadIcon />\n                      </IconButton>\n                    </a>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => goToContacts(contactList.id)}\n                    >\n                      <PeopleIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditContactList(contactList)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingContactList(contactList);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactLists;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactListItemModal = ({\n  open,\n  onClose,\n  contactId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const {\n    user: { companyId },\n  } = useContext(AuthContext);\n  const { contactListId } = useParams();\n\n  const initialState = {\n    name: \"\",\n    number: \"\",\n    email: \"\",\n  };\n\n  const [contact, setContact] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchContact = async () => {\n      if (initialValues) {\n        setContact((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!contactId) return;\n\n      try {\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\n        if (isMounted.current) {\n          setContact(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContact();\n  }, [contactId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setContact(initialState);\n  };\n\n  const handleSaveContact = async (values) => {\n    try {\n      if (contactId) {\n        await api.put(`/contact-list-items/${contactId}`, {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/contact-list-items\", {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"contactModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n        <DialogTitle id=\"form-dialog-title\">\n          {contactId\n            ? `${i18n.t(\"contactModal.title.edit\")}`\n            : `${i18n.t(\"contactModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contact}\n          enableReinitialize={true}\n          validationSchema={ContactSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContact(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  {i18n.t(\"contactModal.form.mainInfo\")}\n                </Typography>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.name\")}\n                  name=\"name\"\n                  autoFocus\n                  error={touched.name && Boolean(errors.name)}\n                  helperText={touched.name && errors.name}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  className={classes.textField}\n                />\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.number\")}\n                  name=\"number\"\n                  error={touched.number && Boolean(errors.number)}\n                  helperText={touched.number && errors.number}\n                  placeholder=\"5513912344321\"\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                />\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    placeholder=\"Email address\"\n                    fullWidth\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactId\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListItemModal;\n","import api from \"../../services/api\";\n\nconst useContactLists = () => {\n  const save = async (data) => {\n    const { data: responseData } = await api.request({\n      url: \"/contact-lists\",\n      method: \"POST\",\n      data,\n    });\n    return responseData;\n  };\n\n  const update = async (data) => {\n    const { data: responseData } = await api.request({\n      url: `/contact-lists/${data.id}`,\n      method: \"PUT\",\n      data,\n    });\n    return responseData;\n  };\n\n  const deleteRecord = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"DELETE\",\n    });\n    return data;\n  };\n\n  const findById = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"GET\",\n    });\n    return data;\n  };\n\n  const list = async (params) => {\n    const { data } = await api.request({\n      url: \"/contact-lists/list\",\n      method: \"GET\",\n      params,\n    });\n    return data;\n  };\n\n  return {\n    findById,\n    save,\n    update,\n    deleteRecord,\n    list,\n  };\n};\n\nexport default useContactLists;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useRef,\n} from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport BlockIcon from \"@material-ui/icons/Block\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport useContactLists from \"../../hooks/useContactLists\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactListItems = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n  const { contactListId } = useParams();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\n    useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [contactList, setContactList] = useState({});\n  const fileUploadRef = useRef(null);\n\n  const { findById: findContactList } = useContactLists();\n\n  useEffect(() => {\n    findContactList(contactListId).then((data) => {\n      setContactList(data);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contactListId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(`contact-list-items`, {\n            params: { searchParam, pageNumber, contactListId },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactListId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-ContactListItem`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\n      }\n\n      if (data.action === \"reload\") {\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n      }\n    });\n\n    socket.on(\n      `company-${companyId}-ContactListItem-${contactListId}`,\n      (data) => {\n        if (data.action === \"reload\") {\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n        }\n      }\n    );\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [contactListId]);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleCloseContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contact-list-items/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleImportContacts = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", fileUploadRef.current.files[0]);\n      await api.request({\n        url: `contact-lists/${contactListId}/upload`,\n        method: \"POST\",\n        data: formData,\n      });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContactLists = () => {\n    history.push(\"/contact-lists\");\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactListItemModal\n        open={contactListItemModalOpen}\n        onClose={handleCloseContactListItemModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactListItemModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={() =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleImportContacts()\n        }\n      >\n        {deletingContact ? (\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\n        ) : (\n          <>\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\n              Clique aqui para baixar planilha exemplo.\n            </a>\n          </>\n        )}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={5} item>\n            <Title>{contactList.name}</Title>\n          </Grid>\n          <Grid xs={12} sm={7} item>\n            <Grid spacing={2} container>\n              <Grid xs={12} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={goToContactLists}\n                >\n                  {i18n.t(\"contactListItems.buttons.lists\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => {\n                    fileUploadRef.current.value = null;\n                    fileUploadRef.current.click();\n                  }}\n                >\n                  {i18n.t(\"contactListItems.buttons.import\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListItemModal}\n                >\n                  {i18n.t(\"contactListItems.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <>\n          <input\n            style={{ display: \"none\" }}\n            id=\"upload\"\n            name=\"file\"\n            type=\"file\"\n            accept=\".xls,.xlsx\"\n            onChange={() => {\n              setConfirmOpen(true);\n            }}\n            ref={fileUploadRef}\n          />\n        </>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                #\n              </TableCell>\n              <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.number\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                    <IconButton>\n                      {contact.isWhatsappValid ? (\n                        <CheckCircleIcon\n                          titleAccess=\"Whatsapp Válido\"\n                          htmlColor=\"green\"\n                        />\n                      ) : (\n                        <BlockIcon\n                          titleAccess=\"Whatsapp Inválido\"\n                          htmlColor=\"grey\"\n                        />\n                      )}\n                    </IconButton>\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactListItems;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton,\n\tFormControlLabel,\n\tSwitch\n} from '@material-ui/core';\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst CompanySchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Nome é obrigatório\"),\n\temail: Yup.string().email(\"Email é inválido\").required(\"E-mail é obrigatório\"),\n\tnumberAttendants: Yup.number(),\n\tnumberConections: Yup.number(),\n});\n\nconst CompanyModal = ({ open, onClose, companyId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpasswordDefault: \"\",\n\t\tnumberAttendants: 1,\n\t\tnumberConections: 1,\n\t\tstatus: false\n\t};\n\n\tconst [company, setCompany] = useState(initialState);\n\tconst [showPassword, setShowPassword] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst fetchCompany = async () => {\n\t\t\tif (!companyId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/companies/listPlan/${companyId}`);\n\t\t\t\tsetCompany(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchCompany();\n\t}, [companyId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetCompany(initialState);\n\t};\n\n\tconst handleSaveCompany = async values => {\n\t\tconst companyData = { ...values };\n\t\ttry {\n\t\t\tif (companyId) {\n\t\t\t\tawait api.put(`/companies/${companyId}`, companyData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/companies\", companyData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"companyModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{companyId\n\t\t\t\t\t\t? `${i18n.t(\"companyModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"companyModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={company}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={CompanySchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveCompany(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"status\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.status}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel={\"Ativo\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"passwordDefault\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.passwordDefault\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.passwordDefault && Boolean(errors.passwordDefault)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.passwordDefault && errors.passwordDefault}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{/* <div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberAttendants\")}\n\t\t\t\t\t\t\t\t\t\tname=\"numberAttendants\"\n\t\t\t\t\t\t\t\t\t\terror={touched.numberAttendants && Boolean(errors.numberAttendants)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberAttendants && errors.numberAttendants}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\t\t// console.log('touched', touched)\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('value', values)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t{/* <div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberConections\")}\n\t\t\t\t\t\t\t\t\t\tname=\"numberConections\"\n\t\t\t\t\t\t\t\t\t\terror={touched.numberConections && Boolean(errors.numberConections)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberConections && errors.numberConections}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"companyModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{companyId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"companyModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"companyModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default CompanyModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n// import Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n// import IconButton from \"@material-ui/core/IconButton\";\n// import SearchIcon from \"@material-ui/icons/Search\";\n// import TextField from \"@material-ui/core/TextField\";\n// import InputAdornment from \"@material-ui/core/InputAdornment\";\n\n// import DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n// import EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CompanyModal from \"../../components/CompaniesModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport usePlans from \"../../hooks/usePlans\";\nimport moment from \"moment\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_COMPANIES\") {\n        const companies = action.payload;\n        const newCompanies = [];\n\n        companies.forEach((company) => {\n            const companyIndex = state.findIndex((u) => u.id === company.id);\n            if (companyIndex !== -1) {\n                state[companyIndex] = company;\n            } else {\n                newCompanies.push(company);\n            }\n        });\n\n        return [...state, ...newCompanies];\n    }\n\n    if (action.type === \"UPDATE_COMPANIES\") {\n        const company = action.payload;\n        const companyIndex = state.findIndex((u) => u.id === company.id);\n\n        if (companyIndex !== -1) {\n            state[companyIndex] = company;\n            return [...state];\n        } else {\n            return [company, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_COMPANIES\") {\n        const companyId = action.payload;\n\n        const companyIndex = state.findIndex((u) => u.id === companyId);\n        if (companyIndex !== -1) {\n            state.splice(companyIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst Companies = () => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [hasMore, setHasMore] = useState(false);\n    const [selectedCompany, setSelectedCompany] = useState(null);\n    const [deletingCompany, setDeletingCompany] = useState(null);\n    const [companyModalOpen, setCompanyModalOpen] = useState(false);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [companies, dispatch] = useReducer(reducer, []);\n    const { dateToClient, datetimeToClient } = useDate();\n\n    // const { getPlanCompany } = usePlans();\n    const { user } = useContext(AuthContext);\n\n    // useEffect(() => {\n    //     async function fetchData() {\n    //         const companyId = localStorage.getItem(\"companyId\");\n    //         const planConfigs = await getPlanCompany(undefined, companyId);\n    //         setPlanConfig(planConfigs)\n    //     }\n    //     fetchData();\n    //     // eslint-disable-next-line react-hooks/exhaustive-deps\n    // }, []);\n\n    useEffect(() => {\n        async function fetchData() {\n            if (!user.super) {\n                toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n                setTimeout(() => {\n                    history.push(`/`)\n                }, 1000);\n            }\n        }\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchCompanies = async () => {\n                try {\n                    const { data } = await api.get(\"/companiesPlan/\", {\n                        params: { searchParam, pageNumber },\n                    });\n                    dispatch({ type: \"LOAD_COMPANIES\", payload: data.companies });\n                    setHasMore(data.hasMore);\n                    setLoading(false);\n                } catch (err) {\n                    toastError(err);\n                }\n            };\n            fetchCompanies();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber]);\n\n    useEffect(() => {\n        const companyId = localStorage.getItem(\"companyId\");\n        const socket = socketConnection({ companyId });\n        // const socket = socketConnection();\n\n        return () => {\n            socket.disconnect();\n        };\n    }, []);\n\n    const handleOpenCompanyModal = () => {\n        setSelectedCompany(null);\n        setCompanyModalOpen(true);\n    };\n\n    const handleCloseCompanyModal = () => {\n        setSelectedCompany(null);\n        setCompanyModalOpen(false);\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleEditCompany = (company) => {\n        setSelectedCompany(company);\n        setCompanyModalOpen(true);\n    };\n\n    const handleDeleteCompany = async (companyId) => {\n        try {\n            await api.delete(`/companies/${companyId}`);\n            toast.success(i18n.t(\"compaies.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingCompany(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    const renderStatus = (row) => {\n        return row.status === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderPlanValue = (row) => {\n        return row.planId !== null ? row.plan.amount ? row.plan.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00' : \"-\";\n    };\n\n    const renderWhatsapp = (row) => {\n        return row.useWhatsapp === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderFacebook = (row) => {\n        return row.useFacebook === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderInstagram = (row) => {\n        return row.useInstagram === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderCampaigns = (row) => {\n        return row.useCampaigns === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderSchedules = (row) => {\n        return row.useSchedules === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderInternalChat = (row) => {\n        return row.useInternalChat === false ? \"Não\" : \"Sim\";\n    };\n\n    const renderExternalApi = (row) => {\n        return row.useExternalApi === false ? \"Não\" : \"Sim\";\n    };\n\n    const rowStyle = (record) => {\n        if (moment(record.dueDate).isValid()) {\n            const now = moment();\n            const dueDate = moment(record.dueDate);\n            const diff = dueDate.diff(now, \"days\");\n            if (diff >= 1 && diff <= 5) {\n                return { backgroundColor: \"#fffead\" };\n            }\n            if (diff <= 0) {\n                return { backgroundColor: \"#fa8c8c\" };\n            }\n            // else {\n            //   return { backgroundColor: \"#affa8c\" };\n            // }\n        }\n        return {};\n    };\n\n    return (\n        <MainContainer>\n            <ConfirmationModal\n                title={\n                    deletingCompany &&\n                    `${i18n.t(\"compaies.confirmationModal.deleteTitle\")} ${deletingCompany.name}?`\n                }\n                open={confirmModalOpen}\n                onClose={setConfirmModalOpen}\n                onConfirm={() => handleDeleteCompany(deletingCompany.id)}\n            >\n                {i18n.t(\"compaies.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <CompanyModal\n                open={companyModalOpen}\n                onClose={handleCloseCompanyModal}\n                aria-labelledby=\"form-dialog-title\"\n                companyId={selectedCompany && selectedCompany.id}\n            />\n            <MainHeader>\n                <Title>{i18n.t(\"compaies.title\")} ({companies.length})</Title>\n                {/* <MainHeaderButtonsWrapper>\n                    <TextField\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon style={{ color: \"gray\" }} />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenCompanyModal}\n                    >\n                        {i18n.t(\"compaies.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper> */}\n            </MainHeader>\n            <Paper\n                className={classes.mainPaper}\n                variant=\"outlined\"\n                onScroll={handleScroll}\n            >\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.status\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.name\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.email\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.namePlan\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.value\")}</TableCell>\n\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.createdAt\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.dueDate\")}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.lastLogin\")}</TableCell>\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberAttendants\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberConections\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberQueues\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useWhatsapp\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useFacebook\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useInstagram\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useCampaigns\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useExternalApi\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useInternalChat\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useSchedules\")}</TableCell> */}\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.actions\")}</TableCell> */}\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {companies.map((company) => (\n                                <TableRow style={rowStyle(company)} key={company.id}>\n                                    <TableCell align=\"center\">{renderStatus(company.status)}</TableCell>\n                                    <TableCell align=\"center\">{company.name}</TableCell>\n                                    <TableCell align=\"center\">{company.email}</TableCell>\n                                    <TableCell align=\"center\">{company.plan.name}</TableCell>\n                                    <TableCell align=\"center\">$ {renderPlanValue(company)}</TableCell>\n                                    <TableCell align=\"center\">{dateToClient(company.createdAt)}</TableCell>\n                                    <TableCell align=\"center\">{dateToClient(company.dueDate)}<br /><span>{company.recurrence}</span></TableCell>\n                                    <TableCell align=\"center\">{datetimeToClient(company.lastLogin)}</TableCell>\n                                    {/* <TableCell align=\"center\">{company.plan.users}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{company.plan.connections}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{company.plan.queues}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderWhatsapp(company.plan.useWhatsapp)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderFacebook(company.plan.useFacebook)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderInstagram(company.plan.useInstagram)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderCampaigns(company.plan.useCampaigns)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderExternalApi(company.plan.useExternalApi)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderInternalChat(company.plan.useInternalChat)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">{renderSchedules(company.plan.useSchedules)}</TableCell> */}\n                                    {/* <TableCell align=\"center\">\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={() => handleEditCompany(company)}\n                                        >\n                                            <EditIcon />\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={(e) => {\n                                                setConfirmModalOpen(true);\n                                                setDeletingCompany(company);\n                                            }}\n                                        >\n                                            <DeleteOutlineIcon />\n                                        </IconButton>\n                                    </TableCell> */}\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton columns={4} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer>\n    );\n};\n\nexport default Companies;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { \n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from '@material-ui/core';\nimport {\n    Edit as EditIcon,\n    DeleteOutline as DeleteOutlineIcon\n} from \"@material-ui/icons\";\n\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nfunction QuickMessagesTable(props) {\n    const { messages, showLoading, editMessage, deleteMessage, readOnly } = props\n    const [loading, setLoading] = useState(true)\n    const [rows, setRows] = useState([])\n\n    useEffect(() => {\n        if (Array.isArray(messages)) {\n            setRows(messages)\n        }\n        if (showLoading !== undefined) {\n            setLoading(showLoading)    \n        }\n    }, [messages, showLoading])\n\n    const handleEdit = (message) => {\n        editMessage(message)\n    }\n\n    const handleDelete = (message) => {\n        deleteMessage(message)\n    }\n\n    const renderRows = () => {\n        return rows.map((message) => {\n            return (\n                <TableRow key={message.id}>\n                    <TableCell align=\"center\">{message.shortcode}</TableCell>\n                    <TableCell align=\"left\">{message.message}</TableCell>\n                    { !readOnly ? (\n                        <TableCell align=\"center\">\n                            <IconButton\n                                size=\"small\"\n                                onClick={() => handleEdit(message)}\n                            >\n                                <EditIcon />\n                            </IconButton>\n\n                            <IconButton\n                                size=\"small\"\n                                onClick={() => handleDelete(message)}\n                            >\n                                <DeleteOutlineIcon />\n                            </IconButton>\n                        </TableCell>\n                    ) : null}\n                </TableRow>\n            )\n        })\n    }\n\n    return (\n        <Table size=\"small\">\n            <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\">Atalhos</TableCell>\n                    <TableCell align=\"left\">Mensagems</TableCell>\n                    { !readOnly ? (\n                        <TableCell align=\"center\">Ações</TableCell>\n                    ) : null}\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {loading ? <TableRowSkeleton columns={readOnly ? 2 : 3} /> : renderRows()}\n            </TableBody>\n        </Table>\n    )\n}\n\nQuickMessagesTable.propTypes = {\n    messages: PropTypes.array.isRequired,\n    showLoading: PropTypes.bool,\n    editMessage: PropTypes.func.isRequired,\n    deleteMessage: PropTypes.func.isRequired\n}\n\nexport default QuickMessagesTable;","import React, { useState, useEffect } from 'react';\nimport CoreDialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nfunction Dialog ({ title, modalOpen, onClose, children }) {\n    const [open, setOpen] = useState(false);\n\n    useEffect(() => {\n        setOpen(modalOpen)\n    }, [modalOpen])\n    \n    const handleClose = () => {\n        setOpen(false);\n        onClose()\n    };\n\n    return (\n        <>\n            <CoreDialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">\n                    {title}\n                </DialogTitle>\n                {children}\n            </CoreDialog>\n        </>\n    );\n}\n\nexport default Dialog;","import React, { useState, useEffect, useContext } from 'react';\nimport { Button, TextField, DialogContent, DialogActions, Grid } from '@material-ui/core';\nimport PropType from 'prop-types'\nimport Dialog from '../Dialog';\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { i18n } from '../../translate/i18n';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonWithSpinner from '../ButtonWithSpinner';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { isNil, isObject, has, get } from 'lodash';\n\nconst MessageSchema = Yup.object().shape({\n\tshortcode: Yup.string()\n\t\t.min(3, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n    message: Yup.string()\n        .min(3, \"Too Short!\")\n        .max(500, \"Too Long!\")\n        .required(\"Required\")\n});\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '350px',\n        },\n    },\n    list: {\n        width: '100%',\n        maxWidth: '350px',\n        maxHeight: '200px',\n        backgroundColor: theme.palette.background.paper,\n    },\n    inline: {\n        width: '100%'\n    }\n}));\n\n\nfunction QuickMessageDialog(props) {\n    const classes = useStyles()\n\n    const initialMessage = {\n        id: null,\n        shortcode: '',\n        message: ''\n    };\n\n    const { modalOpen, saveMessage, editMessage, onClose, messageSelected } = props;\n    const [dialogOpen, setDialogOpen] = useState(false);\n    const [message, setMessage] = useState(initialMessage);\n    const [loading, setLoading] = useState(false);\n\n    const { user } = useContext(AuthContext);\n\n    useEffect(() => {\n        verifyAndSetMessage()\n        setDialogOpen(modalOpen)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [modalOpen])\n\n    useEffect(() => {\n        verifyAndSetMessage()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [messageSelected])\n\n    const messageSelectedIsValid = () => {\n        return isObject(messageSelected) && has(messageSelected, 'id') && !isNil(get(messageSelected, 'id'))\n    }\n\n    const verifyAndSetMessage = () =>{\n        if (messageSelectedIsValid()) {\n            const { id, message, shortcode } = messageSelected\n            setMessage({ id, message, shortcode })\n        } else {\n            setMessage(initialMessage)\n        }\n    }\n\n    const handleClose = () => {\n        onClose()\n        setLoading(false)\n    }\n\n    const handleSave = async (values) => {\n        if (messageSelectedIsValid()) {\n            editMessage({\n                ...messageSelected,\n                ...values,\n                userId: user.id\n            });\n        } else {\n            saveMessage({\n                ...values,\n                userId: user.id\n            });\n        }\n        handleClose()\n    }\n\n    return (\n        <Dialog\n            title=\"Resposta Rápida\"\n            modalOpen={dialogOpen}\n            onClose={handleClose}\n        >\n            <Formik\n                initialValues={message}\n                enableReinitialize={true}\n                validationSchema={MessageSchema}\n                onSubmit={(values, actions) => {\n                    setLoading(true)\n                    setTimeout(() => {\n                        handleSave(values);\n                        actions.setSubmitting(false);\n                    }, 400);\n                }}\n            >\n\n                {({ touched, errors }) => (\n                    <Form>\n                        <DialogContent className={classes.root} dividers>\n                            <Grid direction=\"column\" container>\n                                <Grid item>\n                                    <Field\n                                        as={TextField}\n                                        name=\"shortcode\"\n                                        label={i18n.t(\"quickMessages.dialog.shortcode\")}\n                                        error={touched.shortcode && Boolean(errors.shortcode)}\n                                        helperText={touched.shortcode && errors.shortcode}\n                                        variant=\"outlined\"\n                                    />\n                                </Grid>\n                                <Grid item>\n                                    <Field\n                                        as={TextField}\n                                        name=\"message\"\n                                        rows={6}\n                                        label={i18n.t(\"quickMessages.dialog.message\")}\n                                        multiline={true}\n                                        error={touched.message && Boolean(errors.message)}\n                                        helperText={touched.message && errors.message}\n                                        variant=\"outlined\"\n                                    />\n                                </Grid>\n                            </Grid>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={handleClose} color=\"primary\">\n                                Cancelar\n                            </Button>\n                            <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus>\n                                Salvar\n                            </ButtonWithSpinner>\n                        </DialogActions>\n                    </Form>\n                )}\n            </Formik>\n        </Dialog>\n    )\n}\n\nQuickMessageDialog.propType = {\n    modalOpen: PropType.bool,\n    onClose: PropType.func\n}\n\nexport default QuickMessageDialog;","import React, { useState, useEffect, useContext } from \"react\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport { makeStyles, Button, Paper } from \"@material-ui/core\";\n\nimport QuickMessagesTable from \"../../components/QuickMessagesTable\";\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { toast } from \"react-toastify\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nfunction QuickMessages(props) {\n  const classes = useStyles();\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [messageSelected, setMessageSelected] = useState({});\n  const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false);\n\n  const {\n    list: listMessages,\n    save: saveMessage,\n    update: updateMessage,\n    deleteRecord: deleteMessage,\n  } = useQuickMessages();\n\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await loadingQuickMessages();\n    };\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadingQuickMessages = async () => {\n    setLoading(true);\n    try {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listMessages({ companyId, userId: user.id });\n      setMessages(messages);\n    } catch (e) {\n      toast.error(e);\n    }\n    setLoading(false);\n  };\n\n  const handleOpenToAdd = () => {\n    setModalOpen(true);\n  };\n\n  const handleOpenToEdit = (message) => {\n    setMessageSelected(message);\n    setModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setModalOpen(false);\n    setMessageSelected({ id: null, message: \"\", shortcode: \"\" });\n  };\n\n  const handleSave = async (message) => {\n    handleCloseModal();\n    try {\n      await saveMessage(message);\n      await loadingQuickMessages();\n      toast.success(\"Messagem adicionada com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleEdit = async (message) => {\n    handleCloseModal();\n    try {\n      await updateMessage(message);\n      await loadingQuickMessages();\n      toast.success(\"Messagem atualizada com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleDelete = async (message) => {\n    handleCloseModal();\n    try {\n      await deleteMessage(message.id);\n      await loadingQuickMessages();\n      toast.success(\"Messagem excluída com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Title>{i18n.t(\"quickMessages.title\")} ({messages.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleOpenToAdd}>\n            {i18n.t(\"quickMessages.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <QuickMessagesTable\n          readOnly={false}\n          messages={messages}\n          showLoading={loading}\n          editMessage={handleOpenToEdit}\n          deleteMessage={(message) => {\n            setMessageSelected(message);\n            setShowOnDeleteDialog(true);\n          }}\n        />\n      </Paper>\n      <QuickMessageDialog\n        messageSelected={messageSelected}\n        modalOpen={modalOpen}\n        onClose={handleCloseModal}\n        editMessage={handleEdit}\n        saveMessage={handleSave}\n      />\n      <ConfirmationModal\n        title=\"Excluir Registro\"\n        open={showOnDeleteDialog}\n        onClose={setShowOnDeleteDialog}\n        onConfirm={async () => {\n          await handleDelete(messageSelected);\n        }}\n      >\n        Deseja realmente excluir este registro?\n      </ConfirmationModal>\n    </MainContainer>\n  );\n}\n\nexport default QuickMessages;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n\tconst { isAuth, loading } = useContext(AuthContext);\n\n\tif (!isAuth && isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n\t\t\t</>\n\t\t);\n\t}\n\n\tif (isAuth && !isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <BackdropLoading />}\n\t\t\t<RouterRoute {...rest} component={Component} />\n\t\t</>\n\t);\n};\n\nexport default Route;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nimport { capitalize } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nconst getUrlParam = (param) => {\n  return new URLSearchParams(window.location.search).get(param);\n};\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    const schedules = action.payload;\n    const newSchedules = [];\n\n    schedules.forEach((schedule) => {\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n      if (scheduleIndex !== -1) {\n        state[scheduleIndex] = schedule;\n      } else {\n        newSchedules.push(schedule);\n      }\n    });\n\n    return [...state, ...newSchedules];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\n    if (scheduleIndex !== -1) {\n      state.splice(scheduleIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useSchedules) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const fetchSchedules = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/schedules/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    pageNumber,\n    contactId,\n    fetchSchedules,\n    handleOpenScheduleModalFromContactId,\n  ]);\n\n  useEffect(() => {\n    handleOpenScheduleModalFromContactId();\n    const socket = socketConnection({ companyId: user.companyId });\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedules });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.scheduleId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [handleOpenScheduleModalFromContactId, user]);\n\n  const cleanContact = () => {\n    setContactId(\"\");\n  };\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + \"...\";\n    }\n    return str;\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ScheduleModal\n        open={scheduleModalOpen}\n        onClose={handleCloseScheduleModal}\n        reload={fetchSchedules}\n        aria-labelledby=\"form-dialog-title\"\n        scheduleId={selectedSchedule && selectedSchedule.id}\n        contactId={contactId}\n        cleanContact={cleanContact}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")} ({schedules.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.contact\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.body\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.sendAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {schedules.map((schedule) => (\n                <TableRow key={schedule.id}>\n                  <TableCell align=\"center\">{schedule.contact.name}</TableCell>\n                  <TableCell align=\"center\" title={schedule.body}>\n                    {truncate(schedule.body, 25)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {moment(schedule.sendAt).format(\"DD/MM/YYYY HH:mm:ss\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {capitalize(schedule.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditSchedule(schedule)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingSchedule(schedule);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  btnWrapper: {\n    position: \"relative\",\n  },\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  tabs: {\n    background: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\n    border: \"1px solid #e6e6e6\",\n    borderRadius: 2,\n  }\n}));\n\nconst CampaignSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst CampaignModal = ({\n  open,\n  onClose,\n  campaignId,\n  initialValues,\n  onSave,\n  resetPagination,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n  const { companyId } = user;\n\n  const initialState = {\n    name: \"\",\n    message1: \"\",\n    message2: \"\",\n    message3: \"\",\n    message4: \"\",\n    message5: \"\",\n    confirmationMessage1: \"\",\n    confirmationMessage2: \"\",\n    confirmationMessage3: \"\",\n    confirmationMessage4: \"\",\n    confirmationMessage5: \"\",\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\n    confirmation: false,\n    scheduledAt: \"\",\n    whatsappId: \"\",\n    contactListId: \"\",\n    companyId,\n  };\n\n  const [campaign, setCampaign] = useState(initialState);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactLists, setContactLists] = useState([]);\n  const [messageTab, setMessageTab] = useState(0);\n  const [attachment, setAttachment] = useState(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [campaignEditable, setCampaignEditable] = useState(true);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      if (initialValues) {\n        setCampaign((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      api\n        .get(`/contact-lists/list`, { params: { companyId } })\n        .then(({ data }) => setContactLists(data));\n\n      api\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\n        .then(({ data }) => setWhatsapps(data));\n\n      if (!campaignId) return;\n\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\n        setCampaign((prev) => {\n          let prevCampaignData = Object.assign({}, prev);\n\n          Object.entries(data).forEach(([key, value]) => {\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\n            } else {\n              prevCampaignData[key] = value === null ? \"\" : value;\n            }\n          });\n\n          return prevCampaignData;\n        });\n      });\n    }\n  }, [campaignId, open, initialValues, companyId]);\n\n  useEffect(() => {\n    const now = moment();\n    const scheduledAt = moment(campaign.scheduledAt);\n    const moreThenAnHour =\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\n    const isEditable =\n      campaign.status === \"INATIVA\" ||\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\n\n    setCampaignEditable(isEditable);\n  }, [campaign.status, campaign.scheduledAt]);\n\n  const handleClose = () => {\n    onClose();\n    setCampaign(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveCampaign = async (values) => {\n    try {\n      const dataValues = {};\n      Object.entries(values).forEach(([key, value]) => {\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\n        } else {\n          dataValues[key] = value === \"\" ? null : value;\n        }\n      });\n\n      if (campaignId) {\n        await api.put(`/campaigns/${campaignId}`, dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\n        }\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/campaigns\", dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\n        }\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\n    } catch (err) {\n      console.log(err);\n      toastError(err);\n    }\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (campaign.mediaPath) {\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    }\n  };\n\n  const renderMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        helperText=\"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalizadas.\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const renderConfirmationMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const cancelCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {campaignEditable ? (\n            <>\n              {campaignId\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\n            </>\n          ) : (\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\n          )}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={campaign}\n          enableReinitialize={true}\n          validationSchema={CampaignSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveCampaign(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} md={9} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={3} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"confirmation-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.confirmation\"\n                        )}\n                        labelId=\"confirmation-selection-label\"\n                        id=\"confirmation\"\n                        name=\"confirmation\"\n                        error={\n                          touched.confirmation && Boolean(errors.confirmation)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value={false}>Desabilitada</MenuItem>\n                        <MenuItem value={true}>Habilitada</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"contactList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.contactList\"\n                        )}\n                        labelId=\"contactList-selection-label\"\n                        id=\"contactListId\"\n                        name=\"contactListId\"\n                        error={\n                          touched.contactListId && Boolean(errors.contactListId)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {contactLists &&\n                          contactLists.map((contactList) => (\n                            <MenuItem\n                              key={contactList.id}\n                              value={contactList.id}\n                            >\n                              {contactList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"whatsapp-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        labelId=\"whatsapp-selection-label\"\n                        id=\"whatsappId\"\n                        name=\"whatsappId\"\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {whatsapps &&\n                          whatsapps.map((whatsapp) => (\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\n                              {whatsapp.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\n                      name=\"scheduledAt\"\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\n                      helperText={touched.scheduledAt && errors.scheduledAt}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      type=\"datetime-local\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Tabs\n                      value={messageTab}\n                      indicatorColor=\"primary\"\n                      textColor=\"primary\"\n                      onChange={(e, v) => setMessageTab(v)}\n                      variant=\"fullWidth\"\n                      centered\n                      className={classes.tabs}\n                    // style={{\n                    //   background: \"#f2f2f2\",\n                    //   border: \"1px solid #e6e6e6\",\n                    //   borderRadius: 2,\n                    // }}\n                    >\n                      <Tab label=\"Msg. 1\" index={0} />\n                      <Tab label=\"Msg. 2\" index={1} />\n                      <Tab label=\"Msg. 3\" index={2} />\n                      <Tab label=\"Msg. 4\" index={3} />\n                      <Tab label=\"Msg. 5\" index={4} />\n                    </Tabs>\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\n                      {messageTab === 0 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message1\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage1\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message1\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 1 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message2\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage2\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message2\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 2 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message3\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage3\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message3\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 3 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message4\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage4\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message4\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 4 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message5\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage5\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message5\")}</>\n                          )}\n                        </>\n                      )}\n                    </Box>\n                  </Grid>\n                  {(campaign.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment != null\n                          ? attachment.name\n                          : campaign.mediaName}\n                      </Button>\n                      {campaignEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {campaign.status === \"CANCELADA\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => restartCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\n                  </Button>\n                )}\n                {campaign.status === \"EM_ANDAMENTO\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => cancelCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\n                  </Button>\n                )}\n                {!attachment && !campaign.mediaPath && campaignEditable && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\n                </Button>\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\n                  <Button\n                    type=\"submit\"\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    variant=\"contained\"\n                    className={classes.btnWrapper}\n                  >\n                    {campaignId\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </Button>\n                )}\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default CampaignModal;\n","/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { socketConnection } from \"../../services/socket\";\nimport usePlans from \"../../hooks/usePlans\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n\n    if (isArray(campaigns)) {\n      campaigns.forEach((campaign) => {\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n\n    return [...state, ...newCampaigns];\n  }\n\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Campaigns = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [campaigns, dispatch] = useReducer(reducer, []);\n\n  const { datetimeToClient } = useDate();\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useCampaigns) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {          \n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchCampaigns();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchCampaigns = async () => {\n    try {\n      const { data } = await api.get(\"/campaigns/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(true);\n  };\n\n  const handleCloseCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditCampaign = (campaign) => {\n    setSelectedCampaign(campaign);\n    setCampaignModalOpen(true);\n  };\n\n  const handleDeleteCampaign = async (campaignId) => {\n    try {\n      await api.delete(`/campaigns/${campaignId}`);\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCampaign(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  const cancelCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCampaign &&\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${deletingCampaign.name}?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <CampaignModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchCampaigns();\n        }}\n        open={campaignModalOpen}\n        onClose={handleCloseCampaignModal}\n        aria-labelledby=\"form-dialog-title\"\n        campaignId={selectedCampaign && selectedCampaign.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"campaigns.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenCampaignModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"campaigns.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.contactList\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.scheduledAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.completedAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.confirmation\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {campaigns.map((campaign) => (\n                <TableRow key={campaign.id}>\n                  <TableCell align=\"center\">{campaign.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {formatStatus(campaign.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.contactListId\n                      ? campaign.contactList.name\n                      : \"Não definida\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.whatsappId\n                      ? campaign.whatsapp.name\n                      : \"Não definido\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.scheduledAt\n                      ? datetimeToClient(campaign.scheduledAt)\n                      : \"Sem agendamento\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.completedAt\n                      ? datetimeToClient(campaign.completedAt)\n                      : \"Não concluída\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.status === \"EM_ANDAMENTO\" && (\n                      <IconButton\n                        onClick={() => cancelCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PauseCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    {campaign.status === \"CANCELADA\" && (\n                      <IconButton\n                        onClick={() => restartCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PlayCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    <IconButton\n                      onClick={() =>\n                        history.push(`/campaign/${campaign.id}/report`)\n                      }\n                      size=\"small\"\n                    >\n                      <DescriptionIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditCampaign(campaign)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingCampaign(campaign);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={8} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Campaigns;\n","import React, { useEffect, useState } from \"react\";\nimport { Field } from \"formik\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { toast } from \"react-toastify\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport api from \"../../services/api\";\nimport usePlans from \"../../hooks/usePlans\";\nimport toastError from \"../../errors/toastError\";\nimport { i18n } from \"../../translate/i18n\";\nimport {\n  Box,\n  Button,\n  FormControl,\n  Grid,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    // padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    // padding: theme.spacing(2),\n    padding: theme.padding,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 12,\n  },\n\n}));\n\nconst initialSettings = {\n  messageInterval: 20,\n  longerIntervalAfter: 20,\n  greaterInterval: 60,\n  variables: [],\n  // sabado: \"false\",\n  // domingo: \"false\",\n  // startHour: \"09:00\",\n  // endHour: \"18:00\"\n};\n\nconst CampaignsConfig = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [settings, setSettings] = useState(initialSettings);\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [selectedKey, setSelectedKey] = useState(null);\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\n\n  // const [sabado, setSabado] = React.useState(false);\n  // const [domingo, setDomingo] = React.useState(false);\n\n  // const [startHour, setStartHour] = useState(\"08:00\");\n  // const [endHour, setEndHour] = useState(\"19:00\");\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useCampaigns) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    api.get(\"/campaign-settings\").then(({ data }) => {\n      const settingsList = [];\n      if (Array.isArray(data) && data.length > 0) {\n        data.forEach((item) => {\n          settingsList.push([item.key, JSON.parse(item.value)]);\n        });\n        setSettings(Object.fromEntries(settingsList));\n      }\n    });\n  }, []);\n\n  const handleOnChangeVariable = (e) => {\n    if (e.target.value !== null) {\n      const changedProp = {};\n      changedProp[e.target.name] = e.target.value;\n      setVariable((prev) => ({ ...prev, ...changedProp }));\n    }\n  };\n\n  const handleOnChangeSettings = (e) => {\n    const changedProp = {};\n    changedProp[e.target.name] = e.target.value;\n    setSettings((prev) => ({ ...prev, ...changedProp }));\n  };\n\n  const addVariable = () => {\n    setSettings((prev) => {\n      const variablesExists = settings.variables.filter(\n        (v) => v.key === variable.key\n      );\n      const variables = prev.variables;\n      if (variablesExists.length === 0) {\n        variables.push(Object.assign({}, variable));\n        setVariable({ key: \"\", value: \"\" });\n      }\n      return { ...prev, variables };\n    });\n  };\n\n  const removeVariable = () => {\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\n    setSettings((prev) => ({ ...prev, variables: newList }));\n    setSelectedKey(null);\n  };\n\n  const saveSettings = async () => {\n    await api.post(\"/campaign-settings\", { settings });\n    toast.success(\"Configurações salvas\");\n  };\n\n  // const handleChange = (event) => {\n  //   if (event.target.name === \"sabado\") {\n  //     setSabado(event.target.checked);\n  //   }\n  //   if (event.target.name === \"domingo\") {\n  //     setDomingo(event.target.checked);\n  //   }\n  // };\n\n  // const handleSaveTimeMass = async () => {\n  //   let settings = {\n  //     sabado: sabado,\n  //     domingo: domingo,\n  //     startHour: startHour,\n  //     endHour: endHour\n  //   }\n\n  //   try {\n  //     await api.post(`/campaign-settings/`, { settings });\n\n  //     toast.success(i18n.t(\"settings.success\"));\n  //   } catch (err) {\n  //     toastError(err);\n  //   }\n  // };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={removeVariable}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n\n        {/* <Typography component={\"h1\"}>Período de Disparo das Campanhas &nbsp;</Typography>\n        <Paper className={classes.paper}>\n          <TextField\n            id=\"buttonText\"\n            label=\"Começar o envio que hora?\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            fullWidth\n            value={startHour}\n            onChange={(e) => handleChange(e.target.value)}\n            style={{ marginRight: \"10px\" }}\n          />\n\n          <TextField\n            id=\"buttonText\"\n            label=\"Terminar o envio que hora?\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            fullWidth\n            value={endHour}\n            onChange={(e) => handleChange(e.target.value)}\n            style={{ marginRight: \"10px\" }}\n          />\n\n          <FormControlLabel\n            control={<Checkbox checked={sabado} onChange={handleChange} name=\"sabado\" />}\n            label=\"Sábado\"\n          />\n\n          <FormControlLabel\n            control={<Checkbox checked={domingo} onChange={handleChange} name=\"domingo\" />}\n            label=\"Domigo\"\n          />\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.button}\n            onClick={() => {\n              handleSaveTimeMass();\n            }}\n            style={{ marginRight: \"10px\" }}\n          >\n            Salvar\n          </Button>\n\n        </Paper> */}\n\n        <Box className={classes.tabPanelsContainer}>\n          <Grid spacing={1} container>\n            <Grid xs={12} item>\n              <Typography component={\"h1\"}>Intervalos &nbsp;</Typography>\n            </Grid>\n\n            {/* TEMPO ENTRE DISPAROS */}\n            {/* <Grid xs={12} md={3} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"messageInterval-label\">\n                  Tempo entre Disparos\n                </InputLabel>\n                <Select\n                  name=\"messageInterval\"\n                  id=\"messageInterval\"\n                  labelId=\"messageInterval-label\"\n                  label=\"Intervalo Randômico de Disparo\"\n                  value={settings.messageInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid> */}\n\n            <Grid xs={12} md={3} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"messageInterval-label\">\n                  Intervalo Randômico de Disparo\n                </InputLabel>\n                <Select\n                  name=\"messageInterval\"\n                  id=\"messageInterval\"\n                  labelId=\"messageInterval-label\"\n                  label=\"Intervalo Randômico de Disparo\"\n                  value={settings.messageInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={3} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"longerIntervalAfter-label\">\n                  Intervalo Maior Após\n                </InputLabel>\n                <Select\n                  name=\"longerIntervalAfter\"\n                  id=\"longerIntervalAfter\"\n                  labelId=\"longerIntervalAfter-label\"\n                  label=\"Intervalo Maior Após\"\n                  value={settings.longerIntervalAfter}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Não definido</MenuItem>\n                  <MenuItem value={5}>5 mensagens</MenuItem>\n                  <MenuItem value={10}>10 mensagens</MenuItem>\n                  <MenuItem value={15}>15 mensagens</MenuItem>\n                  <MenuItem value={20}>20 mensagens</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={3} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"greaterInterval-label\">\n                  Intervalo de Disparo Maior\n                </InputLabel>\n                <Select\n                  name=\"greaterInterval\"\n                  id=\"greaterInterval\"\n                  labelId=\"greaterInterval-label\"\n                  label=\"Intervalo de Disparo Maior\"\n                  value={settings.greaterInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={50}>50 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} className={classes.textRight} item>\n              <Button\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\n                color=\"primary\"\n                style={{ marginRight: 10 }}\n              >\n                Adicionar Variável\n              </Button>\n              <Button\n                onClick={saveSettings}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Salvar Configurações\n              </Button>\n            </Grid>\n            {showVariablesForm && (\n              <>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Atalho\"\n                    variant=\"outlined\"\n                    value={variable.key}\n                    name=\"key\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Conteúdo\"\n                    variant=\"outlined\"\n                    value={variable.value}\n                    name=\"value\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} className={classes.textRight} item>\n                  <Button\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\n                    color=\"primary\"\n                    style={{ marginRight: 10 }}\n                  >\n                    Fechar\n                  </Button>\n                  <Button\n                    onClick={addVariable}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  >\n                    Adicionar\n                  </Button>\n                </Grid>\n              </>\n            )}\n            {settings.variables.length > 0 && (\n              <Grid xs={12} className={classes.textRight} item>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\n                      <TableCell>Atalho</TableCell>\n                      <TableCell>Conteúdo</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {Array.isArray(settings.variables) &&\n                      settings.variables.map((v, k) => (\n                        <TableRow key={k}>\n                          <TableCell>\n                            <IconButton\n                              size=\"small\"\n                              onClick={() => {\n                                setSelectedKey(v.key);\n                                setConfirmationOpen(true);\n                              }}\n                            >\n                              <DeleteOutlineIcon />\n                            </IconButton>\n                          </TableCell>\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\n                          <TableCell>{v.value}</TableCell>\n                        </TableRow>\n                      ))}\n                  </TableBody>\n                </Table>\n              </Grid>\n            )}\n          </Grid>\n        </Box>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignsConfig;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { toast } from \"react-toastify\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { has, get, isNull } from \"lodash\";\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport { useDate } from \"../../hooks/useDate\";\nimport usePlans from \"../../hooks/usePlans\";\n\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(2),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    // padding: theme.spacing(2),\n    padding: theme.padding,\n  },\n}));\n\nconst CampaignReport = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { campaignId } = useParams();\n\n  const [campaign, setCampaign] = useState({});\n  const [validContacts, setValidContacts] = useState(0);\n  const [delivered, setDelivered] = useState(0);\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\n  const [confirmed, setConfirmed] = useState(0);\n  const [percent, setPercent] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n\n  const { datetimeToClient } = useDate();\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useCampaigns) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {          \n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current) {\n      findCampaign();\n    }\n\n    return () => {\n      mounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current && has(campaign, \"shipping\")) {\n      if (has(campaign, \"contactList\")) {\n        const contactList = get(campaign, \"contactList\");\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\n        setValidContacts(valids.length);\n      }\n\n      if (has(campaign, \"shipping\")) {\n        const contacts = get(campaign, \"shipping\");\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\n        const confirmationRequested = contacts.filter(\n          (c) => !isNull(c.confirmationRequestedAt)\n        );\n        const confirmed = contacts.filter(\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\n        );\n        setDelivered(delivered.length);\n        setConfirmationRequested(confirmationRequested.length);\n        setConfirmed(confirmed.length);\n        setDelivered(delivered.length);\n      }\n    }\n  }, [campaign]);\n\n  useEffect(() => {\n    setPercent((delivered / validContacts) * 100);\n  }, [delivered, validContacts]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n      console.log(data);\n      if (data.record.id === +campaignId) {\n        setCampaign(data.record);\n\n        if (data.record.status === \"FINALIZADA\") {\n          setTimeout(() => {\n            findCampaign();\n          }, 5000);\n        }\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [campaignId]);\n\n  const findCampaign = async () => {\n    setLoading(true);\n    const { data } = await api.get(`/campaigns/${campaignId}`);\n    setCampaign(data);\n    setLoading(false);\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>Relatório da {campaign.name || \"Campanha\"}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Typography variant=\"h6\" component=\"h2\">\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\n        </Typography>\n        <Grid spacing={2} container>\n          <Grid xs={12} item>\n            <LinearProgress\n              variant=\"determinate\"\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\n              value={percent}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Contatos Válidos\"\n              value={validContacts}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.confirmation && (\n            <>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações Solicitadas\"\n                  value={confirmationRequested}\n                  loading={loading}\n                />\n              </Grid>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações\"\n                  value={confirmed}\n                  loading={loading}\n                />\n              </Grid>\n            </>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\n              title=\"Entregues\"\n              value={delivered}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.whatsappId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\n                title=\"Conexão\"\n                value={campaign.whatsapp.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          {campaign.contactListId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<ListAltIcon fontSize=\"inherit\" />}\n                title=\"Lista de Contatos\"\n                value={campaign.contactList.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\n              title=\"Agendamento\"\n              value={datetimeToClient(campaign.scheduledAt)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\n              title=\"Conclusão\"\n              value={datetimeToClient(campaign.completedAt)}\n              loading={loading}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignReport;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst AnnouncementSchema = Yup.object().shape({\n  title: Yup.string().required(\"Obrigatório\"),\n  text: Yup.string().required(\"Obrigatório\"),\n});\n\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    title: \"\",\n    text: \"\",\n    priority: 3,\n    status: true,\n  };\n\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [announcement, setAnnouncement] = useState(initialState);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    try {\n      (async () => {\n        if (!announcementId) return;\n\n        const { data } = await api.get(`/announcements/${announcementId}`);\n        setAnnouncement((prevState) => {\n          return { ...prevState, ...data };\n        });\n      })();\n    } catch (err) {\n      toastError(err);\n    }\n  }, [announcementId, open]);\n\n  const handleClose = () => {\n    setAnnouncement(initialState);\n    setAttachment(null);\n    onClose();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveAnnouncement = async (values) => {\n    const announcementData = { ...values };\n    try {\n      if (announcementId) {\n        await api.put(`/announcements/${announcementId}`, announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(\n            `/announcements/${announcementId}/media-upload`,\n            formData\n          );\n        }\n      } else {\n        const { data } = await api.post(\"/announcements\", announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"announcements.toasts.success\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (announcement.mediaPath) {\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n      setAnnouncement((prev) => ({\n        ...prev,\n        mediaPath: null,\n      }));\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {announcementId\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\n            : `${i18n.t(\"announcements.dialog.add\")}`}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            accept=\".png,.jpg,.jpeg\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={announcement}\n          enableReinitialize={true}\n          validationSchema={AnnouncementSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveAnnouncement(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.title\")}\n                      name=\"title\"\n                      error={touched.title && Boolean(errors.title)}\n                      helperText={touched.title && errors.title}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.text\")}\n                      name=\"text\"\n                      error={touched.text && Boolean(errors.text)}\n                      helperText={touched.text && errors.text}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      multiline={true}\n                      rows={7}\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"status-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.status\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.status\")}\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\n                        labelId=\"status-selection-label\"\n                        id=\"status\"\n                        name=\"status\"\n                        error={touched.status && Boolean(errors.status)}\n                      >\n                        <MenuItem value={true}>Ativo</MenuItem>\n                        <MenuItem value={false}>Inativo</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"priority-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.priority\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\n                        placeholder={i18n.t(\n                          \"announcements.dialog.form.priority\"\n                        )}\n                        labelId=\"priority-selection-label\"\n                        id=\"priority\"\n                        name=\"priority\"\n                        error={touched.priority && Boolean(errors.priority)}\n                      >\n                        <MenuItem value={1}>Alta</MenuItem>\n                        <MenuItem value={2}>Média</MenuItem>\n                        <MenuItem value={3}>Baixa</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  {(announcement.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment ? attachment.name : announcement.mediaName}\n                      </Button>\n                      <IconButton\n                        onClick={() => setConfirmationOpen(true)}\n                        color=\"secondary\"\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {!attachment && !announcement.mediaPath && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {announcementId\n                    ? `${i18n.t(\"announcements.dialog.buttons.add\")}`\n                    : `${i18n.t(\"announcements.dialog.buttons.edit\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AnnouncementModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Announcements = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n\n  // trava para nao acessar pagina que não pode  \n  useEffect(() => {\n    async function fetchData() {\n      if (!user.super) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleCloseAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setSelectedAnnouncement(announcement);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleDeleteAnnouncement = async (announcementId) => {\n    try {\n      await api.delete(`/announcements/${announcementId}`);\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingAnnouncement(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const translatePriority = (val) => {\n    if (val === 1) {\n      return \"Alta\";\n    }\n    if (val === 2) {\n      return \"Média\";\n    }\n    if (val === 3) {\n      return \"Baixa\";\n    }\n  };\n\n  return (\n    <MainContainer >\n      <ConfirmationModal\n        title={\n          deletingAnnouncement &&\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement.id)}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <AnnouncementModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchAnnouncements();\n        }}\n        open={announcementModalOpen}\n        onClose={handleCloseAnnouncementModal}\n        aria-labelledby=\"form-dialog-title\"\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"announcements.title\")} ({announcements.length})</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenAnnouncementModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"announcements.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.title\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.priority\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {announcements.map((announcement) => (\n                <TableRow key={announcement.id}>\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\n                  <TableCell align=\"center\">\n                    {translatePriority(announcement.priority)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.mediaName ?? \"Sem anexo\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.status ? \"ativo\" : \"inativo\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditAnnouncement(announcement)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingAnnouncement(announcement);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer >\n  )\n};\n\nexport default Announcements;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Chip,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    height: \"calc(100% - 58px)\",\n    overflow: \"hidden\",\n    borderRadius: 0,\n    backgroundColor: \"white\",\n  },\n  chatList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  listItem: {\n    cursor: \"pointer\",\n  },\n}));\n\nexport default function ChatList({\n  chats,\n  handleSelectChat,\n  handleDeleteChat,\n  handleEditChat,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\n  const [selectedChat, setSelectedChat] = useState({});\n\n  const { id } = useParams();\n\n  const goToMessages = async (chat) => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n\n    if (id !== chat.uuid) {\n      history.push(`/chats/${chat.uuid}`);\n      handleSelectChat(chat);\n    }\n  };\n\n  const handleDelete = () => {\n    handleDeleteChat(selectedChat);\n  };\n\n  const unreadMessages = (chat) => {\n    const currentUser = chat.users.find((u) => u.userId === user.id);\n    return currentUser.unreads;\n  };\n\n  const getPrimaryText = (chat) => {\n    const mainText = chat.title;\n    const unreads = unreadMessages(chat);\n    return (\n      <>\n        {mainText}\n        {unreads > 0 && (\n          <Chip\n            size=\"small\"\n            style={{ marginLeft: 5 }}\n            label={unreads}\n            color=\"secondary\"\n          />\n        )}\n      </>\n    );\n  };\n\n  const getSecondaryText = (chat) => {\n    return chat.lastMessage !== \"\"\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\n      : \"\";\n  };\n\n  const getItemStyle = (chat) => {\n    return {\n      borderLeft: chat.uuid === id ? \"6px solid #002d6e\" : null,\n      backgroundColor: chat.uuid === id ? \"#eee\" : null,\n    };\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={\"Borrar Conversación\"}\n        open={confirmationModal}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleDelete}\n      >\n        Esta ação não pode ser revertida, confirmar?\n      </ConfirmationModal>\n      <div className={classes.mainContainer}>\n        <div className={classes.chatList}>\n          <List>\n            {Array.isArray(chats) &&\n              chats.length > 0 &&\n              chats.map((chat, key) => (\n                <ListItem\n                  onClick={() => goToMessages(chat)}\n                  key={key}\n                  className={classes.listItem}\n                  style={getItemStyle(chat)}\n                  button\n                >\n                  <ListItemText\n                    primary={getPrimaryText(chat)}\n                    secondary={getSecondaryText(chat)}\n                  />\n                  {chat.ownerId === user.id && (\n                    <ListItemSecondaryAction>\n                      <IconButton\n                        onClick={() => {\n                          goToMessages(chat).then(() => {\n                            handleEditChat(chat);\n                          });\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                        style={{ marginRight: 5 }}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        onClick={() => {\n                          setSelectedChat(chat);\n                          setConfirmModalOpen(true);\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </ListItemSecondaryAction>\n                  )}\n                </ListItem>\n              ))}\n          </List>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  IconButton,\n  Input,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport SendIcon from \"@material-ui/icons/Send\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflow: \"hidden\",\n    borderRadius: 0,\n    height: \"100%\",\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  messageList: {\n    position: \"relative\",\n    overflowY: \"auto\",\n    height: \"100%\",\n    ...theme.scrollbarStyles,\n    backgroundColor: \"#eee\",\n  },\n  inputArea: {\n    position: \"relative\",\n    height: \"auto\",\n  },\n  input: {\n    padding: \"20px\",\n  },\n  buttonSend: {\n    margin: theme.spacing(1),\n  },\n  boxLeft: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px\",\n    position: \"relative\",\n    backgroundColor: \"white\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomLeftRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  boxRight: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px 10px 10px auto\",\n    position: \"relative\",\n    backgroundColor: \"#E3F3F9\",\n    textAlign: \"right\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomRightRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n}));\n\nexport default function ChatMessages({\n  chat,\n  messages,\n  handleSendMessage,\n  handleLoadMore,\n  scrollToBottomRef,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n  const baseRef = useRef();\n\n  const [contentMessage, setContentMessage] = useState(\"\");\n\n  const scrollToBottom = () => {\n    if (baseRef.current) {\n      baseRef.current.scrollIntoView({});\n    }\n  };\n\n  const unreadMessages = (chat) => {\n    if (chat !== undefined) {\n      const currentUser = chat.users.find((u) => u.userId === user.id);\n      return currentUser.unreads > 0;\n    }\n    return 0;\n  };\n\n  useEffect(() => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n    scrollToBottomRef.current = scrollToBottom;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleScroll = (e) => {\n    const { scrollTop } = e.currentTarget;\n    if (!pageInfo.hasMore || loading) return;\n    if (scrollTop < 600) {\n      handleLoadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.mainContainer}>\n      <div onScroll={handleScroll} className={classes.messageList}>\n        {Array.isArray(messages) &&\n          messages.map((item, key) => {\n            if (item.senderId === user.id) {\n              return (\n                <Box key={key} className={classes.boxRight}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            } else {\n              return (\n                <Box key={key} className={classes.boxLeft}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            }\n          })}\n        <div ref={baseRef}></div>\n      </div>\n      <div className={classes.inputArea}>\n        <FormControl variant=\"outlined\" fullWidth>\n          <Input\n            multiline\n            value={contentMessage}\n            onKeyUp={(e) => {\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\n                handleSendMessage(contentMessage);\n                setContentMessage(\"\");\n              }\n            }}\n            onChange={(e) => setContentMessage(e.target.value)}\n            className={classes.input}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={() => {\n                    if (contentMessage.trim() !== \"\") {\n                      handleSendMessage(contentMessage);\n                      setContentMessage(\"\");\n                    }\n                  }}\n                  className={classes.buttonSend}\n                >\n                  <SendIcon />\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </div>\n    </Paper>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  TextField,\n} from \"@material-ui/core\";\nimport ChatList from \"./ChatList\";\nimport ChatMessages from \"./ChatMessages\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport { has, isObject } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nimport { toast } from \"react-toastify\";\nimport usePlans from \"../../hooks/usePlans\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    // padding: theme.spacing(2),\n    padding: theme.padding,\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  gridContainer: {\n    flex: 1,\n    height: \"100%\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n    backgroundColor: \"#eee\",\n  },\n  gridItem: {\n    height: \"100%\",\n  },\n  gridItemTab: {\n    height: \"92%\",\n    width: \"100%\",\n  },\n  btnContainer: {\n    textAlign: \"right\",\n    padding: 10,\n  },\n}));\n\nexport function ChatModal({\n  open,\n  chat,\n  type,\n  handleClose,\n  handleLoadNewChat,\n}) {\n  const history = useHistory();\n  const [users, setUsers] = useState([]);\n  const [title, setTitle] = useState(\"\");\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useInternalChat) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setTitle(\"\");\n    setUsers([]);\n    if (type === \"edit\") {\n      const userList = chat.users.map((u) => ({\n        id: u.user.id,\n        name: u.user.name,\n      }));\n      setUsers(userList);\n      setTitle(chat.title);\n    }\n  }, [chat, open, type]);\n\n  const handleSave = async () => {\n    try {\n      if (type === \"edit\") {\n        await api.put(`/chats/${chat.id}`, {\n          users,\n          title,\n        });\n      } else {\n        const { data } = await api.post(\"/chats\", {\n          users,\n          title,\n        });\n        handleLoadNewChat(data);\n      }\n      handleClose();\n    } catch (err) { }\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">Conversación</DialogTitle>\n      <DialogContent>\n        <Grid spacing={2} container>\n          <Grid xs={12} style={{ padding: 18 }} item>\n            <TextField\n              label=\"Título\"\n              placeholder=\"Título\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n            />\n          </Grid>\n          <Grid xs={12} item>\n            <UsersFilter\n              onFiltered={(users) => setUsers(users)}\n              initialUsers={users}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n        <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\n          Salvar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction Chat(props) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n\n  const [showDialog, setShowDialog] = useState(false);\n  const [dialogType, setDialogType] = useState(\"new\");\n  const [currentChat, setCurrentChat] = useState({});\n  const [chats, setChats] = useState([]);\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\n  const [messages, setMessages] = useState([]);\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\n  const [messagesPage, setMessagesPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [tab, setTab] = useState(0);\n  const isMounted = useRef(true);\n  const scrollToBottomRef = useRef();\n  const { id } = useParams();\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      findChats().then((data) => {\n        const { records } = data;\n        if (records.length > 0) {\n          setChats(records);\n          setChatsPageInfo(data);\n\n          if (id && records.length) {\n            const chat = records.find((r) => r.uuid === id);\n            selectChat(chat);\n          }\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      findMessages(currentChat.id).then(() => {\n        if (typeof scrollToBottomRef.current === \"function\") {\n          setTimeout(() => {\n            scrollToBottomRef.current();\n          }, 300);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat-user-${user.id}`, (data) => {\n      if (data.action === \"create\") {\n        setChats((prev) => [data.record, ...prev]);\n      }\n      if (data.action === \"update\") {\n        const changedChats = chats.map((chat) => {\n          if (chat.id === data.record.id) {\n            setCurrentChat(data.record);\n            return {\n              ...data.record,\n            };\n          }\n          return chat;\n        });\n        setChats(changedChats);\n      }\n    });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"delete\") {\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\n        setChats(filteredChats);\n        setMessages([]);\n        setMessagesPage(1);\n        setMessagesPageInfo({ hasMore: false });\n        setCurrentChat({});\n        history.push(\"/chats\");\n      }\n    });\n\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, (data) => {\n        if (data.action === \"new-message\") {\n          setMessages((prev) => [...prev, data.newMessage]);\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.newMessage.chatId) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n\n        if (data.action === \"update\") {\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.chat.id) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n      });\n    }\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  const selectChat = (chat) => {\n    try {\n      setMessages([]);\n      setMessagesPage(1);\n      setCurrentChat(chat);\n      setTab(1);\n    } catch (err) { }\n  };\n\n  const sendMessage = async (contentMessage) => {\n    setLoading(true);\n    try {\n      await api.post(`/chats/${currentChat.id}/messages`, {\n        message: contentMessage,\n      });\n    } catch (err) { }\n    setLoading(false);\n  };\n\n  const deleteChat = async (chat) => {\n    try {\n      await api.delete(`/chats/${chat.id}`);\n    } catch (err) { }\n  };\n\n  const findMessages = async (chatId) => {\n    setLoading(true);\n    try {\n      const { data } = await api.get(\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\n      );\n      setMessagesPage((prev) => prev + 1);\n      setMessagesPageInfo(data);\n      setMessages((prev) => [...data.records, ...prev]);\n    } catch (err) { }\n    setLoading(false);\n  };\n\n  const loadMoreMessages = async () => {\n    if (!loading) {\n      findMessages(currentChat.id);\n    }\n  };\n\n  const findChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats\");\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const renderGrid = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid className={classes.gridItem} md={3} item>\n          {user.profile === \"admin\" && (\n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => {\n                  setDialogType(\"new\");\n                  setShowDialog(true);\n                }}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Novo\n              </Button>\n            </div>\n          )}\n          <ChatList\n            chats={chats}\n            pageInfo={chatsPageInfo}\n            loading={loading}\n            handleSelectChat={(chat) => selectChat(chat)}\n            handleDeleteChat={(chat) => deleteChat(chat)}\n            handleEditChat={() => {\n              setDialogType(\"edit\");\n              setShowDialog(true);\n            }}\n          />\n        </Grid>\n        <Grid className={classes.gridItem} md={9} item>\n          {isObject(currentChat) && has(currentChat, \"id\") && (\n            <ChatMessages\n              chat={currentChat}\n              scrollToBottomRef={scrollToBottomRef}\n              pageInfo={messagesPageInfo}\n              messages={messages}\n              loading={loading}\n              handleSendMessage={sendMessage}\n              handleLoadMore={loadMoreMessages}\n            />\n          )}\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderTab = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid md={12} item>\n          <Tabs\n            value={tab}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            onChange={(e, v) => setTab(v)}\n            aria-label=\"disabled tabs example\"\n          >\n            <Tab label=\"Chats\" />\n            <Tab label=\"Mensagens\" />\n          </Tabs>\n        </Grid>\n        {tab === 0 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => setShowDialog(true)}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Novo\n              </Button>\n            </div>\n            <ChatList\n              chats={chats}\n              pageInfo={chatsPageInfo}\n              loading={loading}\n              handleSelectChat={(chat) => selectChat(chat)}\n              handleDeleteChat={(chat) => deleteChat(chat)}\n            />\n          </Grid>\n        )}\n        {tab === 1 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            {isObject(currentChat) && has(currentChat, \"id\") && (\n              <ChatMessages\n                scrollToBottomRef={scrollToBottomRef}\n                pageInfo={messagesPageInfo}\n                messages={messages}\n                loading={loading}\n                handleSendMessage={sendMessage}\n                handleLoadMore={loadMoreMessages}\n              />\n            )}\n          </Grid>\n        )}\n      </Grid>\n    );\n  };\n\n  return (\n    <>\n      <ChatModal\n        type={dialogType}\n        open={showDialog}\n        chat={currentChat}\n        handleLoadNewChat={(data) => {\n          setMessages([]);\n          setMessagesPage(1);\n          setCurrentChat(data);\n          setTab(1);\n          history.push(`/chats/${data.uuid}`);\n        }}\n        handleClose={() => setShowDialog(false)}\n      />\n      <Paper className={classes.mainContainer}>\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\n      </Paper>\n    </>\n  );\n}\n\nexport default withWidth()(Chat);\n","import React from 'react';\n\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    flex: 1,\n    padding: theme.spacing(2),\n    height: `calc(100% - 48px)`,\n  },\n\n  contentWrapper: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n}));\n\nconst MainContainer = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.mainContainer}>\n      <div className={classes.contentWrapper}>{children}</div>\n    </Container>\n  );\n};\n\nexport default MainContainer;\n","import styled from 'styled-components';\n\nexport const SwitchContainer = styled.div`\n  display: flex;\n  flex-direction: ${({ custom }) => (custom ? 'row' : 'column')};\n  justify-content: ${({ custom }) => (custom ? 'space-between' : 'flex-start')};\n  gap: 10px;\n  width: 100%;\n  margin-left: 10px;\n  margin-top: 10px;\n`;\n\nexport const LabelContainer = styled.div`\n  width: 100%;\n`;\n\nexport const ButtonsContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-top: auto;\n  padding: 10px;\n`;\n\nexport const Divider = styled.div`\n  width: 100%;\n  margin-bottom: 10px;\n  margin-top: 10px;\n  border-bottom: 1px solid #eee;\n`;\n\nexport const StyledMainHeader = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 6px 6px 6px 6px;\n  color: white;\n\n  span {\n    height: 25px;\n    font-weight: 500;\n  }\n`;\n\nexport const GoogleContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n  margin-right: 10px;\n\n  &&& {\n    span > {\n      font-weight: 400;\n    }\n  }\n`;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  padding: 10px;\n  width: 100%;\n  margin-bottom: auto;\n\n  img {\n    width: 150px;\n    height: 45px;\n  }\n`;\n","/* eslint-disable no-console */\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { StyledMainHeader } from '../GoogleCalendarComponent/styles';\nimport { Container } from './styles';\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    width: '100%',\n    height: '220px',\n    cursor: 'pointer',\n  },\n\n  listPaper: {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    padding: theme.spacing(1),\n    ...theme.scrollbarStyles,\n    width: '100%',\n    marginBottom: 'auto',\n    minHeight: '200px',\n  },\n}));\n\nconst IntegrationLinkBox = ({\n  title,\n  description,\n  icon,\n  link,\n  customStyle = {},\n  img,\n}) => {\n\n  const classes = useStyles();\n  const history = useHistory();\n\n  const handleClick = () => {\n    history.push(link);\n  };\n\n  return (\n    <Paper className={classes.mainPaper} onClick={handleClick}>\n      <StyledMainHeader style={{ backgroundColor: '#008080' }}>\n        <span>{title}</span>\n      </StyledMainHeader>\n      <Container style={{ ...customStyle }}>\n        {img && <img src={img} alt={title} />}\n        {icon && <div>{icon}</div>}\n        {description && <p>{description}</p>}\n      </Container>\n    </Paper>\n  );\n};\n\nexport default IntegrationLinkBox;\n","import React from 'react';\n\nimport { Grid } from '@material-ui/core';\n\nimport mikwebImg from '../../assets/mikweb.png';\nimport asaasImg from '../../assets/asaas.png';\n\nimport MainHeader from '../../components/MainHeader';\nimport Title from '../../components/Title';\nimport MainContainer from '../Reports/components/MainContainer';\nimport IntegrationLinkBox from './components/IntegrationLinkBox';\nimport hinovaImg from '../../assets/hinova.png';\nimport siprovImg from '../../assets/siprov.png';\nimport blingImg from '../../assets/bling.png';\n\nconst Integrations = () => {\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Title>Integrações</Title>\n      </MainHeader>\n      <Grid container spacing={4} sx={{ overflowY: 'unset' }}>\n\n        {/* HINOVA */}\n        <Grid item xs={3}>\n          <IntegrationLinkBox\n            title=\"HINOVA\"\n            link=\"/integrations/hinova\"\n            customStyle={{ marginTop: '55px' }}\n            img={hinovaImg}\n          />\n        </Grid>\n\n        {/* SIPROV */}\n        <Grid item xs={3}>\n          <IntegrationLinkBox\n            title=\"SIPROV\"\n            link=\"/integrations/siprov\"\n            customStyle={{ marginTop: '55px' }}\n            img={siprovImg}\n          />\n        </Grid>\n\n        {/* MIKWEB */}\n        <Grid item xs={3}>\n          <IntegrationLinkBox\n            title=\"MIKWEB\"\n            link=\"/integrations/mikweb\"\n            customStyle={{ marginTop: '55px' }}\n            img={mikwebImg}\n          />\n        </Grid>\n\n        {/* ASAAS */}\n        <Grid item xs={3}>\n          <IntegrationLinkBox\n            title=\"ASAAS\"\n            link=\"/integrations/asaas\"\n            customStyle={{ marginTop: '55px' }}\n            img={asaasImg}\n          />\n        </Grid>\n\n        {/* BLING */}\n        <Grid item xs={3}>\n          <IntegrationLinkBox\n            title=\"BLING\"\n            link=\"/integrations/bling\"\n            customStyle={{ marginTop: '55px' }}\n            img={blingImg}\n          />\n        </Grid>\n      </Grid>\n    </MainContainer>\n  );\n};\n\nexport default Integrations;","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  margin-bottom: auto;\n  flex: 1;\n`;\n\nexport const TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  margin-bottom: 20px;\n\n  > span {\n    font-size: 16px;\n    font-weight: 500;\n  }\n`;\n","/* eslint-disable no-console */\nimport React, { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport {\n  IconButton,\n  Paper,\n  makeStyles,\n  Switch,\n  Button,\n  FormControlLabel,\n  TextField,\n  CircularProgress,\n} from '@material-ui/core';\nimport { ChevronLeft } from '@material-ui/icons';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport { Form, Formik, Field, FieldArray } from 'formik';\nimport * as yup from 'yup';\n\nimport MainHeader from '../../../../components/MainHeader';\nimport Title from '../../../../components/Title';\nimport MainContainer from '../../../Reports/components/MainContainer';\n// import useUpdatePermissions from '../../../Settings/hooks/useUpdatePermissions';\nimport { StyledMainHeader } from '../GoogleCalendarComponent/styles';\nimport { Container, TextContainer } from './styles';\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    width: '100%',\n    minHeight: '20%',\n  },\n\n  listPaper: {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    padding: theme.spacing(1),\n    ...theme.scrollbarStyles,\n    width: '100%',\n    marginBottom: 'auto',\n    minHeight: '200px',\n  },\n}));\n\nconst validationSchema = yup.object().shape({\n  mik_web: yup.boolean(),\n  tokens: yup.array().when('hinova', {\n    is: true,\n    then: yup.array().of(\n      yup.object().shape({\n        token: yup.string().required('Token é obrigatório'),\n        type: yup.string().required('Nome é obrigatório'),\n      })\n    ),\n  }),\n});\n\nfunction MikWebComponent() {\n  // const { companyPermissions } = useContext(ReloadContext);\n\n  // const updatePermission = useUpdatePermissions();\n  const [removeTokens, setRemoveTokens] = useState([]);\n  const classes = useStyles();\n  const history = useHistory();\n\n  const handleSubmit = async (values) => {\n    try {\n      // await updatePermission.mutateAsync({\n      //   mik_web: values.mik_web,\n      //   tokens: values.tokens,\n      //   mik_web_billing_text: values.mik_web_billing_text,\n      //   remove_integration_tokens: removeTokens,\n      //   mik_web_send_billings_messages: values.mik_web_send_billings_messages,\n      // });\n    } catch (error) {\n      console.log({ error });\n    }\n  };\n\n  return (\n    <MainContainer>\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'flex-start',\n          padding: '0',\n          minHeight: '48px',\n        }}\n      >\n        <IconButton onClick={() => history.push('/integrations')}>\n          <ChevronLeft />\n          <span style={{ fontSize: '1rem' }}>Voltar</span>\n        </IconButton>\n      </div>\n      <MainHeader>\n        <Title>MikWeb</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper}>\n        <StyledMainHeader>Configurações</StyledMainHeader>\n        <Container>\n          <Formik\n            enableReinitialize={true}\n            initialValues={true}\n            onSubmit={(values, actions) => {\n              setTimeout(() => {\n                handleSubmit({\n                  ...values,\n                  remove_integrations_tokens: removeTokens,\n                });\n                actions.setSubmitting(false);\n              }, 400);\n            }}\n            validationSchema={validationSchema}\n          >\n            {({ values, errors, touched, isSubmitting, setFieldValue }) => (\n              <Form>\n                <div\n                  style={{\n                    display: 'flex',\n                    flex: 1,\n                    marginBottom: 'auto',\n                    flexDirection: 'column',\n                  }}\n                >\n                  <FormControlLabel\n                    control={\n                      <Field\n                        as={Switch}\n                        size=\"small\"\n                        color=\"primary\"\n                        name=\"mik_web\"\n                        checked={values.mik_web}\n                        onChange={(e) => {\n                          setFieldValue('mik_web', e.target.checked);\n                          if (e.target.checked) {\n                            setFieldValue('tokens', [\n                              ...values.tokens,\n                              {\n                                token: '',\n                                type: 'mik_web',\n                              },\n                            ]);\n                          }\n                        }}\n                      />\n                    }\n                    style={{\n                      marginLeft: '5px',\n                    }}\n                    label=\"Ativar integração\"\n                  />\n                  {/* <FormControlLabel\n                    control={\n                      <Field\n                        as={Switch}\n                        size=\"small\"\n                        color=\"primary\"\n                        name=\"mik_web_send_billings_messages\"\n                        checked={values.mik_web_send_billings_messages}\n                      />\n                    }\n                    style={{\n                      marginLeft: '5px',\n                    }}\n                    label=\"Enviar mensagens de cobrança\"\n                  /> */}\n                  {values.mik_web && (\n                    <>\n                      <FieldArray name=\"tokens\">\n                        {({ push, remove }) => (\n                          <>\n                            {values?.tokens?.map((item, index) => (\n                              <div\n                                key={index}\n                                style={{\n                                  display: 'flex',\n                                  flexDirection: 'column',\n                                }}\n                              >\n                                <div\n                                  style={{\n                                    display: 'flex',\n                                    flexDirection: 'row',\n                                    marginTop: '20px',\n                                    marginRight: '10px',\n                                  }}\n                                >\n                                  <Field\n                                    as={TextField}\n                                    name={`tokens[${index}].token`}\n                                    label=\"Token\"\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                  />\n\n                                  <IconButton\n                                    onClick={() => {\n                                      if (values.tokens[index]?.id) {\n                                        setRemoveTokens([\n                                          ...removeTokens,\n                                          values.tokens[index].id,\n                                        ]);\n                                      }\n\n                                      remove(index);\n                                    }}\n                                    size=\"small\"\n                                  >\n                                    <DeleteOutlineIcon />\n                                  </IconButton>\n                                </div>\n                                {/* {errors?.tokens && (\n                                  <ErrorMessageComponent\n                                    error={errors?.tokens[index]?.token}\n                                  />\n                                )} */}\n                              </div>\n                            ))}\n                            <div className={classes.extraAttr}>\n                              <Button\n                                color=\"primary\"\n                                onClick={() =>\n                                  push({\n                                    type: 'mik_web',\n                                    token: '',\n                                  })\n                                }\n                                style={{ flex: 1, marginTop: 8 }}\n                                variant=\"outlined\"\n                              >\n                                Adicionar token\n                              </Button>\n                            </div>\n                          </>\n                        )}\n                      </FieldArray>\n                    </>\n                  )}\n                  {values.mik_web_send_billings_messages && (\n                    <TextContainer>\n                      <span>Mensaje de facturación</span>\n                      {/* <TextEditorWithFormat\n                        placeholder=\"Mensaje de facturación\"\n                        setFieldValue={setFieldValue}\n                        field=\"mik_web_billing_text\"\n                        value={values.mik_web_billing_text}\n                        contexts={[\n                          'nome do cliente',\n                          'valor da cobrança',\n                          'data de vencimento',\n                          'linha digitável',\n                        ]}\n                      /> */}\n                    </TextContainer>\n                  )}\n\n                  <div\n                    style={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      marginTop: 'auto',\n                      flex: 1,\n                    }}\n                  >\n                    <Button\n                      className={classes.btnWrapper}\n                      color=\"primary\"\n                      disabled={isSubmitting}\n                      type=\"submit\"\n                      variant=\"contained\"\n                    >\n                      Salvar\n                      {isSubmitting && (\n                        <CircularProgress\n                          className={classes.buttonProgress}\n                          size={24}\n                        />\n                      )}\n                    </Button>\n                  </div>\n                </div>\n              </Form>\n            )}\n          </Formik>\n        </Container>\n      </Paper>\n    </MainContainer>\n  );\n}\n\nexport default MikWebComponent;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport moment from \"moment\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n\n  const [loading,] = useState(false);\n  const [, setPageNumber] = useState(1);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [hasMore,] = useState(false);\n  const [dueDate, setDueDate] = useState(\"\");\n  const { returnDays } = useDate();\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  useEffect(() => {\n    const currentDueDate = localStorage.getItem(\"dueDate\");\n    if (currentDueDate !== \"\" && currentDueDate !== \"null\") {\n      setDueDate(moment(currentDueDate).format(\"DD/MM/YYYY\"));\n    }\n  }, []);\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></SubscriptionModal>\n\n      <MainHeader>\n        <Title>Assinatura</Title>\n      </MainHeader>\n      <Grid item xs={12} sm={4}>\n        <Paper\n          className={classes.mainPaper}\n          variant=\"outlined\"\n          onScroll={handleScroll}\n        >\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Período de Licença\"\n              // defaultValue={`Sua licença vence em ${returnDays(user?.company?.dueDate)} dias!`}\n              defaultValue={returnDays(user?.company?.dueDate) === 0 ? `Sua licença vence em hoje!` : `Sua licença vence em ${returnDays(user?.company?.dueDate)} dias!`}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{ shrink: true, }}\n              InputProps={{ readOnly: true, }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Email de cobrança\"\n              defaultValue={user?.email}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleOpenContactModal}\n              fullWidth\n            >\n              Assine Agora!\n            </Button>\n          </div>\n\n        </Paper>\n      </Grid>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport {\n    Formik,\n    Form,\n    Field,\n    FieldArray\n} from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    makeStyles,\n    TextField\n} from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n    textField: {\n        marginRight: theme.spacing(1),\n        flex: 1,\n    },\n\n    extraAttr: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst RatingSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(3, \"nome muito curto\")\n        .required(\"Obrigatório\"),\n    message: Yup.string()\n        .required(\"Obrigatório\")\n});\n\nconst RatingModal = ({ open, onClose, ratingId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n\n    const initialState = {\n        name: \"\",\n        message: \"\"\n    };\n\n    const [rating, setRating] = useState(initialState);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!ratingId) return;\n\n                const { data } = await api.get(`/ratings/${ratingId}`);\n                setRating(prevState => {\n                    return { ...prevState, ...data };\n                });\n            })()\n        } catch (err) {\n            toastError(err);\n        }\n    }, [ratingId, open]);\n\n    const handleClose = () => {\n        setRating(initialState);\n        onClose();\n    };\n\n    const handleSaveRating = async (values) => {\n        const ratingData = { ...values, userId: user.id };\n        try {\n            if (ratingId) {\n                await api.put(`/ratings/${ratingId}`, ratingData);\n            } else {\n                await api.post(\"/ratings\", ratingData);\n            }\n            toast.success(i18n.t(\"ratingModal.success\"));\n            if (typeof reload == 'function') {\n                reload();\n            }\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"xs\"\n                fullWidth\n                scroll=\"paper\">\n                <DialogTitle id=\"form-dialog-title\">\n                    {(ratingId ? `${i18n.t(\"ratingModal.title.edit\")}` : `${i18n.t(\"ratingModal.title.add\")}`)}\n                </DialogTitle>\n                <Formik\n                    initialValues={rating}\n                    enableReinitialize={true}\n                    validationSchema={RatingSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveRating(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"ratingModal.form.name\")}\n                                        name=\"name\"\n                                        error={touched.name && Boolean(errors.name)}\n                                        helperText={touched.name && errors.name}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                <br />\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"ratingModal.form.message\")}\n                                        type=\"message\"\n                                        multiline\n                                        minRows={5}\n                                        fullWidth\n                                        name=\"message\"\n                                        error={\n                                            touched.message && Boolean(errors.message)\n                                        }\n                                        helperText={\n                                            touched.message && errors.message\n                                        }\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                    />\n                                </div>\n                                <Typography\n                                    style={{ marginBottom: 8, marginTop: 12 }}\n                                    variant=\"subtitle1\"\n                                >\n                                    {i18n.t(\"ratingModal.form.options\")}\n                                </Typography>\n\n                                <FieldArray name=\"options\">\n                                    {({ push, remove }) => (\n                                        <>\n                                            {values.options &&\n                                                values.options.length > 0 &&\n                                                values.options.map((info, index) => (\n                                                    <div\n                                                        className={classes.extraAttr}\n                                                        key={`${index}-info`}\n                                                    >\n                                                        <Field\n                                                            as={TextField}\n                                                            label={i18n.t(\"ratingModal.form.extraName\")}\n                                                            name={`options[${index}].name`}\n                                                            variant=\"outlined\"\n                                                            margin=\"dense\"\n                                                            className={classes.textField}\n                                                        />\n                                                        <Field\n                                                            as={TextField}\n                                                            label={i18n.t(\"ratingModal.form.extraValue\")}\n                                                            name={`options[${index}].value`}\n                                                            variant=\"outlined\"\n                                                            margin=\"dense\"\n                                                            className={classes.textField}\n                                                        />\n                                                        <IconButton\n                                                            size=\"small\"\n                                                            onClick={() => remove(index)}\n                                                        >\n                                                            <DeleteOutlineIcon />\n                                                        </IconButton>\n                                                    </div>\n                                                ))}\n                                            <div className={classes.extraAttr}>\n                                                <Button\n                                                    style={{ flex: 1, marginTop: 8 }}\n                                                    variant=\"outlined\"\n                                                    color=\"primary\"\n                                                    onClick={() => push({ name: \"\", value: \"\" })}\n                                                >\n                                                    {`+ ${i18n.t(\"ratingModal.buttons.options\")}`}\n                                                </Button>\n                                            </div>\n                                        </>\n                                    )}\n                                </FieldArray>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"ratingModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {ratingId\n                                        ? `${i18n.t(\"ratingModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"ratingModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default RatingModal;","import React, {\n    useState,\n    useEffect,\n    useReducer,\n    useCallback,\n    useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport RatingModal from \"../../components/RatingModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_RATINGS\") {\n        const ratings = action.payload;\n        const newRatings = [];\n\n        ratings.forEach((rating) => {\n            const ratingIndex = state.findIndex((s) => s.id === rating.id);\n            if (ratingIndex !== -1) {\n                state[ratingIndex] = rating;\n            } else {\n                newRatings.push(rating);\n            }\n        });\n\n        return [...state, ...newRatings];\n    }\n\n    if (action.type === \"UPDATE_RATINGS\") {\n        const rating = action.payload;\n        const ratingIndex = state.findIndex((s) => s.id === rating.id);\n\n        if (ratingIndex !== -1) {\n            state[ratingIndex] = rating;\n            return [...state];\n        } else {\n            return [rating, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_TAG\") {\n        const ratingId = action.payload;\n\n        const ratingIndex = state.findIndex((s) => s.id === ratingId);\n        if (ratingIndex !== -1) {\n            state.splice(ratingIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst Ratings = () => {\n    const classes = useStyles();\n\n    const { user } = useContext(AuthContext);\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [hasMore, setHasMore] = useState(false);\n    const [selectedRating, setSelectedRating] = useState(null);\n    const [deletingRating, setDeletingRating] = useState(null);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [ratings, dispatch] = useReducer(reducer, []);\n    const [ratingModalOpen, setRatingModalOpen] = useState(false);\n\n    const fetchRatings = useCallback(async () => {\n        try {\n            const { data } = await api.get(\"/ratings/\", {\n                params: { searchParam, pageNumber },\n            });\n            dispatch({ type: \"LOAD_RATINGS\", payload: data.ratings });\n            setHasMore(data.hasMore);\n            setLoading(false);\n        } catch (err) {\n            toastError(err);\n        }\n    }, [searchParam, pageNumber]);\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            fetchRatings();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, fetchRatings]);\n\n    useEffect(() => {\n        const socket = socketConnection({ companyId: user.companyId });\n\n        socket.on(\"user\", (data) => {\n            if (data.action === \"update\" || data.action === \"create\") {\n                dispatch({ type: \"UPDATE_RATINGS\", payload: data.ratings });\n            }\n\n            if (data.action === \"delete\") {\n                dispatch({ type: \"DELETE_USER\", payload: +data.ratingId });\n            }\n        });\n\n        return () => {\n            socket.disconnect();\n        };\n    }, [user]);\n\n    const handleOpenRatingModal = () => {\n        setSelectedRating(null);\n        setRatingModalOpen(true);\n    };\n\n    const handleCloseRatingModal = () => {\n        setSelectedRating(null);\n        setRatingModalOpen(false);\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleEditRating = (rating) => {\n        setSelectedRating(rating);\n        setRatingModalOpen(true);\n    };\n\n    const handleDeleteRating = async (ratingId) => {\n        try {\n            await api.delete(`/ratings/${ratingId}`);\n            toast.success(i18n.t(\"ratings.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingRating(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n        await fetchRatings();\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    return (\n        <MainContainer>\n            <ConfirmationModal\n                title={deletingRating && `${i18n.t(\"ratings.confirmationModal.deleteTitle\")}`}\n                open={confirmModalOpen}\n                onClose={setConfirmModalOpen}\n                onConfirm={() => handleDeleteRating(deletingRating.id)}\n            >\n                {i18n.t(\"ratings.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <RatingModal\n                open={ratingModalOpen}\n                onClose={handleCloseRatingModal}\n                reload={fetchRatings}\n                aria-labelledby=\"form-dialog-title\"\n                ratingId={selectedRating && selectedRating.id}\n            />\n            <MainHeader>\n                <Title>{i18n.t(\"ratings.title\")} ({ratings.length})</Title>\n                <MainHeaderButtonsWrapper>\n                    <TextField\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon style={{ color: \"gray\" }} />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenRatingModal}\n                    >\n                        {i18n.t(\"ratings.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Paper\n                className={classes.mainPaper}\n                variant=\"outlined\"\n                onScroll={handleScroll}\n            >\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"center\">{i18n.t(\"ratings.table.name\")}</TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"ratings.table.actions\")}\n                            </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {ratings.map((rating) => (\n                                <TableRow key={rating.id}>\n                                    <TableCell align=\"center\">\n                                        {rating.name}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton size=\"small\" onClick={() => handleEditRating(rating)}>\n                                            <EditIcon />\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={(e) => {\n                                                setConfirmModalOpen(true);\n                                                setDeletingRating(rating);\n                                            }}\n                                        >\n                                            <DeleteOutlineIcon />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton columns={4} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer>\n    );\n};\n\nexport default Ratings;\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Collapse from '@material-ui/core/Collapse';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Divider from '@material-ui/core/Divider';\nimport api from '../../services/api';\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '2rem',\n  },\n  inputContainer: {\n    display: 'flex',\n    width: '100%',\n    marginBottom: '1rem',\n  },\n  input: {\n    flex: '1 0 40%',\n    marginRight: '1rem',\n  },\n  descriptionInput: {\n    flex: '1 0 40%', // Ajuste a largura máxima conforme necessário\n  },\n  button: {\n    flex: '1 0 20%',\n  },\n  listContainer: {\n    width: '100%',\n    marginTop: '1rem',\n  },\n  list: {\n    marginBottom: '5px',\n    backgroundColor: '#dfdfdf',\n    color: 'black',\n    cursor: 'pointer',\n    '&.completedTask': {\n      backgroundColor: '#c5f7c5', // Cor de fundo para tarefas concluídas\n    },\n  },\n  description: {\n    background: '#dfdfdf',\n    padding: '8px',\n    borderRadius: '4px',\n    whiteSpace: 'pre-wrap',\n    maxHeight: '100px',\n    overflowY: 'auto',\n  },\n  separator: {\n    width: '100%',\n    borderBottom: '1px solid gray',\n  },\n  error: {\n    color: 'red',\n  },\n  card: {\n    margin: '8px 0',\n  },\n}));\n\nconst ToDoList = () => {\n  const classes = useStyles();\n\n  const [task, setTask] = useState('');\n  const [description, setDescription] = useState('');\n  const [tasks, setTasks] = useState([]);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [error, setError] = useState(null);\n  const [expandedTask, setExpandedTask] = useState(null);\n\n  const fetchTasks = async () => {\n    try {\n      const response = await api.get('/tasks');\n      setTasks(response.data);\n      setError(null);\n    } catch (error) {\n      if (error.message === 'Network Error') {\n        setError('Erro de rede ao buscar tarefas. Verifique sua conexão à internet.');\n      } else {\n        console.error('Erro ao buscar as tarefas:', error);\n        setError('Erro ao buscar as tarefas. Tente novamente mais tarde.');\n      }\n    }\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  const handleTaskChange = (event) => {\n    setTask(event.target.value);\n  };\n\n  const handleDescriptionChange = (event) => {\n    setDescription(event.target.value);\n  };\n\n  const handleAddTask = async () => {\n    if (!task.trim()) {\n      return;\n    }\n\n    const now = new Date();\n    if (editIndex >= 0) {\n      const updatedTask = { ...tasks[editIndex], text: task, description: description };\n      try {\n        await api.put(`/tasks/${updatedTask.id}`, updatedTask);\n        const updatedTasks = [...tasks];\n        updatedTasks[editIndex] = updatedTask;\n        setTasks(updatedTasks);\n        setTask('');\n        setDescription('');\n        setEditIndex(-1);\n      } catch (error) {\n        console.error('Erro ao atualizar a tarefa:', error);\n        setError('Erro ao atualizar a tarefa.');\n      }\n    } else {\n      const newTask = { text: task, description, created_at: now, updated_at: now };\n      try {\n        const response = await api.post('/tasks', newTask);\n        newTask.id = response.data.id;\n        setTasks([...tasks, newTask]);\n        setTask('');\n        setDescription('');\n      } catch (error) {\n        console.error('Erro ao criar a tarefa:', error);\n        setError('Erro ao criar a tarefa.');\n      }\n    }\n  };\n\n  const handleEditTask = (index) => {\n    setTask(tasks[index].text);\n    setDescription(tasks[index].description);\n    setEditIndex(index);\n  };\n\n  const handleDeleteTask = async (index) => {\n    const taskId = tasks[index].id;\n    try {\n      await api.delete(`/tasks/${taskId}`);\n      const updatedTasks = [...tasks];\n      updatedTasks.splice(index, 1);\n      setTasks(updatedTasks);\n      setError(null);\n    } catch (error) {\n      console.error('Erro ao excluir a tarefa:', error);\n      setError('Erro ao excluir a tarefa.');\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.inputContainer}>\n        <TextField\n          className={classes.input}\n          label=\"Nova tarefa\"\n          value={task}\n          onChange={handleTaskChange}\n          variant=\"outlined\"\n        />\n        <TextField\n          className={classes.descriptionInput}\n          label=\"Descrição\"\n          value={description}\n          onChange={handleDescriptionChange}\n          variant=\"outlined\"\n          multiline\n          rows={1}\n        />\n        <Button variant=\"contained\" color=\"primary\" onClick={handleAddTask}>\n          {editIndex >= 0 ? 'Salvar' : 'Adicionar'}\n        </Button>\n      </div>\n      <div className={classes.listContainer}>\n        {error && <div className={classes.error}>{error}</div>}\n        <List>\n          {tasks.map((task, index) => (\n            <React.Fragment key={task.id}>\n              <ListItem\n                className={`${classes.list} ${task.completed ? classes.completedTask : ''}`}\n                onClick={() => setExpandedTask(expandedTask === index ? null : index)}\n              >\n                <ListItemText primary={task.text} />\n                <ListItemSecondaryAction>\n                  <IconButton onClick={() => handleEditTask(index)}>\n                    <EditIcon />\n                  </IconButton>\n                  <IconButton onClick={() => handleDeleteTask(index)}>\n                    <DeleteIcon />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n              <Collapse in={expandedTask === index}>\n                <Card className={classes.card}>\n                  <CardContent>\n                    <p className={classes.description}>{task.description}</p>\n                  </CardContent>\n                </Card>\n              </Collapse>\n              {index < tasks.length - 1 && <Divider />}\n            </React.Fragment>\n          ))}\n        </List>\n      </div>\n    </div>\n  );\n};\n\nexport default ToDoList;\n","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Board from 'react-trello';\nimport { toast } from \"react-toastify\";\nimport { i18n } from \"../../translate/i18n\";\nimport { useHistory } from 'react-router-dom';\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  button: {\n    background: \"#10a110\",\n    border: \"none\",\n    padding: \"10px\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    borderRadius: \"5px\",\n  },\n  \n}));\n\nconst Kanban = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [tags, setTags] = useState([]);\n  const [reloadData, setReloadData] = useState(false);\n  const [isInitialLoadComplete, setIsInitialLoadComplete] = useState(false);\n\n\n  const fetchTags = async () => {\n    try {\n      const response = await api.get(\"/tags/kanban\");\n      const fetchedTags = response.data.lista || []; \n\n      setTags(fetchedTags);\n\n      // Fetch tickets after fetching tags\n      await fetchTickets(jsonString);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTags();\n  }, []);\n\n  const [file, setFile] = useState({\n    lanes: []\n  });\n\n\n  const [tickets, setTickets] = useState([]);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\n\n  const fetchTickets = async (jsonString) => {\n    try {\n      \n      const { data } = await api.get(\"/ticket/kanban\", {\n        params: {\n          queueIds: JSON.stringify(jsonString),\n          teste: true\n        }\n      });\n      setTickets(data.tickets);\n    } catch (err) {\n      console.log(err);\n      setTickets([]);\n    }\n  };\n\n\n  const popularCards = (jsonString) => {\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\n\n    const lanes = [\n      {\n        id: \"lane0\",\n        title: i18n.t(\"Em aberto\"),\n        label: \"0\",\n        cards: filteredTickets.map(ticket => ({\n          id: ticket.id.toString(),\n          label: \"Ticket nº \" + ticket.id.toString(),\n          description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n          title: ticket.contact.name,\n          draggable: true,\n          href: \"/tickets/\" + ticket.uuid,\n        })),\n      },\n      ...tags.map(tag => {\n        const filteredTickets = tickets.filter(ticket => {\n          const tagIds = ticket.tags.map(tag => tag.id);\n          return tagIds.includes(tag.id);\n        });\n\n        return {\n          id: tag.id.toString(),\n          title: tag.name,\n          label: tag.id.toString(),\n          cards: filteredTickets.map(ticket => ({\n            id: ticket.id.toString(),\n            label: \"Ticket nº \" + ticket.id.toString(),\n            description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    console.log(ticket.uuid)\n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n            title: ticket.contact.name,\n            draggable: true,\n            href: \"/tickets/\" + ticket.uuid,          \n          })),\n          style: { backgroundColor: tag.color, color: \"white\" }\n        };\n      }),\n    ];\n\n    setFile({ lanes });\n  };\n\n  const handleCardClick = (uuid) => {  \n    //console.log(\"Clicked on card with UUID:\", uuid);\n    history.push('/tickets/' + uuid);\n  };\n\n  useEffect(() => {\n    popularCards(jsonString);\n}, [tags, tickets, reloadData]);\n\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\n    try {\n        \n          await api.delete(`/ticket-tags/${targetLaneId}`);\n        toast.success('Ticket Tag Removido!');\n          await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\n        toast.success('Ticket Tag Adicionado com Sucesso!');\n\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Board \n\t\tdata={file} \n\t\tonCardMoveAcrossLanes={handleCardMove}\n\t\tstyle={{backgroundColor: 'rgba(252, 252, 252, 0.03)'}}\n    />\n    </div>\n  );\n};\n\n\nexport default Kanban;","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { CheckCircle } from \"@material-ui/icons\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber, kanban: 1 },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = socketConnection({ companyId: user.companyId });\n\n    socket.on(`company${user.companyId}-tag`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tag });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TAG\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [user]);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingTag && `${i18n.t(\"Você tem certeza que quer excluir esta Lane?\")}`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"Esta ação não pode ser revertida.\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n        kanban={1}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"Lanes\")} ({tags.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenTagModal}\n          >\n            {i18n.t(\"NOVA LANE\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"Nome\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"Ticketis\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"Ações\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tags.map((tag) => (\n                <TableRow key={tag.id}>\n                  <TableCell align=\"center\">\n                    <Chip\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: tag.color,\n                        textShadow: \"1px 1px 1px #000\",\n                        color: \"white\",\n                      }}\n                      label={tag.name}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{tag?.ticketsCount ? (<span>{tag?.ticketsCount}</span>) : <span>0</span>}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingTag(tag);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport api from \"../../services/api\";\n\nconst ConfirmPage = (props) => {\n  const { token } = props.match.params;\n  const history = useHistory();\n  const [confirmationStatus, setConfirmationStatus] = useState(null);\n\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const response = await api.get(`/confirm/${token}`);\n\n        // Lógica de manipulação da resposta\n        if (response.status === 200) {\n          // A conta foi confirmada com sucesso\n          setConfirmationStatus('success');\n          console.log(\"Conta confirmada com sucesso\");\n        } else {\n          // A confirmação falhou, lidar com isso adequadamente\n          setConfirmationStatus('error');\n          console.error(\"Falha na confirmação da conta\");\n        }\n      } catch (error) {\n        // Lidar com erros de rede ou solicitação\n        setConfirmationStatus('error');\n        console.error(\"Erro na solicitação de confirmação: \", error);\n      }\n    };\n\n    // Chame a função fetchTasks\n    fetchTasks();\n  }, [token]);\n\n  const handleButtonClick = () => {\n    // Redirecionar o usuário para a página inicial após a confirmação\n    history.push('/');\n  };\n\n  return (\n    <div>\n      <h2>{confirmationStatus === 'success' ? 'Conta Confirmada!' : 'Erro na Confirmação'}</h2>\n      {confirmationStatus === 'success' ? (\n        <p>Sua conta foi confirmada com sucesso. Agora você pode fazer login e aproveitar nossos serviços.</p>\n      ) : (\n        <p>Houve um erro ao confirmar sua conta. Por favor, tente novamente mais tarde.</p>\n      )}\n      <button onClick={handleButtonClick}>Ir para a Página Inicial</button>\n    </div>\n  );\n};\n\nexport default ConfirmPage;\n","import React, { useState } from \"react\";\nimport qs from \"query-string\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Formik, Form, Field } from \"formik\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\nimport logo from \"../../assets/logo.png\";\nimport { toast } from 'react-toastify'; \nimport toastError from '../../errors/toastError';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100vw\",\n    height: \"100vh\",\n    background: \"black\", //Cor de fundo\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"100% 100%\",\n    backgroundPosition: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n  },\n  paper: {\n    backgroundColor: \"white\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: \"55px 30px\",\n    borderRadius: \"12.5px\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  powered: {\n    color: \"white\",\n  },\n}));\n\nconst passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n\nconst ForgetPassword = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  let companyId = null;\n  const [showAdditionalFields, setShowAdditionalFields] = useState(false);\n  const [showResetPasswordButton, setShowResetPasswordButton] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [error, setError] = useState(\"\"); // Estado para mensagens de erro\n\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const toggleConfirmPasswordVisibility = () => {\n    setShowConfirmPassword(!showConfirmPassword);\n  };\n\n  const toggleAdditionalFields = () => {\n    setShowAdditionalFields(!showAdditionalFields);\n    if (showAdditionalFields) {\n      setShowResetPasswordButton(false);\n    } else {\n      setShowResetPasswordButton(true);\n    }\n  };\n\n  const params = qs.parse(window.location.search);\n  if (params.companyId !== undefined) {\n    companyId = params.companyId;\n  }\n\n  const initialState = { email: \"\" };\n\n  const [user] = useState(initialState);\n  const dueDate = moment().add(3, \"day\").format();\n\nconst handleSendEmail = async (values) => {\n  const email = values.email;\n  try {\n    const response = await api.post(\n      `${process.env.REACT_APP_BACKEND_URL}/forgetpassword/${email}`\n    );\n    console.log(\"API Response:\", response.data);\n\n    if (response.data.status === 404) {\n      toast.error(\"Email não encontrado\");\n    } else {\n      toast.success(i18n.t(\"Email não encontrado\"));\n    }\n  } catch (err) {\n    console.log(\"API Error:\", err);\n    toastError(err);\n  }\n};\n\n  const handleResetPassword = async (values) => {\n    const email = values.email;\n    const token = values.token;\n    const newPassword = values.newPassword;\n    const confirmPassword = values.confirmPassword;\n\n    if (newPassword === confirmPassword) {\n      try {\n        await api.post(\n          `${process.env.REACT_APP_BACKEND_URL}/resetpasswords/${email}/${token}/${newPassword}`\n        );\n        setError(\"\"); // Limpe o erro se não houver erro\n        toast.success(i18n.t(\"Senha redefinida com sucesso.\"));\n        history.push(\"/\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const isResetPasswordButtonClicked = showResetPasswordButton;\n  const UserSchema = Yup.object().shape({\n    email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n    newPassword: isResetPasswordButtonClicked\n      ? Yup.string()\n          .required(\"Campo obrigatório\")\n          .matches(\n            passwordRegex,\n            \"Sua senha precisa ter no mínimo 8 caracteres, sendo uma letra maiúscula, uma minúscula e um número.\"\n          )\n      : Yup.string(), // Sem validação se não for redefinição de senha\n    confirmPassword: Yup.string().when(\"newPassword\", {\n      is: (newPassword) => isResetPasswordButtonClicked && newPassword,\n      then: Yup.string()\n        .oneOf([Yup.ref(\"newPassword\"), null], \"As senhas não correspondem\")\n        .required(\"Campo obrigatório\"),\n      otherwise: Yup.string(), // Sem validação se não for redefinição de senha\n    }),\n  });\n\n  return (\n    <div className={classes.root}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <div>\n            <img\n              style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }}\n              src={logo}\n              alt=\"Whats\"\n            />\n          </div>\n          <Typography component=\"h1\" variant=\"h5\">\n            {i18n.t(\"Redefinir senha\")}\n          </Typography>\n          <Formik\n            initialValues={{\n              email: \"\",\n              token: \"\",\n              newPassword: \"\",\n              confirmPassword: \"\",\n            }}\n            enableReinitialize={true}\n            validationSchema={UserSchema}\n            onSubmit={(values, actions) => {\n              setTimeout(() => {\n                if (showResetPasswordButton) {\n                  handleResetPassword(values);\n                } else {\n                  handleSendEmail(values);\n                }\n                actions.setSubmitting(false);\n                toggleAdditionalFields();\n              }, 400);\n            }}\n          >\n            {({ touched, errors, isSubmitting }) => (\n              <Form className={classes.form}>\n                <Grid container spacing={2}>\n                  <Grid item xs={12}>\n                    <Field\n                      as={TextField}\n                      variant=\"outlined\"\n                      fullWidth\n                      id=\"email\"\n                      label={i18n.t(\"signup.form.email\")}\n                      name=\"email\"\n                      error={touched.email && Boolean(errors.email)}\n                      helperText={touched.email && errors.email}\n                      autoComplete=\"email\"\n                      required\n                    />\n                  </Grid>\n                  {showAdditionalFields && (\n                    <>\n                      <Grid item xs={12}>\n                        <Field\n                          as={TextField}\n                          variant=\"outlined\"\n                          fullWidth\n                          id=\"token\"\n                          label=\"Código de Verificação\"\n                          name=\"token\"\n                          error={touched.token && Boolean(errors.token)}\n                          helperText={touched.token && errors.token}\n                          autoComplete=\"off\"\n                          required\n                        />\n                      </Grid>\n                      <Grid item xs={12}>\n                        <Field\n                          as={TextField}\n                          variant=\"outlined\"\n                          fullWidth\n                          type={showPassword ? \"text\" : \"password\"}\n                          id=\"newPassword\"\n                          label=\"Nova senha\"\n                          name=\"newPassword\"\n                          error={\n                            touched.newPassword &&\n                            Boolean(errors.newPassword)\n                          }\n                          helperText={\n                            touched.newPassword && errors.newPassword\n                          }\n                          autoComplete=\"off\"\n                          required\n                          InputProps={{\n                            endAdornment: (\n                              <InputAdornment position=\"end\">\n                                <IconButton\n                                  onClick={togglePasswordVisibility}\n                                >\n                                  {showPassword ? (\n                                    <VisibilityIcon />\n                                  ) : (\n                                    <VisibilityOffIcon />\n                                  )}\n                                </IconButton>\n                              </InputAdornment>\n                            ),\n                          }}\n                        />\n                      </Grid>\n                      <Grid item xs={12}>\n                        <Field\n                          as={TextField}\n                          variant=\"outlined\"\n                          fullWidth\n                          type={showConfirmPassword ? \"text\" : \"password\"}\n                          id=\"confirmPassword\"\n                          label=\"Confirme a senha\"\n                          name=\"confirmPassword\"\n                          error={\n                            touched.confirmPassword &&\n                            Boolean(errors.confirmPassword)\n                          }\n                          helperText={\n                            touched.confirmPassword &&\n                            errors.confirmPassword\n                          }\n                          autoComplete=\"off\"\n                          required\n                          InputProps={{\n                            endAdornment: (\n                              <InputAdornment position=\"end\">\n                                <IconButton\n                                  onClick={toggleConfirmPasswordVisibility}\n                                >\n                                  {showConfirmPassword ? (\n                                    <VisibilityIcon />\n                                  ) : (\n                                    <VisibilityOffIcon />\n                                  )}\n                                </IconButton>\n                              </InputAdornment>\n                            ),\n                          }}\n                        />\n                      </Grid>\n                    </>\n                  )}\n                </Grid>\n                {showResetPasswordButton ? (\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                  >\n                    Redefinir Senha\n                  </Button>\n                ) : (\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                  >\n                    Enviar Email\n                  </Button>\n                )}\n                <Grid container justifyContent=\"flex-end\">\n                  <Grid item>\n                    <Link\n                      href=\"#\"\n                      variant=\"body2\"\n                      component={RouterLink}\n                      to=\"/signup\"\n                    >\n                      {i18n.t(\"Não tem uma conta? Cadastre-se!\")}\n                    </Link>\n                  </Grid>\n                </Grid>\n                {error && (\n                  <Typography variant=\"body2\" color=\"error\">\n                    {error}\n                  </Typography>\n                )}\n              </Form>\n            )}\n          </Formik>\n        </div>\n        <Box mt={5} />\n      </Container>\n    </div>\n  );\n};\n\nexport default ForgetPassword;\n","import React, { useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport api from \"../../services/api\";\nimport axios from \"axios\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    minHeight: '100vh',\n  },\n  paper: {\n    padding: theme.spacing(3),\n    maxWidth: 600,\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  emailSection: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst App = () => {\n  const classes = useStyles();\n  const [sender, setSender] = useState(\"\"); // Altere para uma string\n  const [subject, setSubject] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [emails, setEmails] = useState([]);\n\n  const handleSendEmail = async () => {\n    if (subject && message) {\n      // Divide a string de sender em um array de endereços de e-mail\n      const senderEmails = sender.split(',').map(email => email.trim());\n\n      try {\n        for (const email of senderEmails) {\n          const response = await api.post(\n            `${process.env.REACT_APP_BACKEND_URL}/enviar-email`,\n            {\n              email,\n              tokenSenha: \"\",\n              assunto: subject,\n              mensagem: message,\n            }\n          );\n\n          console.log(\"Resposta da API para\", email, \":\", response.data);\n\n          // Adicione o e-mail à lista de e-mails enviados\n          setEmails([...emails, { sender: email, subject, message }]);\n        }\n\n        // Limpa os campos após o envio\n        setSender(\"\");\n        setSubject(\"\");\n        setMessage(\"\");\n      } catch (error) {\n        console.error(\"Erro na API:\", error);\n      }\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"lg\">\n      <CssBaseline />\n      <div className={classes.root}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h5\" gutterBottom>\n            Disparo de Emails\n          </Typography>\n          <form className={classes.form}>\n            <TextField\n              label=\"Destinatario (separe por vírgula)\"\n              value={sender}\n              onChange={(e) => setSender(e.target.value)}\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              required\n            />\n            <TextField\n              label=\"Assunto\"\n              value={subject}\n              onChange={(e) => setSubject(e.target.value)}\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              required\n            />\n            <TextField\n              label=\"Mensagem\"\n              multiline\n              rows={4}\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              required\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleSendEmail}\n              fullWidth\n            >\n              Enviar\n            </Button>\n          </form>\n        </Paper>\n      </div>\n    </Container>\n  );\n};\n\nexport default App;","import React, { useState, useEffect } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CSSTransition } from 'react-transition-group';\nimport api from '../../services/api';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    minHeight: '100vh',\n  },\n  paper: {\n    padding: theme.spacing(3),\n    maxWidth: 800,\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  email: {\n    marginBottom: theme.spacing(2),\n    padding: theme.spacing(2),\n    backgroundColor: '#f5f5f5',\n    borderRadius: theme.spacing(1),\n  },\n  pagination: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  // Classes para animações de fade\n  'email-fade-enter': {\n    opacity: 0,\n  },\n  'email-fade-enter-active': {\n    opacity: 1,\n    transition: 'opacity 300ms ease-in',\n  },\n  'email-fade-exit': {\n    opacity: 1,\n  },\n  'email-fade-exit-active': {\n    opacity: 0,\n    transition: 'opacity 300ms ease-out',\n  },\n}));\n\nconst EmailList = () => {\n  const classes = useStyles();\n  const [emails, setEmails] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [selectedEmail, setSelectedEmail] = useState(null);\n  const emailsPerPage = 5; // Quantidade de emails por página\n\n  useEffect(() => {\n    // Carregar os emails enviados ao montar o componente\n    loadEmails();\n  }, []);\n\n  const loadEmails = async () => {\n    try {\n      // Fazer uma requisição à API para obter os emails enviados\n      const response = await api.get(`${process.env.REACT_APP_BACKEND_URL}/listar-emails-enviados`);\n      setEmails(response.data);\n    } catch (error) {\n      console.error('Erro ao carregar emails:', error);\n    }\n  };\n\n  const openEmail = (email) => {\n    // Define o email selecionado para abrir\n    setSelectedEmail(email);\n  };\n\n  const closeEmail = () => {\n    // Fecha o email selecionado\n    setSelectedEmail(null);\n  };\n\n  const indexOfLastEmail = currentPage * emailsPerPage;\n  const indexOfFirstEmail = indexOfLastEmail - emailsPerPage;\n  const currentEmails = emails.slice(indexOfFirstEmail, indexOfLastEmail);\n\n  const paginate = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"lg\">\n      <CssBaseline />\n      <div className={classes.root}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h5\" gutterBottom>\n            Lista de Emails Enviados\n          </Typography>\n          {currentEmails.map((email) => (\n            <div key={email.id} className={classes.email}>\n              <Typography variant=\"h6\">{email.subject}</Typography>\n              <Typography variant=\"subtitle1\">Destinatário: {email.sender}</Typography>\n              <Typography variant=\"body1\">\n                {email.message.length > 100 ? email.message.substring(0, 100) + '...' : email.message}\n              </Typography>\n              <Button variant=\"contained\" color=\"primary\" onClick={() => openEmail(email)}>\n                Abrir Email\n              </Button>\n            </div>\n          ))}\n          <div className={classes.pagination}>\n            {Array.from({ length: Math.ceil(emails.length / emailsPerPage) }, (_, i) => (\n              <Button\n                key={i}\n                variant=\"outlined\"\n                color={currentPage === i + 1 ? 'primary' : 'default'}\n                onClick={() => paginate(i + 1)}\n              >\n                {i + 1}\n              </Button>\n            ))}\n          </div>\n        </Paper>\n        <CSSTransition\n          in={selectedEmail !== null}\n          timeout={300}\n          classNames=\"email-fade\"\n          unmountOnExit\n        >\n          <Paper className={classes.paper}>\n            <Typography variant=\"h6\">Email Completo</Typography>\n            <Typography variant=\"h6\">{selectedEmail?.subject}</Typography>\n            <Typography variant=\"subtitle1\">Destinatário: {selectedEmail?.sender}</Typography>\n            <Typography variant=\"body1\">{selectedEmail?.message}</Typography>\n            <Button variant=\"contained\" color=\"primary\" onClick={closeEmail}>\n              Fechar Email\n            </Button>\n          </Paper>\n        </CSSTransition>\n      </div>\n    </Container>\n  );\n};\n\nexport default EmailList;\n","import React, { useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport api from \"../../services/api\";\nimport moment from 'moment'; // Importe a biblioteca moment\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    minHeight: '100vh',\n  },\n  paper: {\n    padding: theme.spacing(3),\n    maxWidth: 600,\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  emailSection: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst EmailScheduler = () => {\n  const classes = useStyles();\n  const [sender, setSender] = useState(\"\");\n  const [subject, setSubject] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [emails, setEmails] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(\"\"); // Altere para uma string para a entrada de texto\n\n  const handleSendEmail = async () => {\n    if (subject && message && selectedDate) {\n      const senderEmails = sender.split(',').map(email => email.trim());\n\n      try {\n        for (const email of senderEmails) {\n          const formattedDate = moment(selectedDate).format('YYYY-MM-DDTHH:mm'); // Formata a data e hora\n          \n          console.log(\"Valor de selectedDate:\", selectedDate);\n\n          const response = await api.post(\n            `${process.env.REACT_APP_BACKEND_URL}/agendar-envio-email`,\n            {\n              email,\n              tokenSenha: \"\",\n              assunto: subject,\n              mensagem: message,\n              sendAt: formattedDate,\n            }\n          );\n\n          console.log(\"Resposta da API para\", email, \":\", response.data);\n\n          setEmails([...emails, { sender: email, subject, message }]);\n        }\n\n        setSender(\"\");\n        setSubject(\"\");\n        setMessage(\"\");\n        setSelectedDate(\"\");\n      } catch (error) {\n        console.error(\"Erro na API:\", error);\n      }\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"lg\">\n      <CssBaseline />\n      <div className={classes.root}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h5\" gutterBottom>\n            Agendamento de Emails\n          </Typography>\n          <form className={classes.form}>\n            <TextField\n              label=\"Destinatario (separe por vírgula)\"\n              value={sender}\n              onChange={(e) => setSender(e.target.value)}\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              required\n            />\n            <TextField\n              label=\"Assunto\"\n              value={subject}\n              onChange={(e) => setSubject(e.target.value)}\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              required\n            />\n            <TextField\n              label=\"Mensagem\"\n              multiline\n              rows={4}\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              required\n            />\n            <TextField\n              label=\"\" // Instruções para o formato\n              value={selectedDate}\n              onChange={(e) => setSelectedDate(e.target.value)}\n              type=\"datetime-local\"\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              required\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleSendEmail}\n              fullWidth\n            >\n              Agendar Envio\n            </Button>\n          </form>\n        </Paper>\n      </div>\n    </Container>\n  );\n};\n\nexport default EmailScheduler;\n","import React, { useState, useEffect } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CSSTransition } from 'react-transition-group';\nimport api from '../../services/api';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    minHeight: '100vh',\n  },\n  paper: {\n    padding: theme.spacing(3),\n    maxWidth: 800,\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  email: {\n    marginBottom: theme.spacing(2),\n    padding: theme.spacing(2),\n    backgroundColor: '#f5f5f5',\n    borderRadius: theme.spacing(1),\n  },\n  pagination: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  // Classes para animações de fade\n  'email-fade-enter': {\n    opacity: 0,\n  },\n  'email-fade-enter-active': {\n    opacity: 1,\n    transition: 'opacity 300ms ease-in',\n  },\n  'email-fade-exit': {\n    opacity: 1,\n  },\n  'email-fade-exit-active': {\n    opacity: 0,\n    transition: 'opacity 300ms ease-out',\n  },\n}));\n\nconst EmailList = () => {\n  const classes = useStyles();\n  const [emails, setEmails] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [selectedEmail, setSelectedEmail] = useState(null);\n  const emailsPerPage = 5; // Quantidade de emails por página\n\n  useEffect(() => {\n    // Carregar os emails enviados ao montar o componente\n    loadEmails();\n  }, []);\n\n  const loadEmails = async () => {\n    try {\n      // Fazer uma requisição à API para obter os emails enviados\n      const response = await api.get(`${process.env.REACT_APP_BACKEND_URL}/listar-emails-agendados`);\n      setEmails(response.data);\n    } catch (error) {\n      console.error('Erro ao carregar emails:', error);\n    }\n  };\n\n  const openEmail = (email) => {\n    // Define o email selecionado para abrir\n    setSelectedEmail(email);\n  };\n\n  const closeEmail = () => {\n    // Fecha o email selecionado\n    setSelectedEmail(null);\n  };\n\n  const indexOfLastEmail = currentPage * emailsPerPage;\n  const indexOfFirstEmail = indexOfLastEmail - emailsPerPage;\n  const currentEmails = emails.slice(indexOfFirstEmail, indexOfLastEmail);\n\n  const paginate = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"lg\">\n      <CssBaseline />\n      <div className={classes.root}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h5\" gutterBottom>\n            Agendados Aguardando Envio\n          </Typography>\n          {currentEmails.map((email) => (\n            <div key={email.id} className={classes.email}>\n              <Typography variant=\"h6\">{email.subject}</Typography>\n              <Typography variant=\"subtitle1\">Destinatário: {email.sender}</Typography>\n              <Typography variant=\"body1\">\n                {email.message.length > 100 ? email.message.substring(0, 100) + '...' : email.message}\n              </Typography>\n              <Button variant=\"contained\" color=\"primary\" onClick={() => openEmail(email)}>\n                Abrir Email\n              </Button>\n            </div>\n          ))}\n          <div className={classes.pagination}>\n            {Array.from({ length: Math.ceil(emails.length / emailsPerPage) }, (_, i) => (\n              <Button\n                key={i}\n                variant=\"outlined\"\n                color={currentPage === i + 1 ? 'primary' : 'default'}\n                onClick={() => paginate(i + 1)}\n              >\n                {i + 1}\n              </Button>\n            ))}\n          </div>\n        </Paper>\n        <CSSTransition\n          in={selectedEmail !== null}\n          timeout={300}\n          classNames=\"email-fade\"\n          unmountOnExit\n        >\n          <Paper className={classes.paper}>\n            <Typography variant=\"h6\">Email Completo</Typography>\n            <Typography variant=\"h6\">{selectedEmail?.subject}</Typography>\n            <Typography variant=\"subtitle1\">Destinatário: {selectedEmail?.sender}</Typography>\n            <Typography variant=\"body1\">{selectedEmail?.message}</Typography>\n            <Button variant=\"contained\" color=\"primary\" onClick={closeEmail}>\n              Fechar Email\n            </Button>\n          </Paper>\n        </CSSTransition>\n      </div>\n    </Container>\n  );\n};\n\nexport default EmailList;\n","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport './Chat.css'; // Importe o arquivo de estilo do chat\nimport axios from 'axios'; // Importe o Axios\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nfunction ChatApp() {\n  const { handleLogout, loading } = useContext(AuthContext);\n  const { user } = useContext(AuthContext);\n\n  const welcomeMessage = user && user.name \n    ? `Olá ${user.name}, Bem Vindo,\\n\\nComo posso ajudar você hoje?`\n    : \"Olá, Bem Vindo,\\n\\nComo posso ajudar você hoje?\";\n\n  const [messages, setMessages] = useState([{ text: welcomeMessage, type: 'ai' }]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messageContainerRef = useRef(null);\n\n  const handleAskQuestion = async () => {\n    if (!input) return;\n\n    setIsLoading(true);\n    const newMessages = [...messages, { text: input, type: 'user' }];\n    setMessages(newMessages);\n    setInput('');\n\n    try {\n      const response = await api.post('/openai', { // Use o Axios para fazer a solicitação GET\n        prompt: input, // Adicione a pergunta como parâmetro da consulta\n      });\n\n      if (response.status === 200) { // Verifique o status da resposta\n        const data = response.data;\n        const answerMessage = { text: data.answer, type: 'ai' };\n        setMessages([...newMessages, answerMessage]);\n      } else {\n        console.error('Erro ao consultar a API da OpenAI');\n      }\n    } catch (error) {\n      console.error('Erro ao consultar a API da OpenAI:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Use useEffect para rolar automaticamente para baixo quando uma nova mensagem for adicionada\n  useEffect(() => {\n    if (messageContainerRef.current) {\n      messageContainerRef.current.scrollTop = messageContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  return (\n    <div className=\"ChatApp\">\n      <div className=\"Chat\">\n        <h1 className=\"ChatTitle\">Geração de Textos com IA</h1>\n        <div className=\"MessageContainer\" ref={messageContainerRef}>\n          {messages.map((message, index) => (\n            <div\n              key={index}\n              className={`Message ${message.type === 'user' ? 'UserMessage' : 'AIMessage'}`}\n            >\n              {message.text}\n            </div>\n          ))}\n          {isLoading && <div className=\"TypingIndicator\">Digitando...</div>}\n        </div>\n        <div className=\"QuestionInput\">\n          <input\n            type=\"text\"\n            placeholder=\"Digite sua pergunta aqui\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n          />\n          <button onClick={handleAskQuestion}>Enviar</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChatApp;","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport 'moment/locale/pt-br';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport './MyCalendar.css';\nimport { TextField } from '@material-ui/core';\nimport api from \"../../services/api\";\nimport axios from \"axios\"; \n\nmoment.locale('pt-br');\nconst localizer = momentLocalizer(moment);\n\nconst MyCalendar = ({ onEventCompleted }) => {\n  const [events, setEvents] = useState([]);\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [eventTitle, setEventTitle] = useState('');\n  const [eventDescription, setEventDescription] = useState('');\n  const [selectedDate, setSelectedDate] = useState('');\n\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const response = await api.get(`${process.env.REACT_APP_BACKEND_URL}/eventos`);\n        setEvents(response.data);\n      } catch (error) {\n        console.error('Erro ao carregar eventos:', error);\n      }\n    };\n\n    fetchEvents();\n  }, []);\n\n  const handleSelectSlot = ({ start }) => {\n    setSelectedDate(moment(start).format('YYYY-MM-DDTHH:mm'));\n    setModalIsOpen(true);\n  };\n\n  const handleAddEvent = async () => {\n    const newEvent = {\n      title: eventTitle,\n      description: eventDescription,\n      start: new Date(selectedDate),\n      end: new Date(selectedDate),\n    };\n\n    try {\n      const response = await api.post(`${process.env.REACT_APP_BACKEND_URL}/eventos`, newEvent);\n      setEvents([...events, response.data]);\n      closeModal();\n    } catch (error) {\n      console.error('Erro ao adicionar evento:', error);\n    }\n  };\n\n  const closeModal = () => {\n    setModalIsOpen(false);\n    setEventTitle('');\n    setEventDescription('');\n    setSelectedDate('');\n  };\n\n  const handleCompleteEvent = async (eventId) => {\n    try {\n      await api.put(`${process.env.REACT_APP_BACKEND_URL}/eventos/${eventId}/concluido`);\n      // Atualizar o estado dos eventos marcados como concluídos\n      const updatedEvents = events.map((event) => {\n        if (event.id === eventId) {\n          return { ...event, concluido: true };\n        }\n        return event;\n      });\n      setEvents(updatedEvents);\n    } catch (error) {\n      console.error('Erro ao marcar evento como concluído:', error);\n    }\n  };\n\n  const messages = {\n    today: 'Hoje',\n    previous: 'Anterior',\n    next: 'Próximo',\n    month: 'Mês',\n    week: 'Semana',\n    day: 'Dia',\n    agenda: 'Agenda',\n  };\n\n  return (\n    <div className=\"calendar-container\">\n      <Calendar\n        localizer={localizer}\n        events={events}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        selectable\n        onSelectSlot={handleSelectSlot}\n        messages={messages}\n        className=\"react-big-calendar\"\n      />\n      {modalIsOpen && (\n        <div className=\"modal\">\n          <h2>Agendar Evento</h2>\n          <TextField\n            className=\"date-time-picker\"\n            value={selectedDate}\n            onChange={(e) => setSelectedDate(e.target.value)}\n            type=\"datetime-local\"\n            fullWidth\n            margin=\"normal\"\n            variant=\"outlined\"\n            required\n            InputProps={{ style: { border: 'none' } }}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Título do Evento\"\n            value={eventTitle}\n            onChange={(e) => setEventTitle(e.target.value)}\n            className=\"input-field\"\n          />\n          <textarea\n            placeholder=\"Descrição do Evento\"\n            value={eventDescription}\n            onChange={(e) => setEventDescription(e.target.value)}\n            className=\"text-area\"\n          />\n          <button onClick={handleAddEvent}>Agendar</button>\n          <button onClick={closeModal}>Cancelar</button>\n          <button onClick={() => handleCompleteEvent(/* ID do evento */)}>\n            Concluído\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MyCalendar;\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\nimport Signup from \"../pages/Signup\";\nimport Login from \"../pages/Login/\";\nimport Connections from \"../pages/Connections/\";\nimport SettingsCustom from \"../pages/SettingsCustom/\";\nimport Financeiro from \"../pages/Financeiro/\";\nimport Users from \"../pages/Users\";\nimport Contacts from \"../pages/Contacts/\";\nimport Queues from \"../pages/Queues/\";\nimport Tags from \"../pages/Tags/\";\nimport MessagesAPI from \"../pages/MessagesAPI/\";\nimport Helps from \"../pages/Helps/\";\nimport ContactLists from \"../pages/ContactLists/\";\nimport ContactListItems from \"../pages/ContactListItems/\";\nimport Companies from \"../pages/Companies/\";\nimport QuickMessages from \"../pages/QuickMessages/\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Route from \"./Route\";\nimport Schedules from \"../pages/Schedules\";\nimport Campaigns from \"../pages/Campaigns\";\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\nimport CampaignReport from \"../pages/CampaignReport\";\nimport Annoucements from \"../pages/Annoucements\";\nimport Chat from \"../pages/Chat\";\nimport Integrations from '../pages/Integrations';\n// import Integrations from '../pages/Integrations';\nimport MikWebComponent from '../pages/Integrations/components/MikWebComponent';\nimport Subscription from \"../pages/Subscription/\";\nimport Ratings from \"../pages/Ratings/\";\nimport ToDoList from \"../pages/ToDoList/\";\nimport Kanban from \"../pages/Kanban\";\nimport TagsKanban from \"../pages/TagsKanban/\";\nimport ConfirmPage from \"../pages/ConfirmPage/\";\nimport ForgetPassword from \"../pages/ForgetPassWord/\";\nimport Email from \"../pages/Email/\";\nimport EmailLis from \"../pages/EmailLis/\";\nimport EmailScheduler from \"../pages/EmailScheduler/\";\nimport EmailsAgendado from \"../pages/EmailsAgendado/\";\nimport ChatGPT from \"../pages/ChatGPT/\";\nimport Calendario from \"../pages/Calendario/\";\n\nconst Routes = () => {\n  const [showCampaigns, setShowCampaigns] = useState(false);\n\n  useEffect(() => {\n    const cshow = localStorage.getItem(\"cshow\");\n    if (cshow !== undefined) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <TicketsContextProvider>\n          <Switch>\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={Signup} />\n            <Route exact path=\"/forgetpsw\"    component={ForgetPassword} />\n            <Route exact path=\"/financeiro-aberto\" component={Financeiro} isPrivate />\n            <WhatsAppsProvider>\n              <LoggedInLayout>\n                <Route exact path=\"/companies\" component={Companies} isPrivate />\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\n                <Route exact path=\"/tickets/:ticketId?\" component={TicketResponsiveContainer} isPrivate />\n                <Route exact path=\"/connections\" component={Connections} isPrivate />\n                <Route exact path=\"/quick-messages\" component={QuickMessages} isPrivate />\n                <Route exact path=\"/schedules\" component={Schedules} isPrivate />\n                <Route exact path=\"/financeiro\" component={Financeiro} isPrivate />\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\n                <Route exact path=\"/users\" component={Users} isPrivate />\n                <Route exact path=\"/Kanban\" component={Kanban} isPrivate />\n                <Route exact path=\"/TagsKanban\" component={TagsKanban} isPrivate />\n                <Route exact path=\"/todolist\" component={ToDoList} isPrivate />\n                <Route exact path=\"/Email\" component={Email} isPrivate />\n                <Route exact path=\"/EmailLis\" component={EmailLis} isPrivate />\n                <Route exact path=\"/EmailScheduler\" component={EmailScheduler} isPrivate />\n                <Route exact path=\"/EmailsAgendado\" component={EmailsAgendado} isPrivate />\n                <Route exact path=\"/ChatGPT\" component={ChatGPT} isPrivate />\n                <Route exact path=\"/Calendario\" component={Calendario} isPrivate />\n\t\t\t\t\n                <Route exact path=\"/messages-api\" component={MessagesAPI} isPrivate />\n                <Route exact path=\"/settings\" component={SettingsCustom} isPrivate />\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\n                <Route exact path=\"/announcements\" component={Annoucements} isPrivate />\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\n                <Route exact path=\"/ratings\" component={Ratings} isPrivate />\n\n                <Route exact path=\"/integrations\" component={Integrations} isPrivate />\n                <Route exact path=\"/integrations/hinova\" component={MikWebComponent} isPrivate /> \n                <Route exact path=\"/integrations/siprov\" component={MikWebComponent} isPrivate /> \n                <Route exact path=\"/integrations/mikweb\" component={MikWebComponent} isPrivate /> \n                <Route exact path=\"/integrations/asaas\" component={MikWebComponent} isPrivate /> \n                <Route exact path=\"/integrations/bling\" component={MikWebComponent} isPrivate /> \n\n                {showCampaigns && (\n                  <>\n                    <Route exact path=\"/contact-lists\" component={ContactLists} isPrivate />\n                    <Route exact path=\"/contact-lists/:contactListId/contacts\" component={ContactListItems} isPrivate />\n                    <Route exact path=\"/campaigns\" component={Campaigns} isPrivate />\n                    <Route exact path=\"/campaign/:campaignId/report\" component={CampaignReport} isPrivate />\n                    <Route exact path=\"/campaigns-config\" component={CampaignsConfig} isPrivate />\n                  </>\n                )}\n              </LoggedInLayout>\n            </WhatsAppsProvider>\n          </Switch>\n          <ToastContainer autoClose={3000} />\n        </TicketsContextProvider>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nimport { ptBR } from \"@material-ui/core/locale\";\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport ColorModeContext from \"./layout/themeContext\";\n\nimport Routes from \"./routes\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => {\n    const [locale, setLocale] = useState();\n\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n    const preferredTheme = window.localStorage.getItem(\"preferredTheme\");\n    const [mode, setMode] = useState(preferredTheme ? preferredTheme : prefersDarkMode ? \"dark\" : \"light\");\n\n    const colorMode = React.useMemo(\n        () => ({\n            toggleColorMode: () => {\n                setMode((prevMode) => (prevMode === \"light\" ? \"dark\" : \"light\"));\n            },\n        }),\n        []\n    );\n\n    // Use as variáveis de ambiente REACT_APP_PRIMARY_COLOR e REACT_APP_PRIMARY_DARK\n    const primaryColor = process.env.REACT_APP_PRIMARY_COLOR || \"#7252cc\";\n    const primaryDarkColor = process.env.REACT_APP_PRIMARY_DARK || \"#333333\";\n\n    const theme = createTheme(\n        {\n            scrollbarStyles: {\n                \"&::-webkit-scrollbar\": {\n                    width: '8px',\n                    height: '8px',\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n                    backgroundColor: \"#e8e8e8\",\n                },\n            },\n            scrollbarStylesSoft: {\n                \"&::-webkit-scrollbar\": {\n                    width: \"8px\",\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    backgroundColor: mode === \"light\" ? \"#F3F3F3\" : \"#333333\",\n                },\n            },\n            palette: {\n                type: mode,\n                primary: { main: primaryColor },\n                primaryDark: { main: primaryDarkColor },\n                textPrimary: mode === \"light\" ? primaryColor : \"#FFFFFF\",\n                borderPrimary: mode === \"light\" ? primaryColor : \"#FFFFFF\",\n                dark: { main: primaryDarkColor },\n                light: { main: mode === \"light\" ? \"#F3F3F3\" : \"#333333\" },\n                tabHeaderBackground: mode === \"light\" ? \"#EEE\" : \"#666\",\n                optionsBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n                fancyBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n                total: mode === \"light\" ? \"#fff\" : \"#222\",\n                messageIcons: mode === \"light\" ? \"grey\" : \"#F3F3F3\",\n                inputBackground: mode === \"light\" ? \"#FFFFFF\" : \"#333\",\n                barraSuperior: primaryColor,\n            },\n            mode,\n        },\n        locale\n    );\n\n    useEffect(() => {\n        const i18nlocale = localStorage.getItem(\"i18nextLng\");\n        const browserLocale =\n            i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n        if (browserLocale === \"ptBR\") {\n            setLocale(ptBR);\n        }\n    }, []);\n\n    useEffect(() => {\n        window.localStorage.setItem(\"preferredTheme\", mode);\n    }, [mode]);\n\n    return (\n        <ColorModeContext.Provider value={{ colorMode }}>\n            <ThemeProvider theme={theme}>\n                <QueryClientProvider client={queryClient}>\n                    <Routes />\n                </QueryClientProvider>\n            </ThemeProvider>\n        </ColorModeContext.Provider>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport * as serviceworker from './serviceWorker'\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\nserviceworker.register()","module.exports = __webpack_public_path__ + \"static/media/logo.b801b20b.png\";","module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.adbccee0.png\";","module.exports = __webpack_public_path__ + \"static/media/wa-background-dark.8244f042.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/hinova.e6eaa98d.png\";","module.exports = __webpack_public_path__ + \"static/media/siprov.70524441.png\";","module.exports = __webpack_public_path__ + \"static/media/bling.2c07b0d6.png\";"],"sourceRoot":""}