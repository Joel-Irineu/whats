(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1351:function(e,a,t){},1354:function(e,a,t){},1355:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(50),o=t.n(r),c=t(1497);const i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e,a){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;null!=t&&(t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}t(665);var m=t(624),d=t(919),u=t(922),p=t(1566),g=t(1369);var E=l.a.createContext({toggleColorMode:()=>{}}),b=t(47),f=t(93),h=t(9),y=t(5),v=t(29),x=t.n(v),C=t(274),O=t(82),S=t(1585),k=t(936),T=t(1360),w=t(1481),A=t(1499),j=t(1500),I=t(153),N=t(926),M=t(1490),R=t(845),D=t.n(R),P=t(844),L=t.n(P),W=t(847),F=t.n(W),q=t(846),z=t.n(q),B=t(1358),U=t(1479),H=t(1480),_=t(1485),V=t(933),Y=t(1484),G=t(820),Q=t.n(G),K=t(177),X=t.n(K),J=t(829),Z=t.n(J),$=t(627),ee=t.n($),ae=t(827),te=t.n(ae),ne=t(626),le=t.n(ne),re=t(828),oe=t.n(re),ce=t(822),ie=t.n(ce),se=t(825),me=t.n(se),de=t(826),ue=t.n(de),pe=t(346),ge=t.n(pe),Ee=t(823),be=t.n(Ee),fe=t(444),he=t.n(fe),ye=t(550),ve=t.n(ye),xe=t(260),Ce=t.n(xe),Oe=t(445),Se=t.n(Oe),ke=t(379),Te=t.n(ke),we=t(615),Ae=t.n(we),je=t(372),Ie=t.n(je),Ne=t(831),Me=t.n(Ne),Re=t(832),De=t.n(Re),Pe=t(830),Le=t.n(Pe),We=t(1486),Fe=t(1482),qe=t(1483),ze=t(821),Be=t.n(ze),Ue=t(220),He=t.n(Ue),_e=t(378),Ve=t.n(_e),Ye=t(824),Ge=t.n(Ye),Qe=t(623),Ke=t(818);const Xe={pt:{translations:{signup:{title:"CADASTRE-SE",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha",company:"Nome da Empresa",phone:"Whatsapp (DDD + N\xdaMERO)"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},login:{title:"Login",form:{email:"Email",password:"Senha"},buttons:{submit:"Entrar",register:"N\xe3o tem um conta? Cadastre-se!"}},companies:{title:"Cadastrar Empresa",form:{name:"Nome da Empresa",plan:"Plano",token:"Token",submit:"Cadastrar",success:"Empresa criada com sucesso!"}},auth:{toasts:{success:"Login efetuado com sucesso!"},dueDate:{expiration:"Sua assinatura expira em",days:"dias!",day:"dia!",expirationToday:"Sua assinatura expira hoje!"},token:"Token"},dashboard:{charts:{perDay:{title:"Atendimentos hoje: "}}},connections:{title:"Conex\xf5es",toasts:{deleted:"Conex\xe3o com o WhatsApp exclu\xedda com sucesso!"},confirmationModal:{deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar WhatsApp",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o",number:"N\xfamero do Whatsapp"}},whatsappModal:{title:{add:"Adicionar WhatsApp",edit:"Editar WhatsApp"},form:{name:"Nome",default:"Padr\xe3o",maxUseBotQueues:"Quantidade m\xe1xima de vezes que o chatbot vai ser enviado",expiresTicket:"Encerrar chats abertos ap\xf3s x horas",outOfHoursMessage:"Mensagem de fora de expediente",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",token:"Token para integra\xe7\xe3o externa"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"WhatsApp salvo com sucesso."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados ser\xe3o perdidos.",importMessage:"Deseja importar todos os contatos do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato",export:"Exportar Contato"},table:{name:"Nome",whatsapp:"WhatsApp",email:"Email",actions:"A\xe7\xf5es"}},forwardMessage:{text:"Encaminhada"},forwardMessageModal:{title:"Encaminhar mensagem",buttons:{ok:"Encaminhar"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor"},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},queueModal:{title:{add:"Adicionar fila",edit:"Editar fila"},form:{name:"Nome",color:"Cor",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",outOfHoursMessage:"Mensagem de fora de expediente",token:"Token"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},userModal:{title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio"},form:{name:"Nome",email:"Email",password:"Senha",farewellMessage:"Mensagem de despedida",profile:"Perfil",whatsapp:"Conex\xe3o Padr\xe3o",startWork:"Inicio de trabalho",endWork:"Fim de trabalho"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Usu\xe1rio salvo com sucesso."},companyModal:{title:{add:"Adicionar empresa",edit:"Editar empresa"},form:{name:"Nome",email:"Email",passwordDefault:"Senha",numberAttendants:"Usu\xe1rios",numberConections:"Conex\xf5es"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Empresa salva com sucesso."},scheduleModal:{title:{add:"Novo Agendamento",edit:"Editar Agendamento"},form:{body:"Mensagem",contact:"Contato",sendAt:"Data de Agendamento",sentAt:"Data de Envio"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Agendamento salvo com sucesso."},tagModal:{title:{add:"Nova Tag",edit:"Editar Tag"},form:{name:"Nome",color:"Cor"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Tag salvo com sucesso."},ratingModal:{title:{add:"Adicionar menu de avalia\xe7\xe3o",edit:"Editar menu de avalia\xe7\xe3o"},buttons:{okAdd:"Salvar",okEdit:"Editar",cancel:"Cancelar",options:"Adicionar op\xe7\xe3o"},form:{name:"Nome",message:"Mensagem da Avalia\xe7\xe3o",options:"Op\xe7\xf5es de Avalia\xe7\xe3o",extraName:"Nome da op\xe7\xe3o",extraValue:"Valor da op\xe7\xe3o"},success:"Avalia\xe7\xe3o salva com sucesso!"},chat:{noTicketMessage:"Selecione um ticket para come\xe7ar a conversar."},ticketsManager:{buttons:{newTicket:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{toasts:{deleted:"O atendimento que voc\xea estava foi deletado."},notification:{message:"Mensagem de"},tabs:{open:{title:"Abertas"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar atendimento e mensagens"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Atendimento",fieldLabel:"Digite para buscar usu\xe1rios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Selecione uma fila",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Aguardando",assignedHeader:"Atendendo",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum atendimento encontrado com esse status ou termo pesquisado",buttons:{accept:"Aceitar",reopen:"Reabrir",closed:"Fechar"}},newTicketModal:{title:"Criar Atendimento",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",tickets:"Atendimentos",quickMessages:"Respostas R\xe1pidas",contacts:"Contatos",queues:"Filas & Chatbot",tags:"Tags",administration:"Administra\xe7\xe3o",companies:"Empresas",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es",ratings:"Avalia\xe7\xe3o",helps:"Ajuda",messagesAPI:"API",schedules:"Agendamentos",campaigns:"Campanhas",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financeiro"},appBar:{user:{profile:"Perfil",logout:"Sair"},refresh:"Atualizar"}},languages:{undefined:"Idioma","pt-BR":"Portugu\xeas",es:"Espa\xf1ol",en:"English",tr:"T\xfcrk\xe7e"},messagesAPI:{title:"API",textMessage:{number:"N\xfamero",body:"Mensagem",token:"Token cadastrado"},mediaMessage:{number:"N\xfamero",body:"Nome do arquivo",media:"Arquivo",token:"Token cadastrado"}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},quickMessages:{title:"Respostas R\xe1pidas",buttons:{add:"Nova Resposta"},dialog:{shortcode:"Atalho",message:"Resposta"}},contactLists:{title:"Listas de Contatos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lista"},dialog:{name:"Nome",company:"Empresa",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{deleted:"Registro exclu\xeddo"}},contactListItems:{title:"Contatos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo",lists:"Listas",import:"Importar"},dialog:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida.",importMessage:"Deseja importar os contatos desta planilha? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},campaigns:{title:"Campanhas",searchPlaceholder:"Pesquisa",buttons:{add:"Nova Campanha",contactLists:"Listas de Contatos"},table:{name:"Nome",whatsapp:"Conex\xe3o",contactList:"Lista de Contatos",status:"Status",scheduledAt:"Agendamento",completedAt:"Conclu\xedda",confirmation:"Confirma\xe7\xe3o",actions:"A\xe7\xf5es"},dialog:{new:"Nova Campanha",update:"Editar Campanha",readonly:"Apenas Visualiza\xe7\xe3o",form:{name:"Nome",message1:"Mensagem 1",message2:"Mensagem 2",message3:"Mensagem 3",message4:"Mensagem 4",message5:"Mensagem 5",confirmationMessage1:"Mensagem de Confirma\xe7\xe3o 1",confirmationMessage2:"Mensagem de Confirma\xe7\xe3o 2",confirmationMessage3:"Mensagem de Confirma\xe7\xe3o 3",confirmationMessage4:"Mensagem de Confirma\xe7\xe3o 4",confirmationMessage5:"Mensagem de Confirma\xe7\xe3o 5",messagePlaceholder:"Conte\xfado da mensagem",whatsapp:"Conex\xe3o",status:"Status",scheduledAt:"Agendamento",confirmation:"Confirma\xe7\xe3o",contactList:"Lista de Contato"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar Disparos",restart:"Reiniciar Disparos",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",cancel:"Campanha cancelada",restart:"Campanha reiniciada",deleted:"Registro exclu\xeddo"}},announcements:{title:"Informativos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo Informativo",contactLists:"Listas de Informativos"},table:{priority:"Prioridade",title:"Title",text:"Texto",mediaName:"Arquivo",status:"Status",actions:"A\xe7\xf5es"},dialog:{edit:"Edi\xe7\xe3o de Informativo",add:"Novo Informativo",update:"Editar Informativo",readonly:"Apenas Visualiza\xe7\xe3o",form:{priority:"Prioridade",title:"Title",text:"Texto",mediaPath:"Arquivo",status:"Status"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",deleted:"Registro exclu\xeddo"}},campaignsConfig:{title:"Configura\xe7\xf5es de Campanhas"},queues:{title:"Filas & Chatbot",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar fila"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os atendimentos dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queueSelect:{inputLabel:"Filas"},users:{title:"Usu\xe1rios",table:{status:"Status",name:"Nome",email:"Email",profile:"Perfil",whatsapp:"Conex\xe3o Padrao",startWork:"Inicio de trabalho",endWork:"Fim de trabalho",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os atendimento abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},compaies:{title:"Empresas",table:{status:"Ativo",name:"Nome",email:"Email",numberAttendants:"Atendentes",numberConections:"Conex\xf5es",value:"Valor",namePlan:"Nome Plano",numberQueues:"Filas",useCampaigns:"Campanhas",useExternalApi:"Rest API",useFacebook:"Facebook",useInstagram:"Instagram",useWhatsapp:"Whatsapp",useInternalChat:"Chat Interno",useSchedules:"Agendamento",createdAt:"Criada Em",dueDate:"Vencimento",lastLogin:"Ult. Login",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar empresa"},toasts:{deleted:"Empresa exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados da empresa ser\xe3o perdidos. Os tickets abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},helps:{title:"Central de Ajuda"},schedules:{title:"Agendamentos",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir este Agendamento?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{contact:"Contato",body:"Mensagem",sendAt:"Data de Agendamento",sentAt:"Data de Envio",status:"Status",actions:"A\xe7\xf5es"},buttons:{add:"Novo Agendamento"},toasts:{deleted:"Agendamento exclu\xeddo com sucesso."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Tag?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{name:"Nome",color:"Cor",tickets:"Registros Tagdos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Tag"},toasts:{deleted:"Tag exclu\xeddo com sucesso."}},ratings:{title:"Avalia\xe7\xf5es",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xe3o"},toasts:{deleted:"Avalia\xe7\xe3o exclu\xedda com sucesso!",deletedAll:"Todas as avalia\xe7\xf5es foram exclu\xeddas com sucesso!"},buttons:{add:"Adicionar",deleteAll:"Deletar Todos"},confirmationModal:{deleteTitle:"Deletar ",deleteAllTitle:"Deletar Todos",deleteMessage:"Tem certeza que deseja deletar esta avalia\xe7\xe3o?",deleteAllMessage:"Tem certeza que deseja deletar todas as avalia\xe7\xf5es?"}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}}}},messagesList:{header:{assignedTo:"Asignado \xe0:",dialogRatingTitle:"Deseja deixar uma avalia\xe7\xe3o de atendimento para o cliente?",dialogClosingTitle:"Finalizando o atendimento com o cliente!",dialogRatingCancel:"Resolver COM Mensagem de Despedida",dialogRatingSuccess:"Resolver e Enviar Avalia\xe7\xe3o",dialogRatingWithoutFarewellMsg:"Resolver SEM Mensagem de Despedida",ratingTitle:"Escolha um menu de avalia\xe7\xe3o",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar",rating:"Enviar Avalia\xe7\xe3o"}}},messagesInput:{placeholderOpen:"Digite uma mensagem",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato"},extraInfo:"Outras informa\xe7\xf5es"},ticketOptionsMenu:{schedule:"Agendamento",delete:"Deletar",transfer:"Transferir",registerAppointment:"Observa\xe7\xf5es do Contato",resolveWithNoFarewell:"Finalizar sem despedida",acceptAudioMessage:"Aceitar \xe1udios do contato?",appointmentsModal:{title:"Observa\xe7\xf5es do Contato",textarea:"Observa\xe7\xe3o",placeholder:"Insira aqui a informa\xe7\xe3o que deseja registrar"},confirmationModal:{title:"Deletar o atendimento do contato",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao atendimento ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",forward:"Encaminhar",toForward:"Encaminhar",talkTo:"Conversar Com",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um atendimento aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila.",ERR_OUT_OF_HOURS:"Fora do Hor\xe1rio de Expediente!"}}},en:{translations:{signup:{title:"Sign up",toasts:{success:"User created successfully! Please login!",fail:"Error creating user. Check the reported data."},form:{name:"Name",email:"Email",password:"Password"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},auth:{toasts:{success:"Login successfully!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}}},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted sucessfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to read QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connectiing"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your cell phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code read",content:"Click on 'QR CODE' button and read the QR Code with your cell phone to start session"},connected:{title:"Connection established"},timeout:{title:"Connection with cell phone has been lost",content:"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode"}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},form:{name:"Name",default:"Default"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCode:{message:"Read QrCode to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted sucessfully!"},searchPlaceholder:"Search ...",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",importMessage:"Do you want to import all contacts from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactModal:{title:{add:"Add contact",edit:"Edit contact"},form:{mainInfo:"Contact details",extraInfo:"Additional information",name:"Name",number:"Whatsapp number",email:"Email",extraName:"Field name",extraValue:"Value"},buttons:{addExtraInfo:"Add information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},queueModal:{title:{add:"Add queue",edit:"Edit queue"},form:{name:"Name",color:"Color",greetingMessage:"Greeting Message"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},userModal:{title:{add:"Add user",edit:"Edit user"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},chat:{noTicketMessage:"Select a ticket to start chatting."},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The ticket you were on has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Inbox"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages."},buttons:{showAll:"All"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",noOptions:"No user found with this name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Queue",assignedHeader:"Working on",noTicketsTitle:"Nothing here!",noTicketsMessage:"No tickets found with this status or search term.",buttons:{accept:"Accept"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Tickets",contacts:"Contacts",queues:"Queues",administration:"Administration",users:"Users",settings:"Settings"},appBar:{user:{profile:"Profile",logout:"Logout"}}},notifications:{noTickets:"No notifications."},queues:{title:"Queues",table:{name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions"},buttons:{add:"Add queue"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned."}},queueSelect:{inputLabel:"Queues"},users:{title:"Users",table:{name:"Name",email:"Email",profile:"Profile",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted sucessfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Users' open tickets will be moved to queue."}},settings:{success:"Settings saved successfully.",title:"Settings",settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept"}}},messagesInput:{placeholderOpen:"Type a message",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact details",buttons:{edit:"Edit contact"},extraInfo:"Other information"},ticketOptionsMenu:{delete:"Delete",transfer:"Transfer",confirmationModal:{title:"Delete ticket #",titleFrom:"from contact ",message:"Attention! All ticket's related messages will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be reverted."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue."}}},es:{translations:{signup:{title:"Registrar",toasts:{success:"\xa1Usuario creado con \xe9xito! Haz tu login!!!.",fail:"Error al crear usuario. Verifique los datos ingresados."},form:{name:"Nonbre",email:"Email",password:"Contrase\xf1a",company:"Nombre de la empresa",phone:"N\xfamero Whatsapp"},buttons:{submit:"Registrar",login:"\xbfYa tienes una cuenta? Inicia sesi\xf3n!"}},login:{title:"Login",form:{email:"Email",password:"Contrase\xf1a"},buttons:{submit:"Login",register:"\xbfNo tienes una cuenta? Reg\xedstrate!"}},companies:{title:"Registro de Empresas",form:{name:"Nombre de la empresa",plan:"Plan",token:"Token",submit:"Crear",success:"Empresa creada con \xe9xito!"}},auth:{toasts:{success:"Login exitoso!"},dueDate:{expiration:"Su suscripci\xf3n expira en",days:"dias!",day:"dia!",expirationToday:"Su suscripci\xf3n expira hoy!"},token:"Token"},dashboard:{charts:{perDay:{title:"Atendimentos hoje: "}}},connections:{title:"Conexiones",toasts:{deleted:"Conexi\xf3n eliminada con \xe9xito!"},confirmationModal:{deleteTitle:"Borrar conexi\xf3n",deleteMessage:"Usted est\xe1 seguro? Esta acci\xf3n no se puede deshacer.",disconnectTitle:"Desconectar WhatsApp",disconnectMessage:"Usted est\xe1 seguro? Esta acci\xf3n no se puede deshacer."},buttons:{add:"Agregar WhatsApp",disconnect:"Desconectar",tryAgain:"Intentar de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"Fall\xf3 la conexi\xf3n con el celular",content:"Verifique que su celular est\xe9 conectado a internet y que WhatsApp est\xe9 abierto"},qrcode:{title:"Esperando lectura del QR Code",content:"Click en el bot\xf3n 'QR CODE' para obtener un nuevo QR Code"},connected:{title:"Conexi\xf3n exitosa"},timeout:{title:"Se ha perdido la conexi\xf3n con el tel\xe9fono m\xf3vil.",content:"Aseg\xfarese de que su tel\xe9fono est\xe9 conectado a Internet y WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima actualizaci\xf3n",default:"Por defecto",actions:"Acciones",session:"Session",number:"N\xfamero do Whatsapp"}},whatsappModal:{title:{add:"A\xf1adir WhatsApp",edit:"Editar WhatsApp"},form:{name:"Nombre",default:"Por defecto",maxUseBotQueues:"N\xfamero m\xe1ximo de veces que se enviar\xe1 el chatbot",expiresTicket:"Finalizar chats abiertos despu\xe9s de x horas",outOfHoursMessage:"Mensaje fuera de horario",greetingMessage:"Mensaje de bienvenida",complationMessage:"Mensaje de finalizaci\xf3n",token:"Token para API"},buttons:{okAdd:"A\xf1adir",okEdit:"Guardar",cancel:"Cancelar"},success:"WhatsApp creado con \xe9xito!"},qrCode:{message:"Lea el c\xf3digo QR con su tel\xe9fono m\xf3vil"},contacts:{title:"Contactos",toasts:{deleted:"Contacto eliminado con \xe9xito!"},searchPlaceholder:"Buscar contato...",confirmationModal:{deleteTitle:"Borrar contato ",importTitlte:"Importar contatos",deleteMessage:"\xbfEst\xe1 seguro de que desea eliminar este contacto? Todas las citas relacionadas se perder\xe1n.",importMessage:"Desear importar los contactos de su tel\xe9fono?"},buttons:{import:"Importar Contacto",add:"Agregar Contato",export:"Exportar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Email",actions:"Acciones"}},forwardMessage:{text:"Reenviar"},forwardMessageModal:{title:"Reenviar mensaje",buttons:{ok:"Reenviar"}},contactModal:{title:{add:"A\xf1adir contato",edit:"Editar contato"},form:{mainInfo:"Datos de contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Email",extraName:"Nombre del campo",extraValue:"Valor"},buttons:{addExtraInfo:"A\xf1adir campo",okAdd:"A\xf1adir",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto creado con \xe9xito!"},queueModal:{title:{add:"A\xf1adir fila",edit:"Editar fila"},form:{name:"Nombre",color:"Cor",greetingMessage:"Mensaje de bienvenida",complationMessage:"Mensaje de finalizaci\xf3n",outOfHoursMessage:"Mensaje fuera de horario",token:"Token API"},buttons:{okAdd:"A\xf1adir",okEdit:"Guardar",cancel:"Cancelar"}},userModal:{title:{add:"A\xf1adir usuario",edit:"Editar usuario"},form:{name:"Nombre",email:"Email",password:"Contrase\xf1a",farewellMessage:"Mensaje de despedida",profile:"Perfil",whatsapp:"Conex\xe3o Padr\xe3o",startWork:"Iniciar trabajo",endWork:"Finalizar trabajo"},buttons:{okAdd:"A\xf1adir",okEdit:"Guardar",cancel:"Cancelar"},success:"Usuario creado con \xe9xito!"},companyModal:{title:{add:"A\xf1adir empresa",edit:"Editar empresa"},form:{name:"Nombre",email:"Email",passwordDefault:"Contrase\xf1a",numberAttendants:"Usuarios",numberConections:"Conexiones"},buttons:{okAdd:"A\xf1adir",okEdit:"Guardar",cancel:"Cancelar"},success:"Empresa creada con \xe9xito!"},scheduleModal:{title:{add:"Nueva Agenda",edit:"Editar Agenda"},form:{body:"Mensaje",contact:"Contacto",sendAt:"Fecha de Agenda",sentAt:"Fecha de Env\xedo"},buttons:{okAdd:"A\xf1adir",okEdit:"Guardar",cancel:"Cancelar"},success:"Agenda creada con \xe9xito!"},tagModal:{title:{add:"Nuevo Tag",edit:"Editar Tag"},form:{name:"Nombre",color:"Cor"},buttons:{okAdd:"A\xf1aadir",okEdit:"Guardar",cancel:"Cancelar"},success:"Tag creado con \xe9xito!"},ratingModal:{title:{add:"A\xf1aadir menu de calificaci\xf3n",edit:"Editar menu de calificaci\xf3n"},buttons:{okAdd:"Guardar",okEdit:"Editar",cancel:"Cancelar",options:"A\xf1adir opci\xf3n"},form:{name:"Nombre",message:"Mensaje de calificaci\xf3n",options:"Opciones de calificaci\xf3n",extraName:"Nombre del campo",extraValue:"Valor"},success:"Calificaci\xf3n creada con \xe9xito!"},chat:{noTicketMessage:"Selecione una Conversaci\xf3n"},ticketsManager:{buttons:{newTicket:"Nuevo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{toasts:{deleted:"Conversaci\xf3n eliminada"},notification:{message:"Mensaje de"},tabs:{open:{title:"Abierto"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar Conversaci\xf3n"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Conversaci\xf3n",fieldLabel:"Escriba para buscar un usuario",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Selecione una fila",noOptions:"Ningun usuario encontrado",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Esperando",assignedHeader:"Atendiendo",noTicketsTitle:"Nada aqui!",noTicketsMessage:"No se encontr\xf3 ning\xfan servicio con este estado o t\xe9rmino de b\xfasqueda",buttons:{accept:"Aceptar",reopen:"Reabrir",closed:"Cerrar"}},newTicketModal:{title:"Crear Conversaci\xf3n",fieldLabel:"Escriba para buscar un usuario",add:"A\xf1adir",buttons:{ok:"Guardar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",tickets:"Conversaciones",quickMessages:"Respuestas R\xe1pidas",contacts:"Contactos",queues:"Filas & Chatbot",tags:"Tags",administration:"Administraci\xf3n",companies:"Empresas",users:"Usuarios",settings:"Configuraci\xf3nes",ratings:"Formularios de Calificaci\xf3n",helps:"Ayuda",messagesAPI:"API",schedules:"Agendamientos",campaigns:"Campa\xf1as",annoucements:"Informaciones",chats:"Chat Interno",financeiro:"Financeiro"},appBar:{user:{profile:"Perfil",logout:"Salir"},refresh:"Atualizar"}},languages:{undefined:"Idioma","pt-BR":"Portugu\xeas",es:"Espa\xf1ol",en:"English",tr:"T\xfcrk\xe7e"},messagesAPI:{title:"API",textMessage:{number:"N\xfamero",body:"Mensaje",token:"Token Adicionado"},mediaMessage:{number:"N\xfamero",body:"Nombre del archivo",media:"Archivo",token:"Token Adicionado"}},notifications:{noTickets:"Ninguna notificaci\xf3n"},quickMessages:{title:"Respuestas R\xe1pidas",buttons:{add:"Nueva Respuesta"},dialog:{shortcode:"Atajo",message:"Respuesta"}},contactLists:{title:"Listas de Contatos",table:{name:"Nombre",contacts:"Contactos",actions:"Acciones"},buttons:{add:"Nueva Lista"},dialog:{name:"Nombre",company:"Empresa",okEdit:"Editar",okAdd:"A\xf1adir",add:"A\xf1adir",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Esta seguro que desea borrar esta lista?"},toasts:{deleted:"Registro eliminado"}},contactListItems:{title:"Contactos",searchPlaceholder:"Buscar Contacto",buttons:{add:"Nueva Contacto",lists:"Listas",import:"Importar"},dialog:{name:"Nombre",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",okEdit:"Editar",okAdd:"A\xf1adir",add:"A\xf1adir",edit:"Editar",cancel:"Cancelar"},table:{name:"Nombre",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",actions:"Acciones"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Esta a punto de borrar este contacto, esta seguro?",importMessage:"Desear importar los contactos?",importTitlte:"Importar"},toasts:{deleted:"Registro eliminado"}},campaigns:{title:"Campa\xf1as",searchPlaceholder:"Buscar Campa\xf1a",buttons:{add:"Nueva Campa\xf1a",contactLists:"Listas de Contatos"},table:{name:"Nombre",whatsapp:"Conexi\xf3n",contactList:"Lista de Contatos",status:"Estado",scheduledAt:"Agendamentos",completedAt:"Conclu\xeddo",confirmation:"Confirmaci\xf3n",actions:"Acciones"},dialog:{new:"Nuevo Campa\xf1a",update:"Editar Campa\xf1a",readonly:"Visualizar Campa\xf1a",form:{name:"Nombre",message1:"Mensaje 1",message2:"Mensaje 2",message3:"Mensaje 3",message4:"Mensaje 4",message5:"Mensaje 5",confirmationMessage1:"Mensaje de Confirmaci\xf3n 1",confirmationMessage2:"Mensaje de Confirmaci\xf3n 2",confirmationMessage3:"Mensaje de Confirmaci\xf3n 3",confirmationMessage4:"Mensaje de Confirmaci\xf3n 4",confirmationMessage5:"Mensaje de Confirmaci\xf3n 5",messagePlaceholder:"Contenido del Mensaje",whatsapp:"Conexi\xf3n",status:"Estado",scheduledAt:"Agendamientos",confirmation:"Confirmaci\xf3n",contactList:"Lista de Contatos"},buttons:{add:"A\xf1adir",edit:"Actualizar",okadd:"Ok",cancel:"Cancelar Campa\xf1a",restart:"Reiniciar Campa\xf1a",close:"Cerrar",attach:"Adjuntar Archivo"}},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Esta accion no se puede deshacer, esta seguro?"},toasts:{success:"Operaci\xf3n exitosa",cancel:"Campa\xf1a cancelada",restart:"Campa\xf1a reiniciada",deleted:"Registro eliminado"}},announcements:{title:"Informativos",searchPlaceholder:"Buscar",buttons:{add:"Nuevo Informativo",contactLists:"Listas de Informativos"},table:{priority:"Prioridad",title:"Titulo",text:"Texto",mediaName:"Archivo",status:"Estado",actions:"Acciones"},dialog:{edit:"Editar Informativo",add:"Nuevo Informativo",update:"Editar Informativo",readonly:"Solo visualizar",form:{priority:"Prioridad",title:"Titulo",text:"Texto",mediaPath:"Archivo",status:"Estado"},buttons:{add:"A\xf1adir",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar",close:"Cerrar",attach:"Adjuntar Archivo"}},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Esta accion no se puede deshacer, esta seguro?"},toasts:{success:"Operaci\xf3n exitosa",deleted:"Registro eliminado"}},campaignsConfig:{title:"Configuraci\xf3n de Campa\xf1as"},queues:{title:"Filas & Chatbot",table:{name:"Nombre",color:"Cor",greeting:"Mensaje de bienvenida",actions:"Acciones"},buttons:{add:"A\xf1adir fila"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Las llamadas en esta cola seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna cola asignada."}},queueSelect:{inputLabel:"Filas"},users:{title:"Usu\xe1rios",table:{status:"Estado",name:"Nombre",email:"Email",profile:"Perfil",whatsapp:"Whatsapp por defecto",startWork:"Inicio de trabajo",endWork:"Fin de trabajo",actions:"Acciones"},buttons:{add:"A\xf1adir usuario"},toasts:{deleted:"Usuario eliminado con \xe9xito."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Todos los datos del usuario se perder\xe1n. Las llamadas abiertas de este usuario se mover\xe1n a la cola."}},compaies:{title:"Empresas",table:{status:"Activo",name:"Nombre",email:"Email",numberAttendants:"Convenciones",numberConections:"Conexiones",value:"Valor",namePlan:"Nombre Plan",numberQueues:"Filas",useCampaigns:"Campa\xf1as",useExternalApi:"Rest API",useFacebook:"Facebook",useInstagram:"Instagram",useWhatsapp:"Whatsapp",useInternalChat:"Chat Interno",useSchedules:"Agendamientos",createdAt:"Creado en",dueDate:"Vencimiento",lastLogin:"Ult. Login",actions:"Acciones"},buttons:{add:"A\xf1adir Empresa"},toasts:{deleted:"Empresa eliminado con \xe9xito"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Se perder\xe1n todos los datos de la empresa. Los tickets abiertos de este usuario se mover\xe1n a la cola."}},helps:{title:"Central de Ayuda"},schedules:{title:"Agendamientos",confirmationModal:{deleteTitle:"\xbfEst\xe1 seguro de que desea eliminar este Agendamiento?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{contact:"Contacto",body:"Mensaje",sendAt:"Fecha de Agendamiento",sentAt:"Fecha de Env\xedo",status:"Estado",actions:"Acciones"},buttons:{add:"Nuevo Agendamiento"},toasts:{deleted:"Agendamento exclu\xeddo com sucesso."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"\xbfEst\xe1 seguro de que desea eliminar esta tag?",deleteMessage:"Esta acci\xf3n no se puede revertir."},table:{name:"Nombre",color:"Cor",tickets:"Registros Tagdos",actions:"Acciones"},buttons:{add:"Nueva Tag"},toasts:{deleted:"Tag exclu\xedda com sucesso."}},ratings:{title:"Classifica\xe7\xf5es",table:{name:"Nombre",contacts:"Contactos",actions:"Acciones"},toasts:{deleted:"Calificaci\xf3n eliminada con \xe9xito.",deletedAll:"Todas las calificaciones eliminadas con \xe9xito."},buttons:{add:"A\xf1adir Calificaci\xf3n",deleteAll:"Boorar Todas"},confirmationModal:{deleteTitle:"Boorar",deleteAllTitle:"Borar Todas",deleteMessage:"Ten cuidado, esta acci\xf3n no se puede deshacer. \xbfEst\xe1s seguro?",deleteAllMessage:"\xbfEst\xe1 seguro de que desea eliminar todas las calificaciones?"}},settings:{success:"Configuraci\xf3n guardada con \xe9xito.",title:"Configuraciones",settings:{userCreation:{name:"Crear usuarios",options:{enabled:"Activado",disabled:"Desactivado"}}}},messagesList:{header:{assignedTo:"Asignado a: ",dialogRatingTitle:"\xbfQuieres dejar una rese\xf1a de servicio al cliente?",dialogClosingTitle:"Finalizar Conversaci\xf3n con el Cliente",dialogRatingCancel:"Resolver con mensaje de despedida",dialogRatingSuccess:"Resolver y enviar Calificaci\xf3n",dialogRatingWithoutFarewellMsg:"Resolver sin mensaje de despedida",ratingTitle:"Elija un men\xfa de Calificaci\xf3n",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar",rating:"Enviar Calificaci\xf3n"}}},messagesInput:{placeholderOpen:"Escriba un mensaje",placeholderClosed:"Reabrir o aceptar este ticket para enviar un mensaje.",signMessage:"Firmar"},contactDrawer:{header:"Detalles de contacto",buttons:{edit:"Editar contato"},extraInfo:"Outras informa\xe7\xf5es"},ticketOptionsMenu:{schedule:"Agendamiento",delete:"Borrar",transfer:"Transferir",registerAppointment:"Notas de contacto",resolveWithNoFarewell:"Final sin despedida",acceptAudioMessage:"\xbfAceptar audio del contacto?",appointmentsModal:{title:"Notas de contacto",textarea:"Observaci\xf3n",placeholder:"Ingresa los datos que deseas registrar aqu\xed"},confirmationModal:{title:"Eliminar conversaci\xf3n de contacto",message:"\xa1Atenci\xf3n! Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",forward:"Reenviar",toForward:"Reenviar",talkTo:"Hablar con",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no se puede revertir."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos un WhatsApp predeterminado.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Revisa la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200bse ha inicializado. Revisa la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se puede verificar el contacto de WhatsApp. Revisa la p\xe1gina de conexiones",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pueden descargar medios de WhatsApp. Consulte la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Int\xe9ntalo de nuevo.",ERR_SENDING_WAPP_MSG:"Error al enviar mensaje de WhatsApp. Revisa la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se puede eliminar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un conversaci\xf3n abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"El administrador ha inhabilitado la creaci\xf3n de usuarios.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso..",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontraron conversaci\xf3n con esta ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al buscar el mensaje en WhatsApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una fila.",ERR_OUT_OF_HOURS:"\xa1Fuera del horario de oficina!"}}}};Qe.a.use(Ke.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"pt",ns:["translations"],resources:Xe});var Je=t(34);var Ze=e=>{var a,t,n,l;const r=(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.error);return r?Qe.a.exists("backendErrors.".concat(r))?void h.b.error(Qe.a.t("backendErrors.".concat(r)),{toastId:r,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):void h.b.error(r,{toastId:r,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):Object(Je.isString)(e)?void h.b.error(e):void h.b.error("An error occurred!")},$e=t(216),ea=t.n($e);const aa=ea.a.create({baseURL:"https://api130.automizaai.shop",withCredentials:!0}),ta=ea.a.create({baseURL:"https://api130.automizaai.shop"});var na=aa,la=t(819),ra=t.n(la);function oa(e){let a=null;return localStorage.getItem("userId")&&(a=localStorage.getItem("userId")),ra()("https://api130.automizaai.shop",{transports:["websocket","polling","flashsocket"],pingTimeout:18e3,pingInterval:18e3,query:Object(Je.isObject)(e)?{...e,userId:a}:{userId:a}})}const ca=(e,a)=>{if("LOAD_WHATSAPPS"===a.type){return[...a.payload]}if("UPDATE_WHATSAPPS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("UPDATE_SESSION"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n].status=t.status,e[n].updatedAt=t.updatedAt,e[n].qrcode=t.qrcode,e[n].retries=t.retries,[...e]):[...e]}if("DELETE_WHATSAPPS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var ia=()=>{const[e,a]=Object(n.useReducer)(ca,[]),[t,l]=Object(n.useState)(!0);return Object(n.useEffect)(()=>{l(!0);(async()=>{try{const{data:e}=await na.get("/whatsapp/?session=0");a({type:"LOAD_WHATSAPPS",payload:e}),l(!1)}catch(e){l(!1),Ze(e)}})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=oa({companyId:e});return t.on("company-".concat(e,"-whatsapp"),e=>{"update"===e.action&&a({type:"UPDATE_WHATSAPPS",payload:e.whatsapp})}),t.on("company-".concat(e,"-whatsapp"),e=>{"delete"===e.action&&a({type:"DELETE_WHATSAPPS",payload:e.whatsappId})}),t.on("company-".concat(e,"-whatsappSession"),e=>{"update"===e.action&&a({type:"UPDATE_SESSION",payload:e.session})}),()=>{t.disconnect()}},[]),{whatsApps:e,loading:t}};const sa=Object(n.createContext)(),ma=e=>{let{children:a}=e;const{loading:t,whatsApps:n}=ia();return l.a.createElement(sa.Provider,{value:{whatsApps:n,loading:t}},a)};function da(){return{dateToClient:function(e){return x()(e).isValid()?x()(e).format("DD/MM/YYYY"):e},datetimeToClient:function(e){return x()(e).isValid()?x()(e).format("DD/MM/YYYY HH:mm"):e},dateToDatabase:function(e){return x()(e,"DD/MM/YYYY").isValid()?x()(e).format("YYYY-MM-DD HH:mm:ss"):e},returnDays:function(e){let a=new Date,t=new Date(e).getTime()-a.getTime(),n=Math.ceil(t/864e5);return-0===n&&(n=0),n}}}var ua=()=>{const e=Object(f.g)(),[a,t]=Object(n.useState)(!1),[l,r]=Object(n.useState)(!0),[o,c]=Object(n.useState)({});na.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(JSON.parse(a)),t(!0)),e},e=>{Promise.reject(e)}),na.interceptors.response.use(e=>e,async e=>{var a,n;const l=e.config;if(403===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&!l._retry){l._retry=!0;const{data:e}=await na.post("/auth/refresh_token");return e&&(localStorage.setItem("token",JSON.stringify(e.token)),na.defaults.headers.Authorization="Bearer ".concat(e.token)),na(l)}return 401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),localStorage.removeItem("companyId"),na.defaults.headers.Authorization=void 0,t(!1)),Promise.reject(e)}),Object(n.useEffect)(()=>{const e=localStorage.getItem("token");(async()=>{if(e)try{const{data:e}=await na.post("/auth/refresh_token");na.defaults.headers.Authorization="Bearer ".concat(e.token),t(!0),c(e.user)}catch(a){Ze(a)}r(!1)})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-user"),e=>{"update"===e.action&&e.user.id===o.id&&c(e.user)}),()=>{a.disconnect()}},[o]);return{isAuth:a,user:o,loading:l,handleLogin:async a=>{r(!0);try{const{data:i}=await na.post("/auth/login",a),{user:{companyId:s,id:m,company:d}}=i;if(Object(Je.has)(d,"settings")&&Object(Je.isArray)(d.settings)){const e=d.settings.find(e=>"campaignsEnabled"===e.key);e&&"true"===e.value&&localStorage.setItem("cshow",null)}let u;x.a.locale("pt-br"),u=1===i.user.company.id?"2999-12-31T00:00:00.000Z":i.user.company.dueDate;x()(x()()).format("DD/MM/yyyy");const p=x()(u).format("DD/MM/yyyy");var n=x()(u).diff(x()(x()()).format()),l=x()(x()().format()).isBefore(u),o=x.a.duration(n).asDays();!0===l?(localStorage.setItem("token",JSON.stringify(i.token)),localStorage.setItem("companyId",s),localStorage.setItem("userId",m),localStorage.setItem("companyDueDate",p),na.defaults.headers.Authorization="Bearer ".concat(i.token),c(i.user),t(!0),h.b.success(Qe.a.t("auth.toasts.success")),Math.round(o)<5&&h.b.warn("Sua assinatura vence em ".concat(Math.round(o)," ").concat(1===Math.round(o)?"dia":"dias"," ")),e.push("/tickets"),r(!1)):(localStorage.setItem("companyId",s),na.defaults.headers.Authorization="Bearer ".concat(i.token),t(!0),Ze("Opss! Sua assinatura venceu ".concat(p,".\nEntre em contato com o Suporte para mais informa\xe7\xf5es! ")),e.push("/financeiro-aberto"),r(!1))}catch(i){Ze(i),r(!1)}},handleLogout:async()=>{r(!0);try{await na.delete("/auth/logout"),t(!1),c({}),localStorage.removeItem("token"),localStorage.removeItem("companyId"),localStorage.removeItem("userId"),localStorage.removeItem("cshow"),na.defaults.headers.Authorization=void 0,r(!1),e.push("/login")}catch(a){Ze(a),r(!1)}},getCurrentUserInfo:async()=>{try{const{data:e}=await na.get("/auth/me");return e}catch(e){Ze(e)}}}};const pa=Object(n.createContext)(),ga=e=>{let{children:a}=e;const{loading:t,user:n,isAuth:r,handleLogin:o,handleLogout:c}=ua();return l.a.createElement(pa.Provider,{value:{loading:t,user:n,isAuth:r,handleLogin:o,handleLogout:c}},a)};var Ea={user:{static:[]},admin:{static:["dashboard:view","drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","ticket-options:transferWhatsapp","contacts-page:deleteContact","connections-page:actionButtons","connections-page:addConnection","connections-page:editOrDeleteConnection"]}};const ba=e=>{let{role:a,perform:t,data:n,yes:l,no:r}=e;return((e,a,t)=>{const n=Ea[e];if(!n)return!1;const l=n.static;if(l&&l.includes(a))return!0;const r=n.dynamic;if(r){const e=r[a];return!!e&&e(t)}return!1})(a,t,n)?l():r()};ba.defaultProps={yes:()=>null,no:()=>null};var fa=()=>({getPlanList:async e=>{const{data:a}=await ta.request({url:"/plans/list",method:"GET",params:e});return a},list:async e=>{const{data:a}=await na.request({url:"/plans/all",method:"GET",params:e});return a},save:async e=>{const{data:a}=await na.request({url:"/plans",method:"POST",data:e});return a},update:async e=>{const{data:a}=await na.request({url:"/plans/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await na.request({url:"/plans/".concat(e),method:"DELETE"});return a},getPlanCompany:async(e,a)=>{const{data:t}=await na.request({url:"/companies/listPlan/".concat(a),method:"GET",params:e});return t}});var ha=()=>({getVersion:async()=>{const{data:e}=await na.request({url:"/version",method:"GET"});return e}}),ya=t(217),va=t.n(ya);function xa(e){const{icon:a,primary:t,to:n,className:r}=e,o=l.a.useMemo(()=>l.a.forwardRef((e,a)=>l.a.createElement(b.b,Object.assign({to:n,ref:a},e))),[n]);return l.a.createElement("li",null,l.a.createElement(B.a,{dense:!0,button:!0,component:o,className:r},a?l.a.createElement(U.a,null,a):null,l.a.createElement(H.a,{primary:t})))}const Ca=(e,a)=>{if("LOAD_CHATS"===a.type){const t=a.payload,n=[];return Object(Je.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CHATS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CHAT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[];if("CHANGE_CHAT"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};var Oa=(e,a)=>{let{collapsed:t}=a;const{drawerClose:r}=e,{whatsApps:o}=Object(n.useContext)(sa),{user:c}=Object(n.useContext)(pa),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)(!1),[b,h]=Object(n.useState)(!1),[y,v]=Object(n.useState)(!1),[x,C]=Object(n.useState)(!1),[O,S]=Object(n.useState)(!1),k=Object(f.g)(),[A,j]=Object(n.useState)(!0),[N,M]=Object(n.useState)(1),[R]=Object(n.useState)(""),[D,P]=Object(n.useReducer)(Ca,[]),[L,W]=Object(n.useState)(!1),{getPlanCompany:F}=fa(),{getVersion:q}=ha();Object(n.useEffect)(()=>{!async function(){const e=await q();W(e.version)}()},[]),Object(n.useEffect)(()=>{P({type:"RESET"}),M(1)},[R]),Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId"),a=await F(void 0,e);p(a.plan.useCampaigns),E(a.plan.useSchedules),h(a.plan.useInternalChat),v(a.plan.useExternalApi)}()},[]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{z()},500);return()=>clearTimeout(e)},[R,N]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-chat"),e=>{"new-message"===e.action&&P({type:"CHANGE_CHAT",payload:e}),"update"===e.action&&P({type:"CHANGE_CHAT",payload:e})}),()=>{a.disconnect()}},[]),Object(n.useEffect)(()=>{let e=0;if(D.length>0)for(let a of D)for(let t of a.users)t.userId===c.id&&(e+=t.unreads);j(!(e>0))},[D,c.id]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{if(o.length>0){o.filter(e=>"qrcode"===e.status||"PAIRING"===e.status||"DISCONNECTED"===e.status||"TIMEOUT"===e.status||"OPENING"===e.status).length>0?s(!0):s(!1)}},2e3);return()=>clearTimeout(e)},[o]);const z=async()=>{try{const{data:e}=await na.get("/chats/",{params:{searchParam:R,pageNumber:N}});P({type:"LOAD_CHATS",payload:e.records})}catch(e){Ze(e)}};return l.a.createElement("div",{onClick:r},l.a.createElement(ba,{role:c.profile,perform:"dashboard:view",yes:()=>l.a.createElement(xa,{to:"/",primary:"Dashboard",icon:l.a.createElement(Q.a,null)})}),l.a.createElement(xa,{to:"/tickets",primary:Qe.a.t("mainDrawer.listItems.tickets"),icon:l.a.createElement(X.a,null)}),l.a.createElement(B.a,{button:!0,onClick:()=>S(e=>!e)},l.a.createElement(U.a,null,l.a.createElement(Be.a,null)),l.a.createElement(H.a,{primary:Qe.a.t("Email")}),O?l.a.createElement(ve.a,null):l.a.createElement(Ce.a,null)),l.a.createElement(V.a,{in:O,timeout:"auto",unmountOnExit:!0},l.a.createElement(w.a,{component:"div",disablePadding:!0},l.a.createElement(B.a,{onClick:()=>k.push("/Email"),button:!0,style:{paddingLeft:15}},l.a.createElement(U.a,null,l.a.createElement(He.a,null)),l.a.createElement(H.a,{primary:Qe.a.t("Enviar")})),l.a.createElement(B.a,{onClick:()=>k.push("/EmailLis"),button:!0,style:{paddingLeft:15}},l.a.createElement(U.a,null,l.a.createElement(ge.a,null)),l.a.createElement(H.a,{primary:Qe.a.t("Enviados")})),l.a.createElement(B.a,{onClick:()=>k.push("/EmailScheduler"),button:!0,style:{paddingLeft:15}},l.a.createElement(U.a,null,l.a.createElement(Ve.a,null)),l.a.createElement(H.a,{primary:Qe.a.t("Agendar")})),l.a.createElement(B.a,{onClick:()=>k.push("/EmailsAgendado"),button:!0,style:{paddingLeft:15}},l.a.createElement(U.a,null,l.a.createElement(Ve.a,null)," "),l.a.createElement(H.a,{primary:Qe.a.t("Agendados")})," "))),l.a.createElement(B.a,{button:!0,onClick:()=>C(e=>!e)},l.a.createElement(U.a,null,l.a.createElement(Fe.a,null)),l.a.createElement(H.a,{primary:Qe.a.t("Kanban")}),x?l.a.createElement(ve.a,null):l.a.createElement(Ce.a,null)),l.a.createElement(V.a,{style:{paddingLeft:15},in:x,timeout:"auto",unmountOnExit:!0},l.a.createElement(w.a,{component:"div",disablePadding:!0},l.a.createElement(B.a,{onClick:()=>k.push("/kanban"),button:!0},l.a.createElement(U.a,null,l.a.createElement(Te.a,null)),l.a.createElement(H.a,{primary:Qe.a.t("Painel")})),l.a.createElement(B.a,{onClick:()=>k.push("/tagsKanban"),button:!0},l.a.createElement(U.a,null,l.a.createElement(qe.a,null)),l.a.createElement(H.a,{primary:Qe.a.t("Lanes")})))),l.a.createElement(xa,{to:"/quick-messages",primary:Qe.a.t("mainDrawer.listItems.quickMessages"),icon:l.a.createElement(ie.a,null)}),l.a.createElement(xa,{to:"/contacts",primary:Qe.a.t("mainDrawer.listItems.contacts"),icon:l.a.createElement(le.a,null)}),l.a.createElement(xa,{to:"/todolist",primary:Qe.a.t("Tarefas"),icon:l.a.createElement(ge.a,null)}),l.a.createElement(xa,{to:"/Calendario",primary:Qe.a.t("Calendario"),icon:l.a.createElement(le.a,null)}),g&&l.a.createElement(l.a.Fragment,null,l.a.createElement(xa,{to:"/schedules",primary:Qe.a.t("mainDrawer.listItems.schedules"),icon:l.a.createElement(ge.a,null)})),l.a.createElement(xa,{to:"/tags",primary:Qe.a.t("mainDrawer.listItems.tags"),icon:l.a.createElement(be.a,null)}),b&&l.a.createElement(l.a.Fragment,null,l.a.createElement(xa,{to:"/chats",primary:Qe.a.t("mainDrawer.listItems.chats"),icon:l.a.createElement(Y.a,{color:"secondary",variant:"dot",invisible:A},l.a.createElement(Ie.a,null))})),l.a.createElement(xa,{to:"/ChatGPT",primary:Qe.a.t("ChatGPT"),icon:l.a.createElement(Ge.a,null)}),l.a.createElement(xa,{to:"/helps",primary:Qe.a.t("mainDrawer.listItems.helps"),icon:l.a.createElement(me.a,null)}),l.a.createElement(ba,{role:c.profile,perform:"drawer-admin-items:view",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,null),l.a.createElement(_.a,{inset:!0},Qe.a.t("mainDrawer.listItems.administration")),u&&l.a.createElement(l.a.Fragment,null,l.a.createElement(B.a,{dense:!0,button:!0,onClick:()=>d(e=>!e)},l.a.createElement(U.a,null,l.a.createElement(he.a,null)),l.a.createElement(H.a,{primary:Qe.a.t("mainDrawer.listItems.campaigns")}),m?l.a.createElement(ve.a,null):l.a.createElement(Ce.a,null)),l.a.createElement(V.a,{style:{paddingLeft:15},in:m,timeout:"auto",unmountOnExit:!0},l.a.createElement(w.a,{dense:!0,component:"div",disablePadding:!0},l.a.createElement(B.a,{onClick:()=>k.push("/campaigns"),button:!0},l.a.createElement(U.a,null,l.a.createElement(Te.a,null)),l.a.createElement(H.a,{primary:"Listagem"})),l.a.createElement(B.a,{onClick:()=>k.push("/contact-lists"),button:!0},l.a.createElement(U.a,null,l.a.createElement(Se.a,null)),l.a.createElement(H.a,{primary:"Listas de Contatos"})),l.a.createElement(B.a,{onClick:()=>k.push("/campaigns-config"),button:!0},l.a.createElement(U.a,null,l.a.createElement(ee.a,null)),l.a.createElement(H.a,{primary:"Configura\xe7\xf5es"}))))),c.super&&l.a.createElement(xa,{to:"/announcements",primary:Qe.a.t("mainDrawer.listItems.annoucements"),icon:l.a.createElement(Ae.a,null)}),y&&l.a.createElement(l.a.Fragment,null,l.a.createElement(xa,{to:"/messages-api",primary:Qe.a.t("mainDrawer.listItems.messagesAPI"),icon:l.a.createElement(ue.a,null)})),l.a.createElement(xa,{to:"/users",primary:Qe.a.t("mainDrawer.listItems.users"),icon:l.a.createElement(te.a,null)}),l.a.createElement(xa,{to:"/queues",primary:Qe.a.t("mainDrawer.listItems.queues"),icon:l.a.createElement(oe.a,null)}),l.a.createElement(xa,{to:"/connections",primary:Qe.a.t("mainDrawer.listItems.connections"),icon:l.a.createElement(Y.a,{badgeContent:i?"!":0,color:"error"},l.a.createElement(Z.a,null))}),l.a.createElement(xa,{to:"/ratings",primary:Qe.a.t("mainDrawer.listItems.ratings"),icon:l.a.createElement(Le.a,null)}),l.a.createElement(xa,{to:"/integrations",primary:"Integra\xe7\xf5es",icon:l.a.createElement(We.a,null)}),l.a.createElement(xa,{to:"/financeiro",primary:Qe.a.t("mainDrawer.listItems.financeiro"),icon:l.a.createElement(Me.a,null)}),l.a.createElement(xa,{to:"/settings",primary:Qe.a.t("mainDrawer.listItems.settings"),icon:l.a.createElement(ee.a,null)}),c.super&&l.a.createElement(xa,{to:"/companies",primary:Qe.a.t("mainDrawer.listItems.companies"),icon:l.a.createElement(De.a,null)}),!t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,null),l.a.createElement(I.a,{style:{fontSize:"12px",padding:"10px",textAlign:"right",fontWeight:"bold"}},"Vers\xe3o: ",L)))}))},Sa=t(529),ka=t(446),Ta=t(1364),wa=t(447),Aa=t(448),ja=t(549),Ia=t(1488),Na=t(1583),Ma=t(934),Ra=t(1487);const Da=Object(C.a)(e=>({button:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Pa=e=>{let{loading:a,children:t,...n}=e;const r=Da();return l.a.createElement(Ma.a,Object.assign({className:r.button,disabled:a},n),t,a&&l.a.createElement(Ra.a,{size:24,className:r.buttonProgress}))},La=t(833);const Wa=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fa=["a","b","strong","em","u","code","del"],qa=e=>{let{children:a,...t}=e;return l.a.createElement("a",Object.assign({},t,{target:"_blank",rel:"noopener noreferrer"}),a)};var za=e=>{let{children:a}=e;const t=/\*(.*?)\*/g,n=/~(.*?)~/g;a&&t.test(a)&&(a=a.replace(t,"**$1**")),a&&n.test(a)&&(a=a.replace(n,"~~$1~~"));const r=l.a.useMemo(()=>{const e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:qa}}};return Wa.forEach(a=>{Fa.includes(a)||(e.overrides[a]=e=>e.children||null)}),e},[]);return a?l.a.createElement(La.a,{options:r},a):null},Ba=t(1361);const Ua=Object(C.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},badgeStyle:{color:"white",backgroundColor:ja.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},userTag:{position:"absolute",marginRight:5,right:5,bottom:5,backgroundColor:e.palette.optionsBackground,color:e.palette.primary,border:"1px solid #CCC",padding:1,paddingLeft:5,paddingRight:5,borderRadius:10,fontSize:"1em"}}));var Ha=e=>{var a,t,r;let{ticket:o}=e;const c=Ua(),i=Object(f.g)(),[s,m]=Object(n.useState)(!1),{ticketId:d}=Object(f.h)(),u=Object(n.useRef)(!0),{user:p}=Object(n.useContext)(pa);Object(n.useEffect)(()=>()=>{u.current=!1},[]);return l.a.createElement(l.a.Fragment,{key:o.id},l.a.createElement(B.a,{dense:!0,button:!0,onClick:e=>{"pending"!==o.status&&(e=>{i.push("/tickets/".concat(e.uuid))})(o)},selected:d&&+d===o.id,className:Object(y.a)(c.ticket,{[c.pendingTicket]:"pending"===o.status})},l.a.createElement(Ba.a,{arrow:!0,placement:"right",title:(null===(a=o.queue)||void 0===a?void 0:a.name)||"Sem fila"},l.a.createElement("span",{style:{backgroundColor:(null===(t=o.queue)||void 0===t?void 0:t.color)||"#7C7C7C"},className:c.ticketQueueColor})),l.a.createElement(Ia.a,null,l.a.createElement(Na.a,{src:null===o||void 0===o||null===(r=o.contact)||void 0===r?void 0:r.profilePicUrl})),l.a.createElement(H.a,{disableTypography:!0,primary:l.a.createElement("span",{className:c.contactNameWrapper},l.a.createElement(I.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},o.contact.name),"closed"===o.status&&l.a.createElement(Y.a,{className:c.closedBadge,badgeContent:"closed",color:"primary"}),o.lastMessage&&l.a.createElement(I.a,{className:c.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(wa.a)(Object(Aa.a)(o.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Aa.a)(o.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Aa.a)(o.updatedAt),"dd/MM/yyyy")))),secondary:l.a.createElement("span",{className:c.contactNameWrapper},l.a.createElement(I.a,{className:c.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},o.lastMessage?l.a.createElement(za,null,o.lastMessage):l.a.createElement("br",null)),l.a.createElement(Y.a,{className:c.newMessagesCount,badgeContent:o.unreadMessages,classes:{badge:c.badgeStyle}}))}),"pending"===o.status&&l.a.createElement(Pa,{color:"primary",variant:"contained",className:c.acceptButton,size:"small",loading:s,onClick:e=>(async e=>{m(!0);try{await na.put("/tickets/".concat(e.id),{status:"open",userId:null===p||void 0===p?void 0:p.id})}catch(a){m(!1),Ze(a)}u.current&&m(!1),i.push("/tickets/".concat(e.uuid))})(o)},Qe.a.t("ticketsList.buttons.accept"))),l.a.createElement(T.a,{variant:"inset",component:"li"}))};var _a=e=>{let{searchParam:a,tags:t,users:l,pageNumber:r,status:o,date:c,updatedAt:i,showAll:s,queueIds:m,withUnreadMessages:d}=e;const[u,p]=Object(n.useState)(!0),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)([]);return Object(n.useEffect)(()=>{p(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("/tickets",{params:{searchParam:a,pageNumber:r,tags:t,users:l,status:o,date:c,updatedAt:i,showAll:s,queueIds:m,withUnreadMessages:d}});f(e.tickets),E(e.hasMore),p(!1)}catch(e){p(!1),Ze(e)}})()},500);return()=>clearTimeout(e)},[a,t,l,r,o,c,i,s,m,d]),{tickets:b,loading:u,hasMore:g}},Va=t(835),Ya=t.n(Va);const Ga=Object(C.a)(e=>({tabContainer:{overflowY:"auto",maxHeight:350,...e.scrollbarStyles},popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"},icons:{color:"#fff"},customBadge:{backgroundColor:"#34E23C",color:"#fff"}}));var Qa=e=>{let{volume:a}=e;const t=Ga(),r=Object(f.g)(),{user:o}=Object(n.useContext)(pa),c=+r.location.pathname.split("/")[2],i=Object(n.useRef)(c),s=Object(n.useRef)(),[m,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)([]),{profile:g,queues:E}=o,[,b]=Object(n.useState)([]),{tickets:h}=_a({withUnreadMessages:"true"}),[y]=Object(ka.a)(Ya.a,{volume:a}),v=Object(n.useRef)(),x=Object(n.useRef)(r);Object(n.useEffect)(()=>{v.current=y,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[y]),Object(n.useEffect)(()=>{const e=E.map(e=>e.id),a=h.filter(a=>e.indexOf(a.queueId)>-1);p("user"===g?a:h)},[h,E,g]),Object(n.useEffect)(()=>{i.current=c},[c]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e}),t=E.map(e=>e.id);return a.on("connect",()=>a.emit("joinNotification")),a.on("company-".concat(e,"-ticket"),e=>{"updateUnread"!==e.action&&"delete"!==e.action||(p(a=>{const t=a.findIndex(a=>a.id===e.ticketId);return-1!==t?(a.splice(t,1),[...a]):a}),b(a=>{const t=a.findIndex(a=>a.tag===String(e.ticketId));return-1!==t?(a[t].close(),a.splice(t,1),[...a]):a}))}),a.on("company-".concat(e,"-appMessage"),e=>{if("create"===e.action&&!e.message.read&&(e.ticket.userId===(null===o||void 0===o?void 0:o.id)||!e.ticket.userId)){var a;if("user"===g&&(-1===t.indexOf(null===(a=e.ticket.queue)||void 0===a?void 0:a.id)||null===e.ticket.queue))return;p(a=>{const t=a.findIndex(a=>a.id===e.ticket.id);return-1!==t?(a[t]=e.ticket,[...a]):[e.ticket,...a]});if(e.message.ticketId===i.current&&"visible"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===o||void 0===o?void 0:o.id)||e.ticket.isGroup||e.ticket.isBot)return;C(e)}}),()=>{a.disconnect()}},[o,g,E]);const C=e=>{const{message:a,contact:t,ticket:n}=e,l={body:"".concat(a.body," - ").concat(Object(Sa.a)(new Date,"HH:mm")),icon:t.profilePicUrl,tag:n.id,renotify:!0},r=new Notification("".concat(Qe.a.t("tickets.notification.message")," ").concat(t.name),l);r.onclick=e=>{e.preventDefault(),window.focus(),x.current.push("/tickets/".concat(n.uuid))},b(e=>{const a=e.findIndex(e=>e.tag===r.tag);return-1!==a?(e[a]=r,[...e]):[r,...e]}),v.current()},O=()=>{d(!1)},S=e=>{let{children:a}=e;return l.a.createElement("div",{onClick:O},a)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{className:t.icons,onClick:()=>{d(e=>!e)},ref:s,"aria-label":"Open Notifications",variant:"contained"},l.a.createElement(Y.a,{overlap:"rectangular",badgeContent:u.length,classes:{badge:t.customBadge}},l.a.createElement(X.a,null))),l.a.createElement(Ta.a,{disableScrollLock:!0,open:m,anchorEl:s.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:t.popoverPaper},onClose:O},l.a.createElement(w.a,{dense:!0,className:t.tabContainer},0===u.length?l.a.createElement(B.a,null,l.a.createElement(H.a,null,Qe.a.t("notifications.noTickets"))):u.map(e=>l.a.createElement(S,{key:e.id},l.a.createElement(Ha,{ticket:e}))))))},Ka=t(628),Xa=t.n(Ka),Ja=t(836),Za=t.n(Ja),$a=t(1489),et=t(943);const at=Object(C.a)(e=>({tabContainer:{padding:e.spacing(2)},popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"},icons:{color:"#fff"},customBadge:{backgroundColor:"#f44336",color:"#fff"}}));var tt=e=>{let{volume:a,setVolume:t}=e;const r=at(),o=Object(n.useRef)(),[c,i]=Object(n.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{className:r.icons,onClick:()=>{i(e=>!e)},ref:o,"aria-label":"Open Notifications"},l.a.createElement(Xa.a,{color:"inherit"})),l.a.createElement(Ta.a,{disableScrollLock:!0,open:c,anchorEl:o.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:r.popoverPaper},onClose:()=>{i(!1)}},l.a.createElement(w.a,{dense:!0,className:r.tabContainer},l.a.createElement($a.a,{container:!0,spacing:2},l.a.createElement($a.a,{item:!0},l.a.createElement(Za.a,null)),l.a.createElement($a.a,{item:!0,xs:!0},l.a.createElement(et.a,{value:a,"aria-labelledby":"continuous-slider",step:.1,min:0,max:1,onChange:(e,a)=>(e=>{t(e),localStorage.setItem("volume",e)})(a)})),l.a.createElement($a.a,{item:!0},l.a.createElement(Xa.a,null))))))},nt=t(19),lt=t(7),rt=t(1491),ot=t(1492),ct=t(1493),it=t(1367),st=t(1368),mt=t(640),dt=t(944),ut=t(1372),pt=t(1496),gt=t(1494),Et=t(1495),bt=t(1584);const ft=Object(C.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var ht=e=>{let{selectedQueueIds:a,onChange:t}=e;const r=ft(),[o,c]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await na.get("/queue");c(e)}catch(e){Ze(e)}})()},[]);return l.a.createElement("div",{style:{marginTop:6}},l.a.createElement(mt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(dt.a,null,Qe.a.t("queueSelect.inputLabel")),l.a.createElement(ut.a,{multiple:!0,labelWidth:60,value:a,onChange:e=>{t(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>l.a.createElement("div",{className:r.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{const a=o.find(a=>a.id===e);return a?l.a.createElement(bt.a,{key:e,style:{backgroundColor:a.color},variant:"outlined",label:a.name,className:r.chip}):null}))},o.map(e=>l.a.createElement(M.a,{key:e.id,value:e.id},e.name)))))};const yt=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},textField:{marginRight:e.spacing(1),flex:1},container:{display:"flex",flexWrap:"wrap"}})),vt=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:nt.f().min(5,"Too Short!").max(50,"Too Long!"),email:nt.f().email("Invalid email").required("Required")});var xt=e=>{let{open:a,onClose:t,userId:r}=e;const o=yt(),c={name:"",email:"",password:"",profile:"user",startWork:"",endWork:"",farewellMessage:""},{user:i}=Object(n.useContext)(pa),[s,m]=Object(n.useState)(c),[d,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(!1),{loading:f,whatsApps:y}=ia(),v=Object(n.useRef)(),x=Object(n.useRef)();Object(n.useEffect)(()=>{(async()=>{if(r)try{var e;const{data:a}=await na.get("/users/".concat(r));m(e=>({...e,...a}));const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);u(t),b(a.whatsappId?a.whatsappId:"")}catch(a){Ze(a)}})()},[r,a]);const C=()=>{t(),m(c)};return l.a.createElement("div",{className:o.root},l.a.createElement(rt.a,{open:a,onClose:C,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"".concat(r?Qe.a.t("userModal.title.edit"):Qe.a.t("userModal.title.add"))),l.a.createElement(lt.e,{initialValues:s,enableReinitialize:!0,validationSchema:vt,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,whatsappId:E,queueIds:d};try{r?await na.put("/users/".concat(r),a):await na.post("/users",a),h.b.success(Qe.a.t("userModal.success"))}catch(t){Ze(t)}C()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement("div",{className:o.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(lt.b,{as:it.a,name:"password",variant:"outlined",margin:"dense",label:Qe.a.t("userModal.form.password"),error:a.password&&Boolean(t.password),helperText:a.password&&t.password,type:p?"text":"password",InputProps:{endAdornment:l.a.createElement(st.a,{position:"end"},l.a.createElement(k.a,{"aria-label":"toggle password visibility",onClick:()=>g(e=>!e)},p?l.a.createElement(gt.a,{color:"secondary"}):l.a.createElement(Et.a,{color:"secondary"})))},fullWidth:!0})),l.a.createElement("div",{className:o.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("userModal.form.email"),name:"email",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(mt.a,{variant:"outlined",className:o.formControl,margin:"dense"},l.a.createElement(ba,{role:i.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(dt.a,{id:"profile-selection-input-label"},Qe.a.t("userModal.form.profile")),l.a.createElement(lt.b,{as:ut.a,label:Qe.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},l.a.createElement(M.a,{value:"admin"},"Admin"),l.a.createElement(M.a,{value:"user"},"User")))}))),l.a.createElement(ba,{role:i.profile,perform:"user-modal:editQueues",yes:()=>l.a.createElement(ht,{selectedQueueIds:d,onChange:e=>u(e)})}),l.a.createElement(ba,{role:i.profile,perform:"user-modal:editQueues",yes:()=>!f&&l.a.createElement(mt.a,{variant:"outlined",margin:"dense",className:o.maxWidth,fullWidth:!0},l.a.createElement(dt.a,null,Qe.a.t("userModal.form.whatsapp")),l.a.createElement(lt.b,{as:ut.a,value:E,onChange:e=>b(e.target.value),label:Qe.a.t("userModal.form.whatsapp")},l.a.createElement(M.a,{value:""},"\xa0"),y.map(e=>l.a.createElement(M.a,{key:e.id,value:e.id},e.name))))}),l.a.createElement(ba,{role:i.profile,perform:"user-modal:editProfile",yes:()=>!f&&l.a.createElement("form",{className:o.container,noValidate:!0},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("userModal.form.startWork"),type:"time",ampm:!1,defaultValue:"00:00",inputRef:v,InputLabelProps:{shrink:!0},inputProps:{step:600},fullWidth:!0,name:"startWork",error:a.startWork&&Boolean(t.startWork),helperText:a.startWork&&t.startWork,variant:"outlined",margin:"dense",className:o.textField}),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("userModal.form.endWork"),type:"time",ampm:!1,defaultValue:"23:59",inputRef:x,InputLabelProps:{shrink:!0},inputProps:{step:600},fullWidth:!0,name:"endWork",error:a.endWork&&Boolean(t.endWork),helperText:a.endWork&&t.endWork,variant:"outlined",margin:"dense",className:o.textField}))}),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("userModal.form.farewellMessage"),type:"farewellMessage",multiline:!0,rows:4,fullWidth:!0,name:"farewellMessage",error:a.farewellMessage&&Boolean(t.farewellMessage),helperText:a.farewellMessage&&t.farewellMessage,variant:"outlined",margin:"dense"})),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:C,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("userModal.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:o.btnWrapper},"".concat(r?Qe.a.t("userModal.buttons.okEdit"):Qe.a.t("userModal.buttons.okAdd")),n&&l.a.createElement(Ra.a,{size:24,className:o.buttonProgress}))))})))},Ct=t(1366);const Ot=Object(C.a)(e=>({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}));var St=()=>{const e=Ot();return l.a.createElement(Ct.a,{className:e.backdrop,open:!0},l.a.createElement(Ra.a,{color:"inherit"}))},kt=t(465),Tt=t.n(kt),wt=t(466),At=t.n(wt);Object(C.a)(e=>({icons:{color:"#fff"},switch:{color:"#fff"},visible:{display:"none"},btnHeader:{color:"#fff"}}));var jt=t(841),It=t.n(jt),Nt=t(1498),Mt=t(395);const Rt=Object(C.a)(e=>({mainPaper:{flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));function Dt(e){let{announcement:a,open:t,handleClose:n}=e;return l.a.createElement(rt.a,{open:t,onClose:()=>n(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(ot.a,{id:"alert-dialog-title"},a.title),l.a.createElement(ct.a,null,a.mediaPath&&l.a.createElement("div",{style:{border:"1px solid #f1f1f1",margin:"0 auto 20px",textAlign:"center",width:"90%",height:300,backgroundImage:"url(".concat((r=a.mediaPath,"".concat("https://api130.automizaai.shop","public/").concat(r)),")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"}}),l.a.createElement(Nt.a,{id:"alert-dialog-description"},a.text)),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:()=>n(),color:"primary",autoFocus:!0},"Fechar")));var r}const Pt=(e,a)=>{if("LOAD_ANNOUNCEMENTS"===a.type){const t=a.payload,n=[];return Object(Je.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_ANNOUNCEMENT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};function Lt(){const e=Rt(),[a,t]=Object(n.useState)(!1),[r,o]=Object(n.useState)(null),[c,i]=Object(n.useState)(1),[s,m]=Object(n.useState)(!1),[d]=Object(n.useState)(""),[u,p]=Object(n.useReducer)(Pt,[]),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)({}),[h,y]=Object(n.useState)(!1);Object(n.useEffect)(()=>{p({type:"RESET"}),i(1)},[d]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{v()},500);return()=>clearTimeout(e)},[d,c]),Object(n.useEffect)(()=>{const e=oa({companyId:localStorage.getItem("companyId")});return e.on("company-announcement",e=>{"update"!==e.action&&"create"!==e.action||(p({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),E(!1)),"delete"===e.action&&p({type:"DELETE_ANNOUNCEMENT",payload:+e.id})}),()=>{e.disconnect()}},[]);const v=async()=>{try{const{data:e}=await na.get("/announcements/",{params:{searchParam:d,pageNumber:c}});p({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),m(e.hasMore),t(!1)}catch(e){Ze(e)}},C=Boolean(r),O=C?"simple-popover":void 0;return l.a.createElement("div",null,l.a.createElement(Dt,{announcement:b,open:h,handleClose:()=>y(!1)}),l.a.createElement(k.a,{variant:"contained","aria-describedby":O,onClick:e=>{o(e.currentTarget),E(!0)},style:{color:"white"}},l.a.createElement(Y.a,{color:"secondary",variant:"dot",invisible:g||u.length<1},l.a.createElement(It.a,null))),l.a.createElement(Ta.a,{id:O,open:C,anchorEl:r,onClose:()=>{o(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(Mt.a,{variant:"outlined",onScroll:e=>{if(!s||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&i(e=>e+1)},className:e.mainPaper},l.a.createElement(w.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(Je.isArray)(u)&&u.map((e,a)=>{return l.a.createElement(B.a,{key:a,style:{background:a%2===0?"#ededed":"white",border:"1px solid #eee",borderLeft:(n=e.priority,1===n?"4px solid #b81111":2===n?"4px solid orange":3===n?"4px solid grey":void 0),cursor:"pointer"},onClick:()=>(f(e),y(!0),void o(null))},e.mediaPath&&l.a.createElement(Ia.a,null,l.a.createElement(Na.a,{alt:e.mediaName,src:(t=e.mediaPath,"".concat("https://api130.automizaai.shop","public/").concat(t))})),l.a.createElement(H.a,{primary:e.title,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{component:"span",style:{fontSize:12}},x()(e.createdAt).format("DD/MM/YYYY")),l.a.createElement("span",{style:{marginTop:5,display:"block"}}),l.a.createElement(I.a,{component:"span",variant:"body2"},e.text))}));var t,n}),Object(Je.isArray)(u)&&0===u.length&&l.a.createElement(H.a,{primary:"Nenhum registro"})))))}var Wt=t(842),Ft=t.n(Wt);const qt=Object(C.a)(e=>({mainPaper:{flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}})),zt=(e,a)=>{if("LOAD_CHATS"===a.type){const t=a.payload,n=[];return Object(Je.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CHATS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CHAT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[];if("CHANGE_CHAT"===a.type){return e.map(e=>e.id===a.payload.chat.id?a.payload.chat:e)}};function Bt(){const e=qt(),{user:a}=Object(n.useContext)(pa),[t,r]=Object(n.useState)(!1),[o,c]=Object(n.useState)(null),[i,s]=Object(n.useState)(1),[m,d]=Object(n.useState)(!1),[u]=Object(n.useState)(""),[p,g]=Object(n.useReducer)(zt,[]),[E,b]=Object(n.useState)(!0),{datetimeToClient:f}=da(),[h]=Object(ka.a)(Ft.a),y=Object(n.useRef)();Object(n.useEffect)(()=>{y.current=h,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[h]),Object(n.useEffect)(()=>{g({type:"RESET"}),s(1)},[u]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{v()},500);return()=>clearTimeout(e)},[u,i]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=oa({companyId:e});return t.on("company-".concat(e,"-chat"),e=>{"new-message"===e.action&&(g({type:"CHANGE_CHAT",payload:e}),e.newMessage.senderId!==a.id&&y.current()),"update"===e.action&&g({type:"CHANGE_CHAT",payload:e})}),()=>{t.disconnect()}},[]),Object(n.useEffect)(()=>{let e=0;if(p.length>0)for(let t of p)for(let n of t.users)n.userId===a.id&&(e+=n.unreads);b(!(e>0))},[p,a.id]);const v=async()=>{try{const{data:e}=await na.get("/chats/",{params:{searchParam:u,pageNumber:i}});g({type:"LOAD_CHATS",payload:e.records}),d(e.hasMore),r(!1)}catch(e){Ze(e)}},x=Boolean(o),C=x?"simple-popover":void 0;return l.a.createElement("div",null,l.a.createElement(k.a,{"aria-describedby":C,variant:"contained",color:E?"default":"inherit",onClick:e=>{c(e.currentTarget),b(!0)},style:{color:"white"}},l.a.createElement(Y.a,{color:"secondary",variant:"dot",invisible:E},l.a.createElement(Ie.a,null))),l.a.createElement(Ta.a,{id:C,open:x,anchorEl:o,onClose:()=>{c(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(Mt.a,{variant:"outlined",onScroll:e=>{if(!m||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&s(e=>e+1)},className:e.mainPaper},l.a.createElement(w.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(Je.isArray)(p)&&p.map((e,a)=>l.a.createElement(B.a,{key:a,style:{background:a%2===0?"#ededed":"white",border:"1px solid #eee",cursor:"pointer"},onClick:()=>{return a=e,void(window.location.href="/chats/".concat(a.uuid));var a},button:!0},l.a.createElement(H.a,{primary:e.lastMessage,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{component:"span",style:{fontSize:12}},f(e.updatedAt)),l.a.createElement("span",{style:{marginTop:5,display:"block"}}))}))),Object(Je.isArray)(p)&&0===p.length&&l.a.createElement(H.a,{primary:"Nenhum registro"})))))}t(843);const Ut=Object(C.a)(e=>({root:{display:"flex",height:"100vh",[e.breakpoints.down("sm")]:{height:"calc(100vh - 56px)"},backgroundColor:e.palette.fancyBackground,"& .MuiButton-outlinedPrimary":{color:"light"===e.mode?"#7252cc":"#FFF",border:"light"===e.mode?"1px solid rgba(0 124 102)":"1px solid rgba(255, 255, 255, 0.5)"},"& .MuiTab-textColorPrimary.Mui-selected":{color:"light"===e.mode?"#7252cc":"#FFF"}},avatar:{width:"100%"},toolbar:{paddingRight:24,color:e.palette.dark.main,background:e.palette.barraSuperior},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px",minHeight:"48px",[e.breakpoints.down("sm")]:{height:"48px"}},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),[e.breakpoints.down("sm")]:{display:"none"}},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,fontSize:14,color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),[e.breakpoints.down("sm")]:{width:"100%"},...e.scrollbarStylesSoft},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)},[e.breakpoints.down("sm")]:{width:"100%"}},appBarSpacer:{minHeight:"48px"},content:{flex:1,overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},containerWithScroll:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},NotificationsPopOver:{},logo:{width:"80%",height:"auto",maxWidth:180,[e.breakpoints.down("sm")]:{width:"auto",height:"80%",maxWidth:180},logo:e.logo}}));var Ht=e=>{var a,t,r,o;let{children:c,themeToggle:i}=e;const s=Ut(),[m,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)(null),[b,f]=Object(n.useState)(!1),{handleLogout:h,loading:v}=Object(n.useContext)(pa),[x,C]=Object(n.useState)(!1),[R,P]=Object(n.useState)("permanent"),{user:W}=Object(n.useContext)(pa),q=Object(O.a)(),{colorMode:B}=Object(n.useContext)(E),U=Object(g.a)(q.breakpoints.up("sm")),[H,_]=Object(n.useState)(localStorage.getItem("volume")||1),{dateToClient:V}=da();Object(n.useEffect)(()=>{document.body.offsetWidth>600&&C(!0)},[]),Object(n.useEffect)(()=>{document.body.offsetWidth<600?P("temporary"):P("permanent")},[x]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=localStorage.getItem("userId"),t=oa({companyId:e});t.on("company-".concat(e,"-auth"),e=>{e.user.id===+a&&(Ze("Sua conta foi acessada em outro computador."),setTimeout(()=>{localStorage.clear(),window.location.reload()},1e3))}),t.emit("userStatus");const n=setInterval(()=>{t.emit("userStatus")},3e5);return()=>{t.disconnect(),clearInterval(n)}},[]);const Y=()=>{p(null),f(!1)};return v?l.a.createElement(St,null):l.a.createElement("div",{className:s.root},l.a.createElement(S.a,{variant:R,className:x?s.drawerPaper:s.drawerPaperClose,classes:{paper:Object(y.a)(s.drawerPaper,!x&&s.drawerPaperClose)},open:x},l.a.createElement("div",{className:s.toolbarIcon},l.a.createElement("img",{src:va.a,className:s.logo,alt:"logo"}),l.a.createElement(k.a,{onClick:()=>C(!x)},l.a.createElement(L.a,null))),l.a.createElement(T.a,null),l.a.createElement(w.a,{className:s.containerWithScroll},l.a.createElement(Oa,{drawerClose:()=>{document.body.offsetWidth<600&&C(!1)},collapsed:!x})),l.a.createElement(T.a,null)),l.a.createElement(xt,{open:m,onClose:()=>d(!1),userId:null===W||void 0===W?void 0:W.id}),l.a.createElement(A.a,{position:"absolute",className:Object(y.a)(s.appBar,x&&s.appBarShift),color:"primary"},l.a.createElement(j.a,{variant:"dense",className:s.toolbar},l.a.createElement(k.a,{edge:"start",variant:"contained","aria-label":"open drawer",onClick:()=>C(!x),className:Object(y.a)(s.menuButton,x&&s.menuButtonHidden)},l.a.createElement(D.a,null)),l.a.createElement(I.a,{component:"h2",variant:"h6",color:"inherit",noWrap:!0,className:s.title},U&&"admin"===(null===W||void 0===W?void 0:W.profile)&&(null===W||void 0===W||null===(a=W.company)||void 0===a?void 0:a.dueDate)?l.a.createElement(l.a.Fragment,null,"Ol\xe1 ",l.a.createElement("b",null,W.name),", Bem vindo a ",l.a.createElement("b",null,null===W||void 0===W||null===(t=W.company)||void 0===t?void 0:t.name),"! (Ativo at\xe9 ",V(null===W||void 0===W||null===(r=W.company)||void 0===r?void 0:r.dueDate),")"):l.a.createElement(l.a.Fragment,null,"Ol\xe1  ",l.a.createElement("b",null,W.name),", Bem Vindo a ",l.a.createElement("b",null,null===W||void 0===W||null===(o=W.company)||void 0===o?void 0:o.name),"!")),l.a.createElement(k.a,{edge:"start",onClick:()=>{B.toggleColorMode()}},"dark"===q.mode?l.a.createElement(At.a,{style:{color:"white"}}):l.a.createElement(Tt.a,{style:{color:"white"}})),l.a.createElement(tt,{setVolume:_,volume:H}),l.a.createElement(k.a,{onClick:()=>{window.location.reload(!1)},"aria-label":Qe.a.t("mainDrawer.appBar.refresh"),color:"inherit"},l.a.createElement(z.a,{style:{color:"white"}})),W.id&&l.a.createElement(Qa,{volume:H}),l.a.createElement(Lt,null),l.a.createElement(Bt,null),l.a.createElement("div",null,l.a.createElement(k.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{p(e.currentTarget),f(!0)},variant:"contained",style:{color:"white"}},l.a.createElement(F.a,null)),l.a.createElement(N.a,{id:"menu-appbar",anchorEl:u,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:Y},l.a.createElement(M.a,{onClick:()=>{d(!0),Y()}},Qe.a.t("mainDrawer.appBar.user.profile")),l.a.createElement(M.a,{onClick:()=>{Y(),h()}},Qe.a.t("mainDrawer.appBar.user.logout")))))),l.a.createElement("main",{className:s.content},l.a.createElement("div",{className:s.appBarSpacer}),c||null))},_t=t(1526),Vt=t(866),Yt=t.n(Vt),Gt=t(868),Qt=t.n(Gt),Kt=t(870),Xt=t.n(Kt),Jt=t(867),Zt=t.n(Jt),$t=t(134),en=t.n($t),an=t(865),tn=t.n(an),nn=t(518),ln=t.n(nn),rn=t(869),on=t.n(rn),cn=t(871),sn=t.n(cn),mn=t(872),dn=t.n(mn),un=t(546),pn=t(548);t(1589),t(1569),t(1501),t(857),t(858),t(393),t(389),t(181),t(856),t(630);var gn=e=>l.a.createElement(I.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children);var En=t(1502),bn=t(1503),fn=t(1504);const hn=Object(C.a)(e=>({cardAvatar:{fontSize:"55px",color:un.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:e.palette.text.primary},cardSubtitle:{color:un.a[600],fontSize:"14px"}}));function yn(e){const{icon:a,title:t,value:n,loading:r}=e,o=hn();return r?l.a.createElement(fn.a,{variant:"rect",height:80}):l.a.createElement(En.a,null,l.a.createElement(bn.a,{avatar:l.a.createElement(Na.a,{className:o.cardAvatar},a),title:l.a.createElement(I.a,{variant:"h6",component:"h2",className:o.cardTitle},t),subheader:l.a.createElement(I.a,{variant:"subtitle1",component:"p",className:o.cardSubtitle},n)}))}var vn=t(1508),xn=t(1510),Cn=t(1506),On=t(1507),Sn=t(1509),kn=t(1505),Tn=t(547),wn=t(474),An=t.n(wn),jn=t(1590);const In=Object(C.a)(e=>({on:{color:ja.a[600],fontSize:"20px"},off:{color:Tn.a[600],fontSize:"20px"},pointer:{cursor:"pointer"}}));function Nn(e){let{rating:a}=e;const t=null===a?0:Math.trunc(a);return l.a.createElement(jn.a,{defaultValue:t,max:3,readOnly:!0})}function Mn(e){const{loading:a,attendants:t}=e,n=In();return a?l.a.createElement(fn.a,{variant:"rect",height:150}):l.a.createElement(On.a,{component:Mt.a},l.a.createElement(vn.a,null,l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,null,"Nome"),l.a.createElement(Cn.a,{align:"center"},"Atendimentos concluidos"),l.a.createElement(Cn.a,{align:"center"},"TM. Atendimento"),l.a.createElement(Cn.a,{align:"center"},"Estado (Atual)"),l.a.createElement(Cn.a,{align:"center"},"Avalia\xe7\xf5es"))),l.a.createElement(xn.a,null,t.map((e,a)=>{return l.a.createElement(kn.a,{key:a},l.a.createElement(Cn.a,null,e.name),l.a.createElement(Cn.a,{align:"center",title:"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito",className:n.pointer},l.a.createElement(Nn,{rating:e.rating})),l.a.createElement(Cn.a,{align:"center"},e.tickets),l.a.createElement(Cn.a,{align:"center"},(t=e.avgSupportTime,x()().startOf("day").add(t,"minutes").format("HH[h] mm[m]"))),l.a.createElement(Cn.a,{align:"center"},e.online?l.a.createElement(en.a,{className:n.on}):l.a.createElement(An.a,{className:n.off})));var t}))))}var Rn=()=>({find:async e=>{const{data:a}=await na.request({url:"/dashboard",method:"GET",params:e});return a}});var Dn=e=>{let{searchParam:a,pageNumber:t,date:l,dateStart:r,dateEnd:o}=e;const[c,i]=Object(n.useState)(!0),[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(0);return Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("/contacts",{params:{searchParam:a,pageNumber:t,date:l,dateStart:r,dateEnd:o}});u(e.contacts),m(e.hasMore),g(e.count),i(!1)}catch(e){i(!1),Ze(e)}})()},500);return()=>clearTimeout(e)},[a,t,l,r,o]),{contacts:d,loading:c,hasMore:s,count:p}};var Pn=e=>{let{fromMe:a,dateStart:t,dateEnd:l}=e;const[r,o]=Object(n.useState)(!0),[c,i]=Object(n.useState)(0);return Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("/messages-allMe",{params:{fromMe:a,dateStart:t,dateEnd:l}});i(e.count[0].count),o(!1)}catch(e){o(!1),Ze(e)}})()},500);return()=>clearTimeout(e)},[t,l]),{count:c}},Ln=t(69),Wn=t(517),Fn=t(924),qn=t(1574),zn=t(353),Bn=t(862),Un=t(1567),Hn=t(1573),_n=t(1568),Vn=t(1576);t(795);Object(C.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.padding,paddingLeft:e.spacing(1),paddingRight:e.spacing(2)}}));Ln.f.register(Ln.e,Ln.j,Ln.c,Ln.p,Ln.q,Ln.h,Fn.a);const Yn={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:"Atendimento",position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},Gn=()=>{const[e,a]=Object(n.useState)(new Date),[t,r]=Object(n.useState)(new Date),[o,c]=Object(n.useState)({data:[]}),i=localStorage.getItem("companyId");Object(n.useEffect)(()=>{m()},[]);const s={labels:o&&(null===o||void 0===o?void 0:o.data.length)>0&&(null===o||void 0===o?void 0:o.data.map(e=>e.nome)),datasets:[{data:(null===o||void 0===o?void 0:o.data.length)>0&&(null===o||void 0===o?void 0:o.data.map((e,a)=>e.quantidade)),backgroundColor:"#9200bf"}]},m=async()=>{try{const{data:a}=await na.get("/dashboard/ticketsUsers?initialDate=".concat(Object(Sa.a)(e,"yyyy-MM-dd"),"&finalDate=").concat(Object(Sa.a)(t,"yyyy-MM-dd"),"&companyId=").concat(i));c(a)}catch(a){h.b.error("Error al obtener la informaci\xf3n de la Atendimento")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Total de Atendimento por Usu\xe1rio"),l.a.createElement(Hn.a,{direction:"row",spacing:2,alignItems:"center",sx:{my:2}},l.a.createElement(Bn.a,{dateAdapter:qn.a,adapterLocale:zn.a},l.a.createElement(Un.a,{value:e,onChange:e=>{a(e)},label:"Fecha inicial",renderInput:e=>l.a.createElement(_n.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),l.a.createElement(Bn.a,{dateAdapter:qn.a,adapterLocale:zn.a},l.a.createElement(Un.a,{value:t,onChange:e=>{r(e)},label:"Fecha final",renderInput:e=>l.a.createElement(_n.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),l.a.createElement(Vn.a,{className:"buttonHover",onClick:m,variant:"contained"},"Filtrar")),l.a.createElement(Wn.a,{options:Yn,data:s,style:{maxWidth:"100%",maxHeight:"280px"}}))};var Qn=e=>{let{classes:a,setDateStartTicket:t,setDateEndTicket:n,dateStartTicket:r,dateEndTicket:o,setQueueTicket:c,queueTicket:i}=e;const[s]=l.a.useState(i),[m,d]=l.a.useState(r),[u,p]=l.a.useState(o);return l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(Mt.a,{className:a.customFixedHeightPaperLg,elevation:6},l.a.createElement(gn,null,"Filtros"),l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:5},l.a.createElement(it.a,{fullWidth:!0,name:"dateStart",label:"Desde",InputLabelProps:{shrink:!0},type:"date",defaultValue:m,onChange:e=>d(e.target.value)})),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:5},l.a.createElement(it.a,{fullWidth:!0,name:"dateEnd",label:"Hasta",InputLabelProps:{shrink:!0},type:"date",defaultValue:u,onChange:e=>p(e.target.value)})),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:2},l.a.createElement(Ma.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{c(s),t(m),n(u)}},"Filtrar")))))};Ln.f.register(Ln.e,Ln.j,Ln.c,Ln.p,Ln.q,Ln.h);const Kn={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:"Atendimentos",position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},Xn=()=>{const[e,a]=Object(n.useState)(new Date),[t,r]=Object(n.useState)(new Date),[o,c]=Object(n.useState)({data:[],count:0}),i=localStorage.getItem("companyId");Object(n.useEffect)(()=>{m()},[]);const s={labels:o&&(null===o||void 0===o?void 0:o.data.length)>0&&(null===o||void 0===o?void 0:o.data.map(e=>e.hasOwnProperty("horario")?"Das ".concat(e.horario,":00 as ").concat(e.horario,":59"):e.data)),datasets:[{data:(null===o||void 0===o?void 0:o.data.length)>0&&(null===o||void 0===o?void 0:o.data.map((e,a)=>e.total)),backgroundColor:"#9200bf"}]},m=async()=>{try{const{data:a}=await na.get("/dashboard/ticketsDay?initialDate=".concat(Object(Sa.a)(e,"yyyy-MM-dd"),"&finalDate=").concat(Object(Sa.a)(t,"yyyy-MM-dd"),"&companyId=").concat(i));c(a)}catch(a){h.b.error("Erro ao buscar informa\xe7\xf5es dos tickets")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Atendimento Total (",null===o||void 0===o?void 0:o.count,")"),l.a.createElement(Hn.a,{direction:"row",spacing:2,alignItems:"center",sx:{my:2}},l.a.createElement(Bn.a,{dateAdapter:qn.a,adapterLocale:zn.a},l.a.createElement(Un.a,{value:e,onChange:e=>{a(e)},label:"Fecha inicial",renderInput:e=>l.a.createElement(_n.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),l.a.createElement(Bn.a,{dateAdapter:qn.a,adapterLocale:zn.a},l.a.createElement(Un.a,{value:t,onChange:e=>{r(e)},label:"Fecha final",renderInput:e=>l.a.createElement(_n.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),l.a.createElement(Vn.a,{className:"buttonHover",onClick:m,variant:"contained"},"Filtrar")),l.a.createElement(Wn.a,{options:Kn,data:s,style:{maxWidth:"100%",maxHeight:"280px"}}))},Jn=Object(C.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.padding,paddingLeft:e.spacing(1),paddingRight:e.spacing(2)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",flexDirection:"column",height:240,overflowY:"auto",...e.scrollbarStyles},cardAvatar:{fontSize:"55px",color:un.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:pn.a[700]},cardSubtitle:{color:un.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"},iframeDashboard:{width:"100%",height:"calc(100vh - 64px)",border:"none"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},customFixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:120},customFixedHeightPaperLg:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%"},card1:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"#420766",color:"#eee"},card2:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"#49318B",color:"#eee"},card3:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"#004AAD",color:"#eee"},card4:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"#E6AA15",color:"#eee"},card5:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"#47a7f6",color:"#eee"},card6:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"#7252CC",color:"#eee"},card7:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"#1EA3C9",color:"#eee"},card8:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"#FF4800",color:"#eee"},card9:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"#E10A0A",color:"#eee"},fixedHeightPaper2:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}));var Zn=()=>{const e=Jn(),[a,t]=Object(n.useState)({}),[r,o]=Object(n.useState)([]),[c,i]=Object(n.useState)(1),[s,m]=Object(n.useState)(0),[d,u]=Object(n.useState)(x()("1","D").format("YYYY-MM-DD")),[p,g]=Object(n.useState)(x()().format("YYYY-MM-DD")),[E,b]=Object(n.useState)(!1),{find:f}=Rn();let y=new Date,v=y.getDate(),C=y.getMonth()+1,O=y.getFullYear(),S="".concat(O,"-").concat(C<10?"0".concat(C):"".concat(C),"-").concat(v<10?"0".concat(v):"".concat(v));const[k,T]=Object(n.useState)(!1),[w,A]=Object(n.useState)(S),[j,N]=Object(n.useState)(S),[M,R]=Object(n.useState)(!1),{user:D}=Object(n.useContext)(pa);function P(e){return x()().startOf("day").add(e,"minutes").format("HH[h] mm[m]")}D.queues&&D.queues.length>0&&D.queues.map(e=>e.id),Object(n.useEffect)(()=>{async function e(){await async function(){b(!0);let e={};s>0&&(e={days:s});!Object(Je.isEmpty)(d)&&x()(d).isValid()&&(e={...e,date_from:x()(d).format("YYYY-MM-DD")});!Object(Je.isEmpty)(p)&&x()(p).isValid()&&(e={...e,date_to:x()(p).format("YYYY-MM-DD")});if(0===Object.keys(e).length)return h.b.error("Parametrize o filtro"),void b(!1);const a=await f(e);t(a.counters),Object(Je.isArray)(a.attendants)?o(a.attendants):o([]);b(!1)}()}setTimeout(()=>{e()},1e3)},[]);const L=(e,a)=>{let t={};t=e?a?{fromMe:!0}:{fromMe:!1}:a?{fromMe:!0,dateStart:w,dateEnd:j}:{fromMe:!1,dateStart:w,dateEnd:j};const{count:n}=Pn(t);return n};return l.a.createElement("div",null,l.a.createElement(_t.a,{maxWidth:"lg",className:e.container},l.a.createElement($a.a,{container:!0,spacing:3,justifyContent:"flex-end"},l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(Ma.a,{onClick:function(){T(!k)},style:{float:"right"},color:"primary"},k?l.a.createElement(ln.a,null):l.a.createElement(tn.a,null))),k&&l.a.createElement(Qn,{classes:e,setDateStartTicket:A,setDateEndTicket:N,dateStartTicket:w,dateEndTicket:j,setQueueTicket:R,queueTicket:M}),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(Mt.a,{className:e.card1,style:{overflow:"hidden"},elevation:4},l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(I.a,{component:"h3",variant:"h6",paragraph:!0},"EM ATENDIMENTO"),l.a.createElement($a.a,{item:!0},l.a.createElement(I.a,{component:"h1",variant:"h4"},a.supportHappening))),l.a.createElement($a.a,{item:!0,xs:2},l.a.createElement(Yt.a,{style:{fontSize:100,color:"#ffffff"}}))))),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(Mt.a,{className:e.card2,style:{overflow:"hidden"},elevation:6},l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(I.a,{component:"h3",variant:"h6",paragraph:!0},"AGUARDANDO ATENDIMENTO"),l.a.createElement($a.a,{item:!0},l.a.createElement(I.a,{component:"h1",variant:"h4"},a.supportPending))),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(Zt.a,{style:{fontSize:100,color:"#ffffff"}}))))),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(Mt.a,{className:e.card6,style:{overflow:"hidden"},elevation:6},l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(I.a,{component:"h3",variant:"h6",paragraph:!0},"ATENDENTES ONLINE"),l.a.createElement($a.a,{item:!0},l.a.createElement(I.a,{component:"h1",variant:"h4"},(()=>{let e,a=0;return r.forEach(e=>{!0===e.online&&(a+=1)}),e=0===a?0:a,e})(),l.a.createElement("span",{style:{color:"#ffffff"}},"/",r.length)))),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(Qt.a,{style:{fontSize:100,color:"#ffffff"}}))))),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(Mt.a,{className:e.card3,style:{overflow:"hidden"},elevation:6},l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(I.a,{component:"h3",variant:"h6",paragraph:!0},"ATENDIMENTOS FINALIZADOS"),l.a.createElement($a.a,{item:!0},l.a.createElement(I.a,{component:"h1",variant:"h4"},a.supportFinished))),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(en.a,{style:{fontSize:100,color:"#ffffff"}}))))),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(Mt.a,{className:e.card7,style:{overflow:"hidden"},elevation:6},l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(I.a,{component:"h3",variant:"h6",paragraph:!0},"TOTAL DE MSG ENVIADAS"),l.a.createElement($a.a,{item:!0},l.a.createElement(I.a,{component:"h1",variant:"h4"},L(!1,!0),l.a.createElement("span",{style:{color:"#ffffff"}},"/",L(!0,!0))))),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(He.a,{style:{fontSize:100,color:"#ffffff"}}))))),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(Mt.a,{className:e.card5,style:{overflow:"hidden"},elevation:6},l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(I.a,{component:"h3",variant:"h6",paragraph:!0},"TOTAL DE MSG RECEBIDAS"),l.a.createElement($a.a,{item:!0},l.a.createElement(I.a,{component:"h1",variant:"h4"},L(!1,!1),l.a.createElement("span",{style:{color:"#ffffff"}},"/",L(!0,!1))))),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(on.a,{style:{fontSize:100,color:"#ffffff"}}))))),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(Mt.a,{className:e.card4,style:{overflow:"hidden"},elevation:6},l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(I.a,{component:"h3",variant:"h6",paragraph:!0},"NOVOS LEADS"),l.a.createElement($a.a,{item:!0},l.a.createElement(I.a,{component:"h1",variant:"h4"},(e=>{let a={};a=e?{}:{dateStart:w,dateEnd:j};const{count:t}=Dn(a);return t})(!0)))),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(Xt.a,{style:{fontSize:100,color:"#ffffff"}}))))),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(Mt.a,{className:e.card8,style:{overflow:"hidden"},elevation:6},l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(I.a,{component:"h3",variant:"h6",paragraph:!0},"TEMPO M\xc9DIO DE ATENDIMENTO"),l.a.createElement($a.a,{item:!0},l.a.createElement(I.a,{component:"h1",variant:"h4"},P(a.avgSupportTime)))),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(sn.a,{style:{fontSize:100,color:"#ffffff"}}))))),l.a.createElement($a.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(Mt.a,{className:e.card9,style:{overflow:"hidden"},elevation:6},l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(I.a,{component:"h3",variant:"h6",paragraph:!0},"TEMPO M\xc9DIO DE ESPERA"),l.a.createElement($a.a,{item:!0},l.a.createElement(I.a,{component:"h1",variant:"h4"},P(a.avgWaitTime)))),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(dn.a,{style:{fontSize:100,color:"#ffffff"}}))))),l.a.createElement($a.a,{item:!0,xs:12},r.length?l.a.createElement(Mn,{attendants:r,loading:E}):null),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(Mt.a,{className:e.fixedHeightPaper2},l.a.createElement(Gn,null))),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(Mt.a,{className:e.fixedHeightPaper2},l.a.createElement(Xn,null))))))},$n=t(1540),el=t(877),al=t.n(el),tl=t(945),nl=t(1571),ll=t(1537),rl=t(875),ol=t.n(rl),cl=t(876),il=t.n(cl),sl=t(375),ml=t.n(sl),dl=t(91),ul=t.n(dl),pl=t(1538),gl=t(1527),El=t(1528),bl=t(1581),fl=t(51),hl=t.n(fl);const yl=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),vl=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:nt.f().min(8,"Too Short!").max(50,"Too Long!"),email:nt.f().email("Invalid email")});var xl=e=>{let{open:a,onClose:t,contactId:r,initialValues:o,onSave:c}=e;const i=yl(),s=Object(n.useRef)(!0),m={name:"",number:"",email:"",disableBot:!1},[d,u]=Object(n.useState)(m);Object(n.useEffect)(()=>()=>{s.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(o&&u(e=>({...e,...o})),r)try{const{data:e}=await na.get("/contacts/".concat(r));s.current&&u(e)}catch(e){Ze(e)}})()},[r,a,o]);const p=()=>{t(),u(m)};return l.a.createElement("div",{className:i.root},l.a.createElement(rt.a,{open:a,onClose:p,maxWidth:"lg",scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"".concat(r?Qe.a.t("contactModal.title.edit"):Qe.a.t("contactModal.title.add"))),l.a.createElement(lt.e,{initialValues:d,enableReinitialize:!0,validationSchema:vl,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(r)await na.put("/contacts/".concat(r),e),p();else{const{data:a}=await na.post("/contacts",e);c&&c(a),p()}h.b.success(Qe.a.t("contactModal.success"))}catch(a){Ze(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:o}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement(I.a,{variant:"subtitle1",gutterBottom:!0},Qe.a.t("contactModal.form.mainInfo")),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:i.textField}),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),l.a.createElement("div",null,l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),l.a.createElement(I.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},l.a.createElement(gl.a,{size:"small",checked:d.disableBot,onChange:()=>u({...d,disableBot:!d.disableBot}),name:"showAllTickets",color:"primary"}),"Desabilitar chatbot para esse contato"),l.a.createElement(I.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Qe.a.t("contactModal.form.extraInfo")),l.a.createElement(lt.c,{name:"extraInfo"},e=>{let{push:t,remove:n}=e;return l.a.createElement(l.a.Fragment,null,a.extraInfo&&a.extraInfo.length>0&&a.extraInfo.map((e,a)=>l.a.createElement("div",{className:i.extraAttr,key:"".concat(a,"-info")},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(a,"].name"),variant:"outlined",margin:"dense",className:i.textField}),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(a,"].value"),variant:"outlined",margin:"dense",className:i.textField}),l.a.createElement(k.a,{size:"small",onClick:()=>n(a)},l.a.createElement(hl.a,null)))),l.a.createElement("div",{className:i.extraAttr},l.a.createElement(Ma.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>t({name:"",value:""})},"+ ".concat(Qe.a.t("contactModal.buttons.addExtraInfo")))))})),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:p,color:"secondary",disabled:o,variant:"outlined"},Qe.a.t("contactModal.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:o,variant:"contained",className:i.btnWrapper},"".concat(r?Qe.a.t("contactModal.buttons.okEdit"):Qe.a.t("contactModal.buttons.okAdd")),o&&l.a.createElement(Ra.a,{size:24,className:i.buttonProgress}))))})))};const Cl=Object(El.a)({trim:!0});var Ol=e=>{var a;let{modalOpen:t,onClose:r,initialContact:o}=e;const[c,i]=Object(n.useState)([]),[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)(""),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(""),[f,y]=Object(n.useState)({}),[v,x]=Object(n.useState)(!1),{user:C}=Object(n.useContext)(pa);Object(n.useEffect)(()=>{void 0!==(null===o||void 0===o?void 0:o.id)&&(i([o]),g(o))},[o]),Object(n.useEffect)(()=>{if(!t||d.length<3)return void m(!1);m(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("contacts",{params:{searchParam:d}});i(e.contacts),m(!1)}catch(e){m(!1),Ze(e)}})()},500);return()=>clearTimeout(e)},[d,t]);const O=()=>{r(),u(""),g(null)},S=async e=>{if(e)if(""!==E||"admin"===C.profile){m(!0);try{const a=""!==E?E:null,{data:t}=await na.post("/tickets",{contactId:e,queueId:a,userId:C.id,status:"open"});r(t)}catch(a){Ze(a)}m(!1)}else h.b.error("Selecione uma fila")},k=(e,a)=>{const t=Cl(e,a);return""!==a.inputValue&&!s&&d.length>=3&&t.push({name:"".concat(a.inputValue)}),t},T=e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(Qe.a.t("newTicketModal.add")," ").concat(e.name),w=e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name);return l.a.createElement(l.a.Fragment,null,l.a.createElement(xl,{open:v,initialValues:f,onClose:()=>{x(!1)},onSave:e=>{S(e.id)}}),l.a.createElement(rt.a,{open:t,onClose:O},l.a.createElement(ot.a,{id:"form-dialog-title"},Qe.a.t("newTicketModal.title")),l.a.createElement(ct.a,{dividers:!0},l.a.createElement($a.a,{style:{width:300},container:!0,spacing:2},void 0===o||void 0===o.id?l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(bl.a,{fullWidth:!0,options:c,loading:s,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:w,renderOption:T,filterOptions:k,onChange:(e,a)=>((e,a)=>{(null===a||void 0===a?void 0:a.number)?g(a):(null===a||void 0===a?void 0:a.name)&&(y({name:a.name}),x(!0))})(0,a),renderInput:e=>l.a.createElement(it.a,Object.assign({},e,{label:Qe.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>u(e.target.value),onKeyPress:e=>{!s&&p&&"Enter"===e.key&&S(p.id)},InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,s?l.a.createElement(Ra.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})):null,l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(ut.a,{fullWidth:!0,displayEmpty:!0,variant:"outlined",value:E,onChange:e=>{b(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===E)return"Selecione uma fila";return C.queues.find(e=>e.id===E).name}},(null===(a=C.queues)||void 0===a?void 0:a.length)>0&&C.queues.map((e,a)=>l.a.createElement(M.a,{dense:!0,key:a,value:e.id},l.a.createElement(H.a,{primary:e.name}))))))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:O,color:"secondary",disabled:s,variant:"outlined"},Qe.a.t("newTicketModal.buttons.cancel")),l.a.createElement(Pa,{variant:"contained",type:"button",disabled:!p,onClick:()=>S(p.id),color:"primary",loading:s},Qe.a.t("newTicketModal.buttons.ok")))))},Sl=t(1536),kl=t(941);const Tl=Object(n.createContext)(),wl=e=>{let{children:a}=e;const[t,r]=Object(n.useState)({id:null,code:null}),o=Object(f.g)();return Object(n.useEffect)(()=>{null!==t.id&&("undefined"===typeof t.uuid?o.push("/tickets"):o.push("/tickets/".concat(t.uuid)))},[t]),l.a.createElement(Tl.Provider,{value:{currentTicket:t,setCurrentTicket:r}},a)};var Al=t(1578),jl=t(631),Il=t.n(jl),Nl=t(386),Ml=t.n(Nl),Rl=t(1529),Dl=t(1530),Pl=t(1531),Ll=t(1532),Wl=t(1533),Fl=t(1534),ql=t(1535);var zl=e=>{let{image:a,link:t,description:r}=e;Object(n.useEffect)(()=>{},[a,t,r]);const o=async()=>{try{window.open(t)}catch(e){Ze(e)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minWidth:"250px"}},l.a.createElement("div",null,l.a.createElement("div",{style:{float:"left"}},l.a.createElement("img",{src:a,alt:"loc",onClick:o,style:{width:"100px"}})),r&&l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},l.a.createElement(I.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle1",color:"primary",gutterBottom:!0},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:r.replace("\\n","<br />")}}))),l.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),l.a.createElement("div",null,l.a.createElement(T.a,null),l.a.createElement(Ma.a,{fullWidth:!0,color:"primary",onClick:o,disabled:!t},"Visualizar")))))},Bl=t(923);const Ul=Object(C.a)(e=>({messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}));var Hl=e=>{let{imageUrl:a}=e;const t=Ul(),[r,o]=Object(n.useState)(!0),[c,i]=Object(n.useState)("");return Object(n.useEffect)(()=>{if(!a)return;(async()=>{const{data:e,headers:t}=await na.get(a,{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([e],{type:t["content-type"]}));i(n),o(!1)})()},[a]),l.a.createElement(Bl.a,{className:t.messageMedia,smallSrcSet:r?a:c,medium:r?a:c,large:r?a:c,showRotate:"true",alt:"image"})};var _l=e=>{let{title:a,children:t,open:n,onClose:r,onConfirm:o}=e;return l.a.createElement(rt.a,{open:n,onClose:()=>r(!1),"aria-labelledby":"confirm-dialog"},l.a.createElement(ot.a,{id:"confirm-dialog"},a),l.a.createElement(ct.a,{dividers:!0},l.a.createElement(I.a,null,t)),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{variant:"contained",onClick:()=>r(!1),color:"default"},Qe.a.t("confirmationModal.buttons.cancel")),l.a.createElement(Ma.a,{variant:"contained",onClick:()=>{r(!1),o()},color:"secondary"},Qe.a.t("confirmationModal.buttons.confirm"))))};const Vl=Object(n.createContext)(),Yl=e=>{let{children:a}=e;const[t,r]=Object(n.useState)(null);return l.a.createElement(Vl.Provider,{value:{replyingMessage:t,setReplyingMessage:r}},a)},Gl=Object(C.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},badgeStyle:{color:"white",backgroundColor:ja.a[500]},acceptButton:{position:"absolute",left:"50%"},selectedTicketText:{color:"white"}}));var Ql=e=>{let{ticket:a,selectedTicket:t,sendData:r}=e;const o=Gl(),{ticketId:c}=Object(f.h)(),i=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{i.current=!1},[]);return l.a.createElement(l.a.Fragment,{key:a.id},l.a.createElement(B.a,{dense:!0,button:!0,onClick:e=>{"pending"!==a.status&&((e,a)=>{r(a)})(0,a)},selected:c&&+c===a.id,className:Object(y.a)(o.ticket,{[o.pendingTicket]:"pending"===a.status})},l.a.createElement(Ia.a,null,l.a.createElement(Na.a,{src:a.contact.profilePicUrl&&a.contact.profilePicUrl})),l.a.createElement(H.a,{disableTypography:!0,primary:l.a.createElement("span",{className:o.contactNameWrapper},l.a.createElement(I.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary",className:Object(y.a)({[o.selectedTicketText]:a===t})},a.contact.name),"closed"===a.status&&l.a.createElement(Y.a,{className:o.closedBadge,badgeContent:"closed",color:"primary"}),a.lastMessage&&l.a.createElement(I.a,{className:Object(y.a)(o.lastMessageTime,{[o.selectedTicketText]:a===t}),component:"span",variant:"body2",color:"textSecondary"},Object(wa.a)(Object(Aa.a)(a.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Aa.a)(a.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Aa.a)(a.updatedAt),"dd/MM/yyyy")))),secondary:l.a.createElement("span",{className:o.contactNameWrapper},l.a.createElement(I.a,{className:Object(y.a)(o.contactLastMessage,{[o.selectedTicketText]:a===t}),noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},a.lastMessage?l.a.createElement(za,null,a.lastMessage):l.a.createElement("br",null)),l.a.createElement(Y.a,{className:o.newMessagesCount,badgeContent:a.unreadMessages,classes:{badge:o.badgeStyle}}))})))};const Kl=Object(C.a)(e=>({selectedTicketBackground:{backgroundColor:"#4caf50"}}));var Xl=e=>{let{modalOpen:a,onClose:t,message:r}=e;const o=Kl(),c=Object(f.g)(),[i,s]=Object(n.useState)([]),[m,d]=Object(n.useState)(null);Object(n.useEffect)(()=>{(()=>{try{na.get("/tickets/").then(e=>{s(e.data.tickets)})}catch(t){var e,a;const n=null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error;n?Qe.a.exists("backendErrors.".concat(n))?h.b.error(Qe.a.t("backendErrors.".concat(n))):h.b.error(t.response.data.error):h.b.error("Unknown error")}})()},[]);const u=()=>{t(),d(null)},p=e=>{d(e)};return l.a.createElement(rt.a,{open:a,onClose:u,maxWidth:"lg",scroll:"paper"},l.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),r.isForwarded=!0,await na.post("/messages/".concat(m.id),r),c.push("/tickets/".concat(m.uuid)),u()}},l.a.createElement(ot.a,{id:"form-dialog-title"},Qe.a.t("forwardMessageModal.title")),l.a.createElement(ct.a,null,i.map(e=>l.a.createElement("div",{key:e.id,className:Object(y.a)(o.ticket,{[o.selectedTicketBackground]:e===m})},"open"===e.status?l.a.createElement(Ql,{ticket:e,selectedTicket:m,sendData:p}):null))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:u,color:"secondary",variant:"outlined"},Qe.a.t("transferTicketModal.buttons.cancel")),l.a.createElement(Pa,{variant:"contained",type:"submit",color:"primary"},Qe.a.t("forwardMessageModal.buttons.ok")))))};var Jl=e=>{let{message:a,menuOpen:t,handleClose:r,anchorEl:o}=e;const{setReplyingMessage:c}=Object(n.useContext)(Vl),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(!1),u=Object(n.useRef)(!0);return l.a.createElement(l.a.Fragment,null,l.a.createElement(_l,{title:Qe.a.t("messageOptionsMenu.confirmationModal.title"),open:i,onClose:s,onConfirm:async()=>{try{await na.delete("/messages/".concat(a.id))}catch(e){Ze(e)}}},Qe.a.t("messageOptionsMenu.confirmationModal.message")),l.a.createElement(N.a,{anchorEl:o,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:t,onClose:r},a.fromMe&&l.a.createElement(M.a,{onClick:e=>{s(!0),r()}},Qe.a.t("messageOptionsMenu.delete")),l.a.createElement(M.a,{onClick:()=>{c(a),r()}},Qe.a.t("messageOptionsMenu.reply")),l.a.createElement(M.a,{onClick:()=>(d(!0),void r())},Qe.a.t("messageOptionsMenu.toForward"))),l.a.createElement(Xl,{modalOpen:m,onClose:()=>{u.current&&d(!1)},message:a}))},Zl=t(873),$l=t.n(Zl),er=t(874),ar=t.n(er);const tr=Object(C.a)(e=>({messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:200,minHeight:200},messageCenter:{marginTop:5,alignItems:"center",verticalAlign:"center",alignContent:"center",backgroundColor:"#E1F5FEEB",fontSize:"12px",minWidth:100,maxWidth:270,color:"#272727",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},messagesList:{backgroundImage:"light"===e.mode?"url(".concat($l.a,")"):"url(".concat(ar.a,")"),display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 20px 20px",overflowY:"scroll",...e.scrollbarStyles},circleLoading:{color:pn.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#ffffff",color:"#303030",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"#f0f0f0",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#dcf8c6",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"#cfe9ba",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,padding:1,position:"absolute",bottom:0,right:5,color:"#999"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:pn.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10},deletedMessage:{color:"#f55d65"}})),nr=(e,a)=>{if("LOAD_MESSAGES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...n,...e]}if("ADD_MESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=t:e.push(t),[...e]}if("UPDATE_MESSAGE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n&&(e[n]=t),[...e]}if("RESET"===a.type)return[]};var lr=e=>{let{ticket:a,ticketId:t,isGroup:r}=e;const o=tr(),[c,i]=Object(n.useReducer)(nr,[]),[s,m]=Object(n.useState)(1),[d,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),E=Object(n.useRef)(),[b,f]=Object(n.useState)({}),[h,v]=Object(n.useState)(null),x=Boolean(h),C=Object(n.useRef)(t);Object(n.useEffect)(()=>{i({type:"RESET"}),m(1),C.current=t},[t]),Object(n.useEffect)(()=>{g(!0);const e=setTimeout(()=>{(async()=>{if(void 0!==t)try{const{data:e}=await na.get("/messages/"+t,{params:{pageNumber:s}});C.current===t&&(i({type:"LOAD_MESSAGES",payload:e.messages}),u(e.hasMore),g(!1)),1===s&&e.messages.length>1&&O()}catch(e){g(!1),Ze(e)}})()},500);return()=>{clearTimeout(e)}},[s,t]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=oa({companyId:e});return t.on("connect",()=>t.emit("joinChatBox","".concat(a.id))),t.on("company-".concat(e,"-appMessage"),e=>{"create"===e.action&&(i({type:"ADD_MESSAGE",payload:e.message}),O()),"update"===e.action&&i({type:"UPDATE_MESSAGE",payload:e.message})}),()=>{t.disconnect()}},[t,a]);const O=()=>{E.current&&E.current.scrollIntoView({})},S=(e,a)=>{v(e.currentTarget),f(a)},w=e=>{if("locationMessage"===e.mediaType&&e.body.split("|").length>=2){let a=e.body.split("|"),t=a[0],n=a[1],r=null;return a.length>2&&(r=e.body.split("|")[2]),console.log("locationParts",a),console.log("imageLocation",t),console.log("linkLocation",n),console.log("descriptionLocation",r),l.a.createElement(zl,{image:t,link:n,description:r})}return"image"===e.mediaType?l.a.createElement(Hl,{imageUrl:e.mediaUrl}):"audio"===e.mediaType?l.a.createElement("audio",{controls:!0},l.a.createElement("source",{src:e.mediaUrl,type:"audio/ogg"})):"video"===e.mediaType?l.a.createElement("video",{className:o.messageMedia,src:e.mediaUrl,controls:!0}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:o.downloadMedia},l.a.createElement(Ma.a,{startIcon:l.a.createElement(Rl.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.mediaUrl},"Download")),l.a.createElement(T.a,null))},A=(e,a)=>{if(0===a)return l.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(e.id)},l.a.createElement("div",{className:o.dailyTimestampText},Object(Sa.a)(Object(Aa.a)(c[a].createdAt),"dd/MM/yyyy hh:mm a")));if(a<c.length-1){let t=Object(Aa.a)(c[a].createdAt),n=Object(Aa.a)(c[a-1].createdAt);if(!Object(wa.a)(t,n))return l.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(e.id)},l.a.createElement("div",{className:o.dailyTimestampText},Object(Sa.a)(Object(Aa.a)(c[a].createdAt),"dd/MM/yyyy")))}return a===c.length-1?l.a.createElement("div",{key:"ref-".concat(e.createdAt),ref:E,style:{float:"left",clear:"both"}}):void 0},j=(e,a)=>{if(a<c.length&&a>0){if(e.ticketId!==c[a-1].ticketId)return l.a.createElement("center",null,l.a.createElement("div",{className:o.ticketNunberClosed},"Conversa encerrada: ",Object(Sa.a)(Object(Aa.a)(c[a-1].createdAt),"dd/MM/yyyy HH:mm:ss")),l.a.createElement("div",{className:o.ticketNunberOpen},"Conversa iniciada: ",Object(Sa.a)(Object(Aa.a)(e.createdAt),"dd/MM/yyyy HH:mm:ss")))}},I=(e,a)=>{if(a<c.length&&a>0){if(c[a].fromMe!==c[a-1].fromMe)return l.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(e.id)})}},N=e=>{var a,t,n,r,c,i;return l.a.createElement("div",{className:Object(y.a)(o.quotedContainerLeft,{[o.quotedContainerRight]:e.fromMe})},l.a.createElement("span",{className:Object(y.a)(o.quotedSideColorLeft,{[o.quotedSideColorRight]:null===(a=e.quotedMsg)||void 0===a?void 0:a.fromMe})}),l.a.createElement("div",{className:o.quotedMsg},!(null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe)&&l.a.createElement("span",{className:o.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(r=n.contact)||void 0===r?void 0:r.name),"audio"===e.quotedMsg.mediaType&&l.a.createElement("div",{className:o.downloadMedia},l.a.createElement("audio",{controls:!0},l.a.createElement("source",{src:e.quotedMsg.mediaUrl,type:"audio/ogg"}))),"video"===e.quotedMsg.mediaType&&l.a.createElement("video",{className:o.messageMedia,src:e.quotedMsg.mediaUrl,controls:!0}),"application"===e.quotedMsg.mediaType&&l.a.createElement("div",{className:o.downloadMedia},l.a.createElement(Ma.a,{startIcon:l.a.createElement(Rl.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.quotedMsg.mediaUrl},"Download")),"image"===e.quotedMsg.mediaType&&l.a.createElement(Hl,{imageUrl:e.quotedMsg.mediaUrl})||(null===(c=e.quotedMsg)||void 0===c?void 0:c.body),"image"===!e.quotedMsg.mediaType&&(null===(i=e.quotedMsg)||void 0===i?void 0:i.body)))};return l.a.createElement("div",{className:o.messagesListWrapper},l.a.createElement(Jl,{message:b,anchorEl:h,menuOpen:x,handleClose:e=>{v(null)}}),l.a.createElement("div",{id:"messagesList",className:o.messagesList,onScroll:e=>{if(!d)return;const{scrollTop:a}=e.currentTarget;0===a&&(document.getElementById("messagesList").scrollTop=1),p||a<50&&m(e=>e+1)}},c.length>0?(()=>{if(c.length>0){return c.map((e,a)=>{var t,n,c,i;return"call_log"===e.mediaType?l.a.createElement(l.a.Fragment,{key:e.id},A(e,a),j(e,a),I(e,a),l.a.createElement("div",{className:o.messageCenter},l.a.createElement(k.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:a=>S(a,e)},l.a.createElement(Wl.a,null)),r&&l.a.createElement("span",{className:o.messageContactName},null===(t=e.contact)||void 0===t?void 0:t.name),l.a.createElement("div",null,l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 17",width:"20",height:"17"},l.a.createElement("path",{fill:"#df3333",d:"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z"}))," ",l.a.createElement("span",null,"Chamada de voz/v\xeddeo perdida \xe0s ",Object(Sa.a)(Object(Aa.a)(e.createdAt),"HH:mm"))))):e.fromMe?l.a.createElement(l.a.Fragment,{key:e.id},A(e,a),I(e,a),l.a.createElement("div",{className:o.messageRight,title:e.queueId&&(null===(n=e.queue)||void 0===n?void 0:n.name)},l.a.createElement(k.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:a=>S(a,e)},l.a.createElement(Wl.a,null)),(e.mediaUrl||"locationMessage"===e.mediaType||"contactMessage"===e.mediaType)&&w(e),l.a.createElement("div",{className:Object(y.a)(o.textContentItem,{[o.textContentItemDeleted]:e.isDeleted})},e.isDeleted&&"\ud83d\udeab",e.quotedMsg&&N(e),"reactionMessage"!=e.mediaType&&"locationMessage"!=e.mediaType&&l.a.createElement(za,null,e.body),e.quotedMsg&&"reactionMessage"===e.mediaType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Y.a,{className:o.badge,overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:l.a.createElement("span",{style:{fontSize:"4em",marginTop:"42px",marginLeft:"0px"}},e.body.split("*")[2])}),l.a.createElement("span",{style:{marginLeft:"-135px"}},l.a.createElement(za,null,e.body.split(":")[0]+"* reagiu...."))),l.a.createElement("span",{className:o.timestamp},Object(Sa.a)(Object(Aa.a)(e.createdAt),"HH:mm"),(e=>0===e.ack?l.a.createElement(Dl.a,{fontSize:"small",className:o.ackIcons}):1===e.ack?l.a.createElement(Pl.a,{fontSize:"small",className:o.ackIcons}):2===e.ack?l.a.createElement(Ll.a,{fontSize:"small",className:o.ackIcons}):3===e.ack||4===e.ack?l.a.createElement(Ll.a,{fontSize:"small",className:o.ackDoneAllIcon}):void 0)(e))))):l.a.createElement(l.a.Fragment,{key:e.id},A(e,a),j(e,a),I(e,a),l.a.createElement("div",{className:o.messageLeft,title:e.queueId&&(null===(c=e.queue)||void 0===c?void 0:c.name)},l.a.createElement(k.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:a=>S(a,e)},l.a.createElement(Wl.a,null)),r&&l.a.createElement("span",{className:o.messageContactName},null===(i=e.contact)||void 0===i?void 0:i.name),e.isDeleted&&l.a.createElement("div",null,l.a.createElement("span",{className:o.deletedMessage},"\ud83d\udeab Esta mensagem foi apagada pelo Contato. \xa0")),(e.mediaUrl||"locationMessage"===e.mediaType||"contactMessage"===e.mediaType)&&w(e),l.a.createElement("div",{className:o.textContentItem},e.quotedMsg&&N(e),"reactionMessage"!=e.mediaType&&"locationMessage"!=e.mediaType&&l.a.createElement(za,null,e.body),e.quotedMsg&&"reactionMessage"===e.mediaType&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Y.a,{className:o.badge,overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:l.a.createElement("span",{style:{fontSize:"4em",marginTop:"-95px",marginLeft:"340px"}},e.body)}),l.a.createElement("span",{style:{marginLeft:"0px"}},l.a.createElement(za,null,"_*"+e.contact.name+"*_ reagiu..."))),l.a.createElement("span",{className:o.timestamp},Object(Sa.a)(Object(Aa.a)(e.createdAt),"HH:mm")))))})}return l.a.createElement("div",null,"\xa1Sauda\xe7\xf5es ao novo Lead!")})():[]),"whatsapp"!==(null===a||void 0===a?void 0:a.channel)&&l.a.createElement("div",{style:{width:"100%",display:"flex",padding:"10px",alignItems:"center",backgroundColor:"#E1F3FB"}},"facebook"===(null===a||void 0===a?void 0:a.channel)?l.a.createElement(Fl.a,{small:!0}):l.a.createElement(ql.a,{small:!0}),l.a.createElement("span",null,"Tem 24 horas para responder ap\xf3s receber uma mensagem, seguindo as pol\xedticas do Meta.")),p&&l.a.createElement("div",null,l.a.createElement(Ra.a,{className:o.circleLoading})))};const rr=Object(C.a)(e=>({ticketHeader:{display:"flex",background:e.palette.total,flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}));var or=()=>{const e=rr();return l.a.createElement(En.a,{square:!0,className:e.ticketHeader},l.a.createElement(bn.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:l.a.createElement(fn.a,{animation:"wave",variant:"circle"},l.a.createElement(Na.a,{alt:"contact_image"})),title:l.a.createElement(fn.a,{animation:"wave",width:80}),subheader:l.a.createElement(fn.a,{animation:"wave",width:140})}))};const cr=Object(C.a)(e=>({ticketHeader:{display:"flex",background:e.palette.fundoBackground,flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}));var ir=e=>{let{loading:a,children:t}=e;const n=cr();return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(or,null):l.a.createElement(En.a,{square:!0,className:n.ticketHeader},t))};var sr=e=>{let{contact:a,ticket:t,onClick:r}=e;const{user:o}=t,[c,i]=Object(n.useState)(""),[s,m]=Object(n.useState)("");return Object(n.useEffect)(()=>{if(a&&(m(a.name),document.body.offsetWidth<600&&a.name.length>10)){const e=a.name.substring(0,10)+"...";m(e)}o&&a&&(i("".concat(Qe.a.t("messagesList.header.assignedTo")," ").concat(o.name)),document.body.offsetWidth<600&&i("".concat(o.name)))},[]),l.a.createElement(bn.a,{onClick:r,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:l.a.createElement(Na.a,{src:a.profilePicUrl,alt:"contact_image"}),title:"".concat(s," #").concat(t.id),subheader:t.user&&"".concat(c)})};const mr=Object(C.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));function dr(e){let{open:a,handleClose:t,ticketId:r}=e;const o=Object(f.g)(),c=mr(),{user:i}=Object(n.useContext)(pa),[,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(!0),[u,p]=Object(n.useState)({}),[g,E]=Object(n.useState)({});Object(n.useEffect)(()=>{let e=null;return a&&(d(!0),e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("/tickets/"+r),{queueId:a}=e,{queues:t,profile:n}=i;if(void 0===t.find(e=>e.id===a)&&"admin"!==n)return h.b.error("Acesso n\xe3o permitido"),void o.push("/tickets");p(e.contact),E(e),d(!1)}catch(e){d(!1),Ze(e)}})()},500)),()=>{null!==e&&clearTimeout(e)}},[r,i,o,a]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId");let t=null;return a&&(t=oa({companyId:e}),t.on("connect",()=>t.emit("joinChatBox","".concat(g.id))),t.on("company-".concat(e,"-ticket"),e=>{"update"===e.action&&E(e.ticket),"delete"===e.action&&(h.b.success("Ticket deleted sucessfully."),o.push("/tickets"))}),t.on("company-".concat(e,"-contact"),e=>{"update"===e.action&&p(a=>{var t;return a.id===(null===(t=e.contact)||void 0===t?void 0:t.id)?{...a,...e.contact}:a})})),()=>{null!==t&&t.disconnect()}},[r,g,o,a]);const b=()=>{s(!0)};return l.a.createElement(rt.a,{maxWidth:"md",onClose:t,open:a},l.a.createElement(ir,{loading:m},(()=>{if(void 0!==g.user)return l.a.createElement(sr,{contact:u,ticket:g,onClick:b})})()),l.a.createElement(Yl,null,l.a.createElement(kl.a,{className:c.root},l.a.createElement(lr,{ticket:g,ticketId:g.id,isGroup:g.isGroup}))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:t,color:"primary"},"Fechar")))}var ur=t(1373);const pr=Object(ur.a)(e=>({tag:{padding:"1px 5px",borderRadius:"3px",fontSize:"0.8em",fontWeight:"bold",color:"#FFF",marginRight:"5px",whiteSpace:"nowrap"}}));var gr=e=>{let{tag:a}=e;const t=pr();return l.a.createElement("div",{className:t.tag,style:{backgroundColor:a.color,marginTop:"2px"}},a.name)};const Er=Object(C.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},queueTag:{background:"#FCFCFC",color:"#000",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},newMessagesCount:{position:"absolute",alignSelf:"center",marginRight:8,marginLeft:"auto",top:"10px",left:"20px",borderRadius:0},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},connectionTag:{background:"green",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between",marginLeft:"5px"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:-21},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:"0%",marginLeft:"5px"},badgeStyle:{color:"white",backgroundColor:ja.a[500]},acceptButton:{position:"absolute",right:"108px"},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},ticketInfo:{position:"relative",top:-13},secondaryContentSecond:{display:"flex",alignItems:"flex-start",flexWrap:"wrap",flexDirection:"row",alignContent:"flex-start"},ticketInfo1:{position:"relative",top:13,right:0},Radiusdot:{"& .MuiBadge-badge":{borderRadius:2,position:"inherit",height:16,margin:2,padding:3},"& .MuiBadge-anchorOriginTopRightRectangle":{transform:"scale(1) translate(0%, -40%)"}}}));var br=e=>{var a,t,r,o,c,i,s,m,d,u,p;let{ticket:g}=e;const E=Er(),b=Object(f.g)(),[h,v]=Object(n.useState)(!1),[x,C]=Object(n.useState)(null),[O,S]=Object(n.useState)(null),[k,w]=Object(n.useState)(null),[A,j]=Object(n.useState)([]),[N,M]=Object(n.useState)(null),[R,D]=Object(n.useState)(!1),{ticketId:P}=Object(f.h)(),L=Object(n.useRef)(!0),{setCurrentTicket:W}=Object(n.useContext)(Tl),{user:F}=Object(n.useContext)(pa),{profile:q}=F;Object(n.useEffect)(()=>{var e,a,t,n,l,r;g.userId&&g.user&&C(null===(n=g.user)||void 0===n||null===(l=n.name)||void 0===l?void 0:l.toUpperCase());(S(null===(e=g.queue)||void 0===e||null===(a=e.name)||void 0===a?void 0:a.toUpperCase()),w(null===(t=g.queue)||void 0===t?void 0:t.color),g.whatsappId&&g.whatsapp)&&M(null===(r=g.whatsapp.name)||void 0===r?void 0:r.toUpperCase());return j(null===g||void 0===g?void 0:g.tags),()=>{L.current=!1}},[]);return l.a.createElement(l.a.Fragment,{key:g.id},l.a.createElement(dr,{open:R,handleClose:()=>D(!1),ticketId:g.id}),l.a.createElement(B.a,{dense:!0,button:!0,onClick:e=>{"pending"!==g.status&&(e=>{const a=Object(Al.a)(),{id:t,uuid:n}=e;W({id:t,uuid:n,code:a})})(g)},selected:P&&+P===g.id,className:Object(y.a)(E.ticket,{[E.pendingTicket]:"pending"===g.status})},l.a.createElement(Ba.a,{arrow:!0,placement:"right",title:(null===(a=g.queue)||void 0===a||null===(t=a.name)||void 0===t?void 0:t.toUpperCase())||"SEM FILA"},l.a.createElement("span",{style:{backgroundColor:(null===(r=g.queue)||void 0===r?void 0:r.color)||"#7C7C7C"},className:E.ticketQueueColor})),l.a.createElement(Ia.a,null,"pending"!==g.status?l.a.createElement(Na.a,{style:{marginTop:"-20px",marginLeft:"-3px",width:"55px",height:"55px",borderRadius:"10%"},src:null===g||void 0===g||null===(o=g.contact)||void 0===o?void 0:o.profilePicUrl}):l.a.createElement(Na.a,{style:{marginTop:"-30px",marginLeft:"0px",width:"50px",height:"50px",borderRadius:"10%"},src:null===g||void 0===g||null===(c=g.contact)||void 0===c?void 0:c.profilePicUrl})),l.a.createElement(H.a,{disableTypography:!0,primary:l.a.createElement("span",{className:E.contactNameWrapper},l.a.createElement(I.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},g.contact.name,"admin"===q&&l.a.createElement(Ba.a,{title:"Espiar Conversa"},l.a.createElement(Ml.a,{onClick:()=>D(!0),fontSize:"small",style:{color:pn.a[700],cursor:"pointer",marginLeft:10,verticalAlign:"middle"}}))),l.a.createElement(Sl.a,null,l.a.createElement(kl.a,{className:E.ticketInfo1},l.a.createElement(l.a.Fragment,null,g.chatbot&&l.a.createElement(Ba.a,{title:"Chatbot"},l.a.createElement(Il.a,{fontSize:"small",style:{color:un.a[700],marginRight:5}})))))),secondary:l.a.createElement("span",{className:E.contactNameWrapper},l.a.createElement(I.a,{className:E.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"}," ",g.lastMessage.includes("data:image/png;base64")?l.a.createElement(za,null," Localiza\xe7\xe3o"):l.a.createElement(za,null,g.lastMessage),l.a.createElement("span",{className:E.secondaryContentSecond},(null===g||void 0===g||null===(i=g.whatsapp)||void 0===i?void 0:i.name)?l.a.createElement(Y.a,{className:E.connectionTag},null===g||void 0===g||null===(s=g.whatsapp)||void 0===s||null===(m=s.name)||void 0===m?void 0:m.toUpperCase()):l.a.createElement("br",null),x?l.a.createElement(Y.a,{style:{backgroundColor:"#000000"},className:E.connectionTag},x):l.a.createElement("br",null),l.a.createElement(Y.a,{style:{backgroundColor:(null===(d=g.queue)||void 0===d?void 0:d.color)||"#7c7c7c"},className:E.connectionTag},(null===(u=g.queue)||void 0===u||null===(p=u.name)||void 0===p?void 0:p.toUpperCase())||"SEM FILA")),l.a.createElement("span",{style:{paddingTop:"2px"},className:E.secondaryContentSecond},null===A||void 0===A?void 0:A.map(e=>l.a.createElement(gr,{tag:e,key:"ticket-contact-tag-".concat(g.id,"-").concat(e.id)})))),l.a.createElement(Y.a,{className:E.newMessagesCount,badgeContent:g.unreadMessages,classes:{badge:E.badgeStyle}}))}),l.a.createElement(Sl.a,null,g.lastMessage&&l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{className:E.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(wa.a)(Object(Aa.a)(g.updatedAt),new Date)?l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Aa.a)(g.updatedAt),"HH:mm")):l.a.createElement(l.a.Fragment,null,Object(Sa.a)(Object(Aa.a)(g.updatedAt),"dd/MM/yyyy"))),l.a.createElement("br",null))),l.a.createElement("span",{className:E.secondaryContentSecond},"pending"===g.status&&l.a.createElement(Pa,{style:{backgroundColor:"green",color:"white",padding:"0px",bottom:"17px",borderRadius:"0px",left:"8px",fontSize:"0.6rem"},variant:"contained",className:E.acceptButton,size:"small",loading:h,onClick:e=>(async e=>{v(!0);try{await na.put("/tickets/".concat(e),{status:"open",userId:null===F||void 0===F?void 0:F.id})}catch(a){v(!1),Ze(a)}L.current&&v(!1),b.push("/tickets/".concat(g.uuid))})(g.id)},Qe.a.t("ticketsList.buttons.accept")),"closed"!==g.status&&l.a.createElement(Pa,{style:{backgroundColor:"red",color:"white",padding:"0px",bottom:"0px",borderRadius:"0px",left:"8px",fontSize:"0.6rem"},variant:"contained",className:E.acceptButton,size:"small",loading:h,onClick:e=>(async e=>{j(null===g||void 0===g?void 0:g.tags),v(!0);try{var a;await na.put("/tickets/".concat(e),{status:"closed",userId:null===F||void 0===F?void 0:F.id,queueId:null===g||void 0===g||null===(a=g.queue)||void 0===a?void 0:a.id})}catch(t){v(!1),Ze(t)}L.current&&v(!1),b.push("/tickets/")})(g.id)},Qe.a.t("ticketsList.buttons.closed")),"closed"===g.status&&l.a.createElement(Pa,{style:{backgroundColor:"red",color:"white",padding:"0px",bottom:"0px",borderRadius:"0px",left:"8px",fontSize:"0.6rem"},variant:"contained",className:E.acceptButton,size:"small",loading:h,onClick:e=>(async e=>{v(!0);try{var a;await na.put("/tickets/".concat(e),{status:"open",userId:null===F||void 0===F?void 0:F.id,queueId:null===g||void 0===g||null===(a=g.queue)||void 0===a?void 0:a.id})}catch(t){v(!1),Ze(t)}L.current&&v(!1),b.push("/tickets/")})(g.id)},Qe.a.t("ticketsList.buttons.reopen")))),l.a.createElement(T.a,{variant:"inset",component:"li"}))};var fr=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(B.a,{dense:!0},l.a.createElement(Ia.a,null,l.a.createElement(fn.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(H.a,{primary:l.a.createElement(fn.a,{animation:"wave",height:20,width:60}),secondary:l.a.createElement(fn.a,{animation:"wave",height:20,width:90})})),l.a.createElement(T.a,{variant:"inset"}),l.a.createElement(B.a,{dense:!0},l.a.createElement(Ia.a,null,l.a.createElement(fn.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(H.a,{primary:l.a.createElement(fn.a,{animation:"wave",height:20,width:70}),secondary:l.a.createElement(fn.a,{animation:"wave",height:20,width:120})})),l.a.createElement(T.a,{variant:"inset"}),l.a.createElement(B.a,{dense:!0},l.a.createElement(Ia.a,null,l.a.createElement(fn.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(H.a,{primary:l.a.createElement(fn.a,{animation:"wave",height:20,width:60}),secondary:l.a.createElement(fn.a,{animation:"wave",height:20,width:90})})),l.a.createElement(T.a,{variant:"inset"}));const hr=Object(C.a)(e=>({ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:{flex:1,maxHeight:"100%",overflowY:"scroll",...e.scrollbarStyles,borderTop:"2px solid rgba(0, 0, 0, 0.12)"},ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}})),yr=(e,a)=>{if("LOAD_TICKETS"===a.type){return a.payload.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?(e[t]=a,a.unreadMessages>0&&e.unshift(e.splice(t,1)[0])):e.push(a)}),[...e]}if("RESET_UNREAD"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&(e[n].unreadMessages=0),[...e]}if("UPDATE_TICKET"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=t:e.unshift(t),[...e]}if("UPDATE_TICKET_UNREAD_MESSAGES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,e.unshift(e.splice(n,1)[0])):e.unshift(t),[...e]}if("UPDATE_TICKET_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.contactId===t.id);return-1!==n&&(e[n].contact=t),[...e]}if("DELETE_TICKET"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var vr=e=>{const{status:a,searchParam:t,tags:r,users:o,showAll:c,selectedQueueIds:i,updateCount:s,style:m}=e,d=hr(),[u,p]=Object(n.useState)(1),[g,E]=Object(n.useReducer)(yr,[]),{user:b}=Object(n.useContext)(pa),{profile:f,queues:h,allTicket:y}=b;Object(n.useEffect)(()=>{E({type:"RESET"}),p(1)},[a,t,E,c,r,o,i]);const{tickets:v,hasMore:x,loading:C}=_a({pageNumber:u,searchParam:t,status:a,showAll:c,tags:JSON.stringify(r),users:JSON.stringify(o),queueIds:JSON.stringify(i)});Object(n.useEffect)(()=>{const e=h.map(e=>e.id);v.filter(a=>e.indexOf(a.queueId)>-1);console.log(c),console.log(v),E({type:"LOAD_TICKETS",payload:v})},[v,a,t,h,f]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=oa({companyId:e}),n=e=>(!e.userId||e.userId===(null===b||void 0===b?void 0:b.id)||c)&&(!e.queueId||i.indexOf(e.queueId)>-1);return t.on("connect",()=>{a?t.emit("joinTickets",a):t.emit("joinNotification")}),t.on("company-".concat(e,"-ticket"),e=>{var a;"updateUnread"===e.action&&E({type:"RESET_UNREAD",payload:e.ticketId}),"update"===e.action&&n(e.ticket)&&E({type:"UPDATE_TICKET",payload:e.ticket}),"update"===e.action&&((a=e.ticket).queueId&&-1===i.indexOf(a.queueId))&&E({type:"DELETE_TICKET",payload:e.ticket.id}),"delete"===e.action&&E({type:"DELETE_TICKET",payload:e.ticketId})}),t.on("company-".concat(e,"-appMessage"),e=>{var a;const t=h.map(e=>e.id);("user"!==f||-1!==t.indexOf(null===(a=e.ticket.queue)||void 0===a?void 0:a.id)&&null!==e.ticket.queue)&&"create"===e.action&&n(e.ticket)&&E({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:e.ticket})}),t.on("company-".concat(e,"-contact"),e=>{"update"===e.action&&E({type:"UPDATE_TICKET_CONTACT",payload:e.contact})}),()=>{t.disconnect()}},[a,c,b,i,r,o,f,h]),Object(n.useEffect)(()=>{const e=g.filter(e=>!e.isGroup).length;"function"===typeof s&&s(e)},[g,s]);return l.a.createElement(Mt.a,{className:d.ticketsListWrapper,style:m},l.a.createElement(Mt.a,{square:!0,name:"closed",elevation:0,className:d.ticketsList,onScroll:e=>{if(!x||C)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&p(e=>e+1)}},l.a.createElement(w.a,{style:{paddingTop:0}},0!==g.length||C?l.a.createElement(l.a.Fragment,null,g.filter(e=>"false"===e.isGroup.toString()).map(e=>l.a.createElement(br,{ticket:e,key:e.id}))):l.a.createElement("div",{className:d.noTicketsDiv},l.a.createElement("span",{className:d.noTicketsTitle},Qe.a.t("ticketsList.noTicketsTitle")),l.a.createElement("p",{className:d.noTicketsText},Qe.a.t("ticketsList.noTicketsMessage"))),C&&l.a.createElement(fr,null))))};const xr=Object(C.a)(e=>({ticketsListWrapper:{backgroundColor:e.palette.tabHeaderBackground,background:e.palette.optionsBackground,position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:{flex:1,maxHeight:"100%",overflowY:"scroll",...e.scrollbarStyles,borderTop:"2px solid rgba(0, 0, 0, 0.12)"},ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}})),Cr=(e,a)=>{if("LOAD_TICKETS"===a.type){return a.payload.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?(e[t]=a,a.unreadMessages>0&&e.unshift(e.splice(t,1)[0])):e.push(a)}),[...e]}if("RESET_UNREAD"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&(e[n].unreadMessages=0),[...e]}if("UPDATE_TICKET"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=t:e.unshift(t),[...e]}if("UPDATE_TICKET_UNREAD_MESSAGES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,e.unshift(e.splice(n,1)[0])):e.unshift(t),[...e]}if("UPDATE_TICKET_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.contactId===t.id);return-1!==n&&(e[n].contact=t),[...e]}if("DELETE_TICKET"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var Or=e=>{const{status:a,searchParam:t,tags:r,users:o,showAll:c,selectedQueueIds:i,updateCount:s,style:m}=e,d=xr(),[u,p]=Object(n.useState)(1),[g,E]=Object(n.useReducer)(Cr,[]),{user:b}=Object(n.useContext)(pa),{profile:f,queues:h}=b;Object(n.useEffect)(()=>{E({type:"RESET"}),p(1)},[a,t,E,c,r,o,i]);const{tickets:y,hasMore:v,loading:x}=_a({pageNumber:u,searchParam:t,status:a,showAll:c,tags:JSON.stringify(r),users:JSON.stringify(o),queueIds:JSON.stringify(i)});Object(n.useEffect)(()=>{const e=h.map(e=>e.id),a=y.filter(a=>e.indexOf(a.queueId)>-1);E("user"===f?{type:"LOAD_TICKETS",payload:a}:{type:"LOAD_TICKETS",payload:y})},[y,a,t,h,f]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=oa({companyId:e}),n=e=>(!e.userId||e.userId===(null===b||void 0===b?void 0:b.id)||c)&&(!e.queueId||i.indexOf(e.queueId)>-1);return t.on("connect",()=>{a?t.emit("joinTickets",a):t.emit("joinNotification")}),t.on("company-".concat(e,"-ticket"),e=>{var a;"updateUnread"===e.action&&E({type:"RESET_UNREAD",payload:e.ticketId}),"update"===e.action&&n(e.ticket)&&E({type:"UPDATE_TICKET",payload:e.ticket}),"update"===e.action&&((a=e.ticket).queueId&&-1===i.indexOf(a.queueId))&&E({type:"DELETE_TICKET",payload:e.ticket.id}),"delete"===e.action&&E({type:"DELETE_TICKET",payload:e.ticketId})}),t.on("company-".concat(e,"-appMessage"),e=>{var a;const t=h.map(e=>e.id);("user"!==f||-1!==t.indexOf(null===(a=e.ticket.queue)||void 0===a?void 0:a.id)&&null!==e.ticket.queue)&&"create"===e.action&&n(e.ticket)&&E({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:e.ticket})}),t.on("company-".concat(e,"-contact"),e=>{"update"===e.action&&E({type:"UPDATE_TICKET_CONTACT",payload:e.contact})}),()=>{t.disconnect()}},[a,c,b,i,r,o,f,h]),Object(n.useEffect)(()=>{const e=g.filter(e=>e.isGroup).length;"function"===typeof s&&s(e)},[g,s]);return l.a.createElement(Mt.a,{className:d.ticketsListWrapper,style:m},l.a.createElement(Mt.a,{square:!0,name:"closed",elevation:0,className:d.ticketsList,onScroll:e=>{if(!v||x)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&p(e=>e+1)}},l.a.createElement(w.a,{style:{paddingTop:0}},0!==g.length||x?l.a.createElement(l.a.Fragment,null,g.filter(e=>"true"===e.isGroup.toString()).map(e=>l.a.createElement(br,{ticket:e,key:e.id}))):l.a.createElement("div",{className:d.noTicketsDiv},l.a.createElement("span",{className:d.noTicketsTitle},Qe.a.t("ticketsList.noTicketsTitle")),l.a.createElement("p",{className:d.noTicketsText},Qe.a.t("ticketsList.noTicketsMessage"))),x&&l.a.createElement(fr,null))))};var Sr=e=>{let{children:a,value:t,name:n,...r}=e;return t===n?l.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),l.a.createElement(l.a.Fragment,null,a)):null},kr=t(1579);var Tr=e=>{let{userQueues:a,selectedQueueIds:t=[],onChange:n}=e;return l.a.createElement("div",{style:{width:120,marginTop:-4}},l.a.createElement(mt.a,{fullWidth:!0,margin:"dense"},l.a.createElement(ut.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:t,onChange:e=>{n(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>Qe.a.t("ticketsQueueSelect.placeholder")},(null===a||void 0===a?void 0:a.length)>0&&a.map(e=>l.a.createElement(M.a,{dense:!0,key:e.id,value:e.id},l.a.createElement(kr.a,{style:{color:e.color},size:"small",color:"primary",checked:t.indexOf(e.id)>-1}),l.a.createElement(H.a,{primary:e.name}))))))};function wr(e){let{onFiltered:a}=e;const[t,r]=Object(n.useState)([]),[o,c]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await i()}()},[]);const i=async()=>{try{const{data:e}=await na.get("/tags/list");r(e)}catch(e){Ze(e)}};return l.a.createElement(kl.a,{style:{padding:10}},l.a.createElement(bl.a,{multiple:!0,size:"small",options:t,value:o,onChange:(e,t,n)=>(async e=>{c(e),a(e)})(t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(bt.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(it.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Tags"}))}))}function Ar(e){let{onFiltered:a,initialUsers:t}=e;const[r,o]=Object(n.useState)([]),[c,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await s()}()},[]),Object(n.useEffect)(()=>{i([]),Array.isArray(t)&&Array.isArray(r)&&r.length>0&&m(t)},[t,r]);const s=async()=>{try{const{data:e}=await na.get("/users/list"),a=e.map(e=>({id:e.id,name:e.name}));o(a)}catch(e){Ze(e)}},m=async e=>{i(e),a(e)};return l.a.createElement(kl.a,{style:{padding:"0px 10px 10px"}},l.a.createElement(bl.a,{multiple:!0,size:"small",options:r,value:c,onChange:(e,a,t)=>m(a),getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===a||void 0===a?void 0:a.name.toLowerCase()),renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(bt.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(it.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Users"}))}))}const jr=Object(C.a)(e=>({ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{flex:"none",backgroundColor:e.palette.tabHeaderBackground},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:8},tab:{minWidth:70,fontSize:12,marginLeft:0},tabPanelItem:{minWidth:80,fontSize:12,marginLeft:0},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:e.palette.optionsBackground,padding:e.spacing(1)},serachInputWrapper:{flex:1,background:e.palette.total,display:"flex",borderRadius:40,padding:4,marginRight:e.spacing(1)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},badge:{right:"-10px"},show:{display:"block"},hide:{display:"none !important"}}));var Ir=()=>{const e=jr(),a=Object(f.g)(),[t,r]=Object(n.useState)(""),[o,c]=Object(n.useState)("open"),[i,s]=Object(n.useState)("open"),[m,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),g=Object(n.useRef)(),{user:E}=Object(n.useContext)(pa),{profile:b}=E,[h,y]=Object(n.useState)(0),[v,x]=Object(n.useState)(0),C=E.queues.map(e=>e.id),[O,S]=Object(n.useState)(C||[]),[k,T]=Object(n.useState)([]),[w,A]=Object(n.useState)([]);let j;Object(n.useEffect)(()=>{"ADMIN"!==E.profile.toUpperCase()&&"enabled"!==E.allUserChat||p(!0)},[]),Object(n.useEffect)(()=>{"search"===o&&g.current.focus()},[o]);const I=(e,a)=>{s(a)},N=e=>{if(i!==e)return{width:0,height:0}};return l.a.createElement(Mt.a,{elevation:0,variant:"outlined",className:e.ticketsWrapper},l.a.createElement(Ol,{modalOpen:m,onClose:e=>{console.log("ticket",e),(e=>{d(!1),void 0!==e&&void 0!==e.uuid&&a.push("/tickets/".concat(e.uuid))})(e)}}),l.a.createElement(Mt.a,{elevation:0,square:!0,className:e.tabsHeader},l.a.createElement(nl.a,{value:o,onChange:(e,a)=>{c(a)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon label tabs example"},l.a.createElement(ll.a,{value:"open",icon:l.a.createElement(ol.a,null),label:Qe.a.t("tickets.tabs.open.title"),classes:{root:e.tab}}),l.a.createElement(ll.a,{value:"closed",icon:l.a.createElement(il.a,null),label:Qe.a.t("tickets.tabs.closed.title"),classes:{root:e.tab}}),l.a.createElement(ll.a,{value:"group",icon:l.a.createElement(ml.a,null),label:"Grupos",classes:{root:e.tab}}),l.a.createElement(ll.a,{value:"search",icon:l.a.createElement(al.a,null),label:Qe.a.t("tickets.tabs.search.title"),classes:{root:e.tab}}))),l.a.createElement(Mt.a,{square:!0,elevation:0,className:e.ticketOptionsBox},"search"===o?l.a.createElement("div",{className:e.serachInputWrapper},l.a.createElement(ul.a,{className:e.searchIcon}),l.a.createElement(tl.a,{className:e.searchInput,inputRef:g,placeholder:Qe.a.t("tickets.search.placeholder"),type:"search",onChange:e=>{const a=e.target.value.toLowerCase();if(clearTimeout(j),""===a)return r(a),void c("open");j=setTimeout(()=>{r(a)},500)}})):l.a.createElement(l.a.Fragment,null,l.a.createElement(Ma.a,{variant:"outlined",color:"primary",onClick:()=>d(!0)},Qe.a.t("ticketsManager.buttons.newTicket")),l.a.createElement(ba,{role:"enabled"===E.allUserChat&&"user"===E.profile?"admin":E.profile,perform:"tickets-manager:showall",yes:()=>l.a.createElement(pl.a,{label:Qe.a.t("tickets.buttons.showAll"),labelPlacement:"start",control:l.a.createElement(gl.a,{size:"small",checked:u,onChange:()=>p(e=>!e),name:"showAllTickets",color:"primary"})})})),l.a.createElement(Tr,{style:{marginLeft:6},selectedQueueIds:O,userQueues:null===E||void 0===E?void 0:E.queues,onChange:e=>S(e)})),l.a.createElement(Sr,{value:o,name:"open",className:e.ticketsWrapper},l.a.createElement(nl.a,{value:i,onChange:I,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(ll.a,{label:l.a.createElement(Y.a,{className:e.badge,badgeContent:h,color:"primary"},Qe.a.t("ticketsList.assignedHeader")),value:"open",name:"open",classes:{root:e.tabPanelItem}}),l.a.createElement(ll.a,{label:l.a.createElement(Y.a,{className:e.badge,badgeContent:v,color:"secondary"},Qe.a.t("ticketsList.pendingHeader")),value:"pending",name:"pending",classes:{root:e.tabPanelItem}})),l.a.createElement(Mt.a,{className:e.ticketsWrapper},l.a.createElement(vr,{status:"open",showAll:u,selectedQueueIds:O,updateCount:e=>y(e),style:N("open")}),l.a.createElement(vr,{status:"pending",showAll:u,selectedQueueIds:O,updateCount:e=>x(e),style:N("pending")}))),l.a.createElement(Sr,{value:o,name:"group",className:e.ticketsWrapper},l.a.createElement(nl.a,{value:i,onChange:I,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},l.a.createElement(ll.a,{label:l.a.createElement(Y.a,{className:e.badge,badgeContent:h,color:"primary"},Qe.a.t("ticketsList.assignedHeader")),value:"open"}),l.a.createElement(ll.a,{label:l.a.createElement(Y.a,{className:e.badge,badgeContent:v,color:"primary"},Qe.a.t("ticketsList.pendingHeader")),value:"pending"})),l.a.createElement(Mt.a,{className:e.ticketsWrapper},l.a.createElement(Or,{status:"open",showAll:u,selectedQueueIds:O,updateCount:e=>y(e),style:N("open")}),l.a.createElement(Or,{status:"pending",selectedQueueIds:O,updateCount:e=>x(e),style:N("pending")}))),l.a.createElement(Sr,{value:o,name:"closed",className:e.ticketsWrapper},l.a.createElement(vr,{status:"closed",showAll:!0,selectedQueueIds:O}),l.a.createElement(Or,{status:"closed",showAll:!0,selectedQueueIds:O})),l.a.createElement(Sr,{value:o,name:"search",className:e.ticketsWrapper},l.a.createElement(wr,{onFiltered:e=>{const a=e.map(e=>e.id);T(a)}}),"admin"===b&&l.a.createElement(Ar,{onFiltered:e=>{const a=e.map(e=>e.id);A(a)}}),l.a.createElement(vr,{searchParam:t,showAll:!0,tags:k,users:w,selectedQueueIds:O})))},Nr=t(878),Mr=t.n(Nr),Rr=t(1539),Dr=t(879),Pr=t.n(Dr);var Lr=e=>{let{classes:a}=e;return l.a.createElement("div",{className:a.content},l.a.createElement(Mt.a,{square:!0,variant:"outlined",className:a.contactHeader},l.a.createElement($a.a,{container:!0},l.a.createElement($a.a,{item:!0},l.a.createElement(fn.a,{animation:"wave",variant:"circle",width:160,height:160,className:a.contactAvatar})),l.a.createElement($a.a,{item:!0},l.a.createElement(fn.a,{animation:"wave",height:25,width:90}),l.a.createElement(fn.a,{animation:"wave",height:25,width:80}),l.a.createElement(fn.a,{animation:"wave",height:25,width:80})))),l.a.createElement(Mt.a,{square:!0,className:a.contactDetails},l.a.createElement(I.a,{variant:"subtitle1"},Qe.a.t("contactDrawer.extraInfo")),l.a.createElement(Mt.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},l.a.createElement(fn.a,{animation:"wave",height:20,width:60}),l.a.createElement(fn.a,{animation:"wave",height:20,width:160})),l.a.createElement(Mt.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},l.a.createElement(fn.a,{animation:"wave",height:20,width:60}),l.a.createElement(fn.a,{animation:"wave",height:20,width:160})),l.a.createElement(Mt.a,{square:!0,variant:"outlined",className:a.contactExtraInfo},l.a.createElement(fn.a,{animation:"wave",height:20,width:60}),l.a.createElement(fn.a,{animation:"wave",height:20,width:160}))))};const Wr=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textCenter:{backgroundColor:"red"}})),Fr=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:nt.f().min(8,"Too Short!").max(50,"Too Long!"),email:nt.f().email("Invalid email")});function qr(e){let{initialContact:a,onSave:t,onCancel:r}=e;const o=Wr(),[c,i]=Object(n.useState)(a);Object(n.useEffect)(()=>{i(a)},[a]);return l.a.createElement(lt.e,{initialValues:c,enableReinitialize:!0,validationSchema:Fr,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(c.id)await na.put("/contacts/".concat(c.id),e);else{const{data:a}=await na.post("/contacts",e);t&&t(a)}h.b.success(Qe.a.t("contactModal.success"))}catch(a){Ze(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:i}=e;return l.a.createElement(lt.d,null,l.a.createElement($a.a,{container:!0,spacing:1},l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:o.textField,fullWidth:!0})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),l.a.createElement($a.a,{item:!0,xs:12,spacing:1},l.a.createElement($a.a,{container:!0,spacing:1},l.a.createElement($a.a,{xs:6,item:!0},l.a.createElement(Ma.a,{onClick:r,color:"secondary",disabled:i,variant:"outlined",fullWidth:!0},Qe.a.t("contactModal.buttons.cancel"))),l.a.createElement($a.a,{classes:o.textCenter,xs:6,item:!0},l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:o.btnWrapper,fullWidth:!0},c.id?"".concat(Qe.a.t("contactModal.buttons.okEdit")):"".concat(Qe.a.t("contactModal.buttons.okAdd")),i&&l.a.createElement(Ra.a,{size:24,className:o.buttonProgress})))))))})}var zr=t(331),Br=t.n(zr);const Ur=Object(C.a)(e=>({inline:{width:"100%"}}));function Hr(e){const{note:a,deleteItem:t}=e,n=Ur();return l.a.createElement(B.a,{alignItems:"flex-start"},l.a.createElement(Ia.a,null,l.a.createElement(Na.a,{alt:a.user.name,src:"/static/images/avatar/1.jpg"})),l.a.createElement(H.a,{primary:l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{component:"span",variant:"body2",className:n.inline,color:"textPrimary"},a.note)),secondary:l.a.createElement(l.a.Fragment,null,a.user.name,", ",x()(a.createdAt).format("DD/MM/YY HH:mm"))}),l.a.createElement(Sl.a,null,l.a.createElement(k.a,{onClick:()=>{t(a)},edge:"end","aria-label":"delete"},l.a.createElement(Br.a,null))))}var _r=()=>({saveNote:async e=>{const{data:a}=await na.request({url:"/ticket-notes",method:"POST",data:e});return a},deleteNote:async e=>{const{data:a}=await na.request({url:"/ticket-notes/".concat(e),method:"DELETE"});return a},listNotes:async e=>{const{data:a}=await na.request({url:"/ticket-notes/list",method:"GET",params:e});return a}});const Vr=Object(C.a)(e=>({root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:e.palette.background.paper,overflow:"auto"},inline:{width:"100%"}})),Yr=nt.d().shape({note:nt.f().min(2,"Too Short!").required("Required")});function Gr(e){let{ticket:a}=e;const{id:t,contactId:r}=a,o=Vr(),[c,i]=Object(n.useState)({note:""}),[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)([]),{saveNote:f,deleteNote:y,listNotes:v}=_r();Object(n.useEffect)(()=>{!async function(){x(),await S()}()},[]);const x=()=>{i({note:""}),m(!1)},C=e=>{i({note:e.target.value})},O=e=>{g(e),u(!0)},S=async()=>{m(!0);try{const e=await v({ticketId:t,contactId:r});b(e)}catch(e){h.b.error(e)}m(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(_l,{title:"Excluir Registro",open:d,onClose:u,onConfirm:async()=>{m(!0);try{await y(p.id),await S(),g({}),h.b.success("Observa\xe7\xe3o exclu\xedda com sucesso!")}catch(e){h.b.error(e)}m(!1)}},"Deseja realmente excluir este registro?"),l.a.createElement(lt.e,{initialValues:c,enableReinitialize:!0,validationSchema:Yr,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{m(!0);try{await f({...e,ticketId:t,contactId:r}),await S(),i({note:""}),h.b.success("Observa\xe7\xe3o adicionada com sucesso!")}catch(a){h.b.error(a)}m(!1)})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,setErrors:n}=e;return l.a.createElement(lt.d,null,l.a.createElement($a.a,{container:!0,spacing:2},l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(lt.b,{as:it.a,name:"note",rows:3,label:Qe.a.t("ticketOptionsMenu.appointmentsModal.textarea"),placeholder:Qe.a.t("ticketOptionsMenu.appointmentsModal.placeholder"),multiline:!0,error:a.note&&Boolean(t.note),helperText:a.note&&t.note,variant:"outlined",onChange:C,fullWidth:!0})),E.length>0&&l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(w.a,{className:o.list},E.map(e=>l.a.createElement(Hr,{note:e,key:e.id,deleteItem:O})))),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement($a.a,{container:!0,spacing:2},l.a.createElement($a.a,{xs:6,item:!0},l.a.createElement(Ma.a,{onClick:()=>{i(""),n({})},color:"primary",variant:"outlined",fullWidth:!0},"Cancelar")),l.a.createElement($a.a,{xs:6,item:!0},l.a.createElement(Pa,{loading:s,color:"primary",type:"submit",variant:"contained",autoFocus:!0,fullWidth:!0},"Salvar"))))))}))}const Qr=Object(C.a)(e=>({drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee",alignItems:"center",padding:e.spacing(0,1),minHeight:"73px",justifyContent:"flex-start"},content:{display:"flex",backgroundColor:"#eee",flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",overflowY:"scroll",...e.scrollbarStyles},contactAvatar:{margin:15,width:160,height:160,borderRadius:10},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}));var Kr=e=>{var a;let{open:t,handleDrawerClose:r,contact:o,ticket:c,loading:i}=e;const s=Qr(),[m,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{p(!1)},[t,o]),l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{className:s.drawer,variant:"persistent",anchor:"right",open:t,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:s.drawerPaper}},l.a.createElement("div",{className:s.header},l.a.createElement(k.a,{onClick:r},l.a.createElement(Mr.a,null)),l.a.createElement(I.a,{style:{justifySelf:"center"}},Qe.a.t("contactDrawer.header"))),i?l.a.createElement(Lr,{classes:s}):l.a.createElement("div",{className:s.content},l.a.createElement(Mt.a,{square:!0,variant:"outlined",className:s.contactHeader},l.a.createElement(bn.a,{onClick:()=>{},style:{cursor:"pointer",width:"100%"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:l.a.createElement(Na.a,{src:o.profilePicUrl,alt:"contact_image",style:{width:60,height:60}}),title:l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{onClick:()=>p(!0)},o.name,l.a.createElement(Pr.a,{style:{fontSize:16,marginLeft:5}}))),subheader:l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{style:{fontSize:12}},l.a.createElement(Rr.a,{href:"tel:".concat(o.number)},o.number)),l.a.createElement(I.a,{style:{fontSize:12}},l.a.createElement(Rr.a,{href:"mailto:".concat(o.email)},o.email)))}),l.a.createElement(Ma.a,{variant:"outlined",color:"primary",onClick:()=>d(!u),style:{fontSize:12}},Qe.a.t("contactDrawer.buttons.edit")),o.id&&u&&l.a.createElement(qr,{initialContact:o,onCancel:()=>p(!1)})),l.a.createElement(Mt.a,{square:!0,variant:"outlined",className:s.contactDetails},l.a.createElement(I.a,{variant:"subtitle1",style:{marginBottom:10}},Qe.a.t("ticketOptionsMenu.appointmentsModal.title")),l.a.createElement(Gr,{ticket:c})),l.a.createElement(Mt.a,{square:!0,variant:"outlined",className:s.contactDetails},l.a.createElement(xl,{open:m,onClose:()=>d(!1),contactId:o.id}),l.a.createElement(I.a,{variant:"subtitle1"},Qe.a.t("contactDrawer.extraInfo")),null===o||void 0===o||null===(a=o.extraInfo)||void 0===a?void 0:a.map(e=>l.a.createElement(Mt.a,{key:e.id,square:!0,variant:"outlined",className:s.contactExtraInfo},l.a.createElement(dt.a,null,e.name),l.a.createElement(I.a,{component:"div",noWrap:!0,style:{paddingTop:2}},l.a.createElement(za,null,e.value))))))))},Xr=(t(1264),t(921)),Jr=t(880),Zr=t.n(Jr),$r=t(333),eo=t.n($r),ao=t(881),to=t.n(ao),no=t(521),lo=t.n(no),ro=t(883),oo=t.n(ro),co=t(882),io=t.n(co),so=t(520),mo=t.n(so);const uo=Object(C.a)(e=>({timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}));var po=()=>{const e=uo(),[a,t]=Object(n.useState)({minutes:0,seconds:0});Object(n.useEffect)(()=>{const e=setInterval(()=>t(e=>59===e.seconds?{...e,minutes:e.minutes+1,seconds:0}:{...e,seconds:e.seconds+1}),1e3);return()=>{clearInterval(e)}},[]);const r=e=>e<10?"0"+e:e;return l.a.createElement("div",{className:e.timerBox},l.a.createElement("span",null,"".concat(r(a.minutes),":").concat(r(a.seconds))))};var go=()=>({save:async e=>{const{data:a}=await na.request({url:"/quick-messages",method:"POST",data:e});return a},update:async e=>{const{data:a}=await na.request({url:"/quick-messages/".concat(e.id),method:"PUT",data:e});return a},deleteRecord:async e=>{const{data:a}=await na.request({url:"/quick-messages/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await na.request({url:"/quick-messages/list",method:"GET",params:e});return a}});const Eo=new Zr.a({bitRate:128}),bo=Object(C.a)(e=>({mainWrapper:{background:e.palette.tabHeaderBackground,display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)",[e.breakpoints.down("sm")]:{position:"fixed",bottom:0,width:"100%"}},newMessageBox:{background:e.palette.tabHeaderBackground,width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:e.palette.total,display:"flex",borderRadius:20,flex:1},messageInput:{paddingLeft:10,flex:1,border:"none"},sendMessageIcons:{color:e.palette.messageIcons},uploadInput:{display:"none"},viewMediaInputWrapper:{display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:e.palette.tabHeaderBackground,borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:ja.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:ja.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500}})),fo=e=>{const{disabled:a,showEmoji:t,setShowEmoji:n,handleAddEmoji:r}=e,o=bo();return l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{"aria-label":"emojiPicker",component:"span",disabled:a,onClick:e=>n(e=>!e)},l.a.createElement(to.a,{className:o.sendMessageIcons})),t?l.a.createElement("div",{className:o.emojiBox},l.a.createElement(Xr.a,{perLine:16,showPreview:!1,showSkinTones:!1,onSelect:r})):null)},ho=e=>{const{width:a,setSignMessage:t,signMessage:n}=e;return Object($n.b)("md",a)?l.a.createElement(pl.a,{style:{marginRight:7,color:"gray"},label:Qe.a.t("messagesInput.signMessage"),labelPlacement:"start",control:l.a.createElement(gl.a,{size:"small",checked:n,onChange:e=>{t(e.target.checked)},name:"showAllTickets",color:"primary"})}):null},yo=e=>{const{handleChangeMedias:a,disableOption:t}=e,n=bo();return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:t(),className:n.uploadInput,onChange:a}),l.a.createElement("label",{htmlFor:"upload-button"},l.a.createElement(k.a,{"aria-label":"upload",component:"span",disabled:t()},l.a.createElement(eo.a,{className:n.sendMessageIcons}))))},vo=e=>{const{inputMessage:a,loading:t,recording:n,ticketStatus:r,handleSendMessage:o,handleCancelAudio:c,handleUploadAudio:i,handleStartRecording:s}=e,m=bo();return a?l.a.createElement(k.a,{"aria-label":"sendMessage",component:"span",onClick:o,disabled:t},l.a.createElement(He.a,{className:m.sendMessageIcons})):n?l.a.createElement("div",{className:m.recorderWrapper},l.a.createElement(k.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:t,onClick:c},l.a.createElement(mo.a,{className:m.cancelAudioIcon})),t?l.a.createElement("div",null,l.a.createElement(Ra.a,{className:m.audioLoading})):l.a.createElement(po,null),l.a.createElement(k.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:i,disabled:t},l.a.createElement(io.a,{className:m.sendAudioIcon}))):l.a.createElement(k.a,{"aria-label":"showRecorder",component:"span",disabled:t||"open"!==r,onClick:s},l.a.createElement(oo.a,{className:m.sendMessageIcons}))},xo=e=>{const{loading:a,inputRef:t,ticketStatus:r,inputMessage:o,setInputMessage:c,handleSendMessage:i,handleInputPaste:s,disableOption:m}=e,d=bo(),[u,p]=Object(n.useState)([]),[g,E]=Object(n.useState)([]),[b,f]=Object(n.useState)(!1),{user:h}=Object(n.useContext)(pa),{list:y}=go();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId"),a=(await y({companyId:e,userId:h.id})).map(e=>{let a=e.message;return Object(Je.isString)(a)&&a.length>35&&(a=e.message.substring(0,35)+"..."),{value:e.message,label:"/".concat(e.shortcode," - ").concat(a)}});p(a)}()},[]),Object(n.useEffect)(()=>{if(Object(Je.isString)(o)&&!Object(Je.isEmpty)(o)&&o.length>1){const e=o.charAt(0);f(e.indexOf("/")>-1);const a=u.filter(e=>e.label.indexOf(o)>-1);E(a)}else f(!1)},[o]);const v=e=>{e&&(e.focus(),t.current=e)};return l.a.createElement("div",{className:d.messageInputWrapper},l.a.createElement(bl.a,{freeSolo:!0,open:b,id:"grouped-demo",value:o,options:g,closeIcon:null,getOptionLabel:e=>Object(Je.isObject)(e)?e.label:e,onChange:(e,a)=>{Object(Je.isObject)(a)&&Object(Je.has)(a,"value")&&(c(a.value),setTimeout(()=>{t.current.scrollTop=t.current.scrollHeight},200))},onInputChange:(e,a,t)=>{"input"===t&&c(e.target.value)},onPaste:e=>{"open"===r&&s(e)},onKeyPress:e=>{a||e.shiftKey||"Enter"===e.key&&i()},style:{width:"100%"},renderInput:e=>{const{InputLabelProps:a,InputProps:t,...n}=e;return l.a.createElement(tl.a,Object.assign({},e.InputProps,n,{disabled:m(),inputRef:v,placeholder:"open"===r?Qe.a.t("messagesInput.placeholderOpen"):Qe.a.t("messagesInput.placeholderClosed"),multiline:!0,className:d.messageInput,maxRows:5}))}}))};var Co=Object($n.a)()(e=>{var a;const{ticketStatus:t,ticketId:r}=e,o=bo(),[c,i]=Object(n.useState)([]),[s,m]=Object(n.useState)(""),[d,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(!1),f=Object(n.useRef)(),{setReplyingMessage:h,replyingMessage:v}=Object(n.useContext)(Vl),{user:x}=Object(n.useContext)(pa),[C,O]=Object(n.useState)();Object(n.useEffect)(()=>{!async function(){const{data:e}=await na.get("/settings/sendSignMessage");"disabled"===e.value?O(!1):O(!0)}()},[]),Object(n.useEffect)(()=>{f.current.focus()},[v]),Object(n.useEffect)(()=>(f.current.focus(),()=>{m(""),u(!1),i([]),h(null)}),[r,h]);const S=e=>{let a=e.native;m(e=>e+a)},T=e=>{if(!e.target.files)return;const a=Array.from(e.target.files);i(a)},w=e=>{e.clipboardData.files[0]&&i([e.clipboardData.files[0]])},A=async()=>{if(""===s.trim())return;g(!0);const e={read:1,fromMe:!0,mediaUrl:"",body:C?"*".concat(null===x||void 0===x?void 0:x.name,":*\n").concat(s.trim()):s.trim(),quotedMsg:v};try{await na.post("/messages/".concat(r),e)}catch(a){Ze(a)}m(""),u(!1),g(!1),h(null)},j=async()=>{g(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0}),await Eo.start(),b(!0),g(!1)}catch(e){Ze(e),g(!1)}},I=async()=>{g(!0);try{const[,e]=await Eo.stop().getMp3();if(e.size<1e4)return g(!1),void b(!1);const a=new FormData,t="audio-record-site-".concat((new Date).getTime(),".mp3");a.append("medias",e,t),a.append("body",t),a.append("fromMe",!0),await na.post("/messages/".concat(r),a)}catch(e){Ze(e)}b(!1),g(!1)},N=async()=>{try{await Eo.stop().getMp3(),b(!1)}catch(e){Ze(e)}},M=()=>p||E||"open"!==t;return c.length>0?l.a.createElement(Mt.a,{elevation:0,square:!0,className:o.viewMediaInputWrapper},l.a.createElement(k.a,{"aria-label":"cancel-upload",component:"span",onClick:e=>i([])},l.a.createElement(lo.a,{className:o.sendMessageIcons})),p?l.a.createElement("div",null,l.a.createElement(Ra.a,{className:o.circleLoading})):l.a.createElement("span",null,null===(a=c[0])||void 0===a?void 0:a.name),l.a.createElement(k.a,{"aria-label":"send-upload",component:"span",onClick:async e=>{g(!0),e.preventDefault();const a=new FormData;a.append("fromMe",!0),c.forEach(e=>{a.append("medias",e),a.append("body",e.name)});try{await na.post("/messages/".concat(r),a)}catch(t){Ze(t)}g(!1),i([])},disabled:p},l.a.createElement(He.a,{className:o.sendMessageIcons}))):l.a.createElement(Mt.a,{square:!0,elevation:0,className:o.mainWrapper},v&&(e=>{var a;return l.a.createElement("div",{className:o.replyginMsgWrapper},l.a.createElement("div",{className:o.replyginMsgContainer},l.a.createElement("span",{className:Object(y.a)(o.replyginContactMsgSideColor,{[o.replyginSelfMsgSideColor]:!e.fromMe})}),l.a.createElement("div",{className:o.replyginMsgBody},!e.fromMe&&l.a.createElement("span",{className:o.messageContactName},null===(a=e.contact)||void 0===a?void 0:a.name),e.body)),l.a.createElement(k.a,{"aria-label":"showRecorder",component:"span",disabled:p||"open"!==t,onClick:()=>h(null)},l.a.createElement(ln.a,{className:o.sendMessageIcons})))})(v),l.a.createElement("div",{className:o.newMessageBox},l.a.createElement(fo,{disabled:M(),handleAddEmoji:S,showEmoji:d,setShowEmoji:u}),l.a.createElement(yo,{disableOption:M,handleChangeMedias:T}),C&&l.a.createElement(ho,{width:e.width,setSignMessage:O,signMessage:C}),l.a.createElement(xo,{loading:p,inputRef:f,ticketStatus:t,inputMessage:s,setInputMessage:m,handleSendMessage:A,handleInputPaste:w,disableOption:M}),l.a.createElement(vo,{inputMessage:s,loading:p,recording:E,ticketStatus:t,handleSendMessage:A,handleCancelAudio:N,handleUploadAudio:I,handleStartRecording:j})))}),Oo=t(1541);var So=()=>({findAll:async()=>{const{data:e}=await na.get("/queue");return e}});const ko=Object(C.a)(e=>({maxWidth:{width:"100%"}})),To=Object(El.a)({trim:!0});var wo=e=>{let{modalOpen:a,onClose:t,ticketid:r}=e;const o=Object(f.g)(),[c,i]=Object(n.useState)([]),[s,m]=Object(n.useState)([]),[d,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(""),[h,y]=Object(n.useState)(null),[v,x]=Object(n.useState)(""),C=ko(),{findAll:O}=So(),S=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{S.current=!1},[]),Object(n.useEffect)(()=>{if(S.current){(async()=>{const e=await O();u(e),m(e)})()}},[]),Object(n.useEffect)(()=>{if(!a||E.length<3)return void g(!1);const e=setTimeout(()=>{g(!0);(async()=>{try{const{data:e}=await na.get("/users/",{params:{searchParam:E}});i(e.users),g(!1)}catch(e){g(!1),Ze(e)}})()},500);return()=>clearTimeout(e)},[E,a]);const k=()=>{t(),b(""),y(null)};return l.a.createElement(rt.a,{open:a,onClose:k,maxWidth:"lg",scroll:"paper"},l.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),r&&v&&""!==v){g(!0);try{let e={};h&&(e.userId=h.id),v&&null!==v&&(e.queueId=v,h||(e.status="pending",e.userId=null)),await na.put("/tickets/".concat(r),e),o.push("/tickets")}catch(a){g(!1),Ze(a)}}}},l.a.createElement(ot.a,{id:"form-dialog-title"},Qe.a.t("transferTicketModal.title")),l.a.createElement(ct.a,{dividers:!0},l.a.createElement(bl.a,{style:{width:300,marginBottom:20},getOptionLabel:e=>"".concat(e.name),onChange:(e,a)=>{y(a),null!=a&&Array.isArray(a.queues)?m(a.queues):(m(d),x(""))},options:c,filterOptions:To,freeSolo:!0,autoHighlight:!0,noOptionsText:Qe.a.t("transferTicketModal.noOptions"),loading:p,renderInput:e=>l.a.createElement(it.a,Object.assign({},e,{label:Qe.a.t("transferTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>b(e.target.value),InputProps:{...e.InputProps,endAdornment:l.a.createElement(l.a.Fragment,null,p?l.a.createElement(Ra.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))}),l.a.createElement(mt.a,{variant:"outlined",className:C.maxWidth},l.a.createElement(dt.a,null,Qe.a.t("transferTicketModal.fieldQueueLabel")),l.a.createElement(ut.a,{value:v,onChange:e=>x(e.target.value),label:Qe.a.t("transferTicketModal.fieldQueuePlaceholder")},s.map(e=>l.a.createElement(M.a,{key:e.id,value:e.id},e.name))))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:k,color:"secondary",disabled:p,variant:"outlined"},Qe.a.t("transferTicketModal.buttons.cancel")),l.a.createElement(Pa,{variant:"contained",type:"submit",color:"primary",loading:p},Qe.a.t("transferTicketModal.buttons.ok")))))};const Ao=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),jo=nt.d().shape({body:nt.f().min(5,"Mensagem muito curta").required("Obrigat\xf3rio"),contactId:nt.c().required("Obrigat\xf3rio"),sendAt:nt.f().required("Obrigat\xf3rio")});var Io=e=>{let{open:a,onClose:t,scheduleId:r,contactId:o,cleanContact:c,reload:i}=e;const s=Ao(),m=Object(f.g)(),{user:d}=Object(n.useContext)(pa),u={body:"",contactId:"",sendAt:x()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),sentAt:""},p={id:"",name:""},[g,E]=Object(n.useState)(u),[b,y]=Object(n.useState)(p),[v,C]=Object(n.useState)([p]);Object(n.useEffect)(()=>{if(o&&v.length){const e=v.find(e=>e.id===o);e&&y(e)}},[o,v]),Object(n.useEffect)(()=>{const{companyId:e}=d;if(a)try{(async()=>{const{data:a}=await na.get("/contacts/list",{params:{companyId:e}});let t=a.map(e=>({id:e.id,name:e.name}));if(Object(Je.isArray)(t)&&C([{id:"",name:""},...t]),o&&E(e=>({...e,contactId:o})),!r)return;const{data:n}=await na.get("/schedules/".concat(r));E(e=>({...e,...n,sendAt:x()(n.sendAt).format("YYYY-MM-DDTHH:mm")})),y(n.contact)})()}catch(t){Ze(t)}},[r,o,a,d]);const O=()=>{t(),E(u)};return l.a.createElement("div",{className:s.root},l.a.createElement(rt.a,{open:a,onClose:O,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"ERRO"===g.status?"Erro de Envio":"Mensagem ".concat(Object(Je.capitalize)(g.status))),l.a.createElement(lt.e,{initialValues:g,enableReinitialize:!0,validationSchema:jo,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,userId:d.id};try{r?await na.put("/schedules/".concat(r),a):await na.post("/schedules",a),h.b.success(Qe.a.t("scheduleModal.success")),"function"==typeof i&&i(),o&&"function"===typeof c&&(c(),m.push("/schedules"))}catch(t){Ze(t)}y(p),E(u),O()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:o}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement("div",{className:s.multFieldLine},l.a.createElement(mt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(bl.a,{fullWidth:!0,value:b,options:v,onChange:(e,a)=>{const t=a?a.id:"";E({...g,contactId:t}),y(a||p)},getOptionLabel:e=>e.name,getOptionSelected:(e,a)=>a.id===e.id,renderInput:e=>l.a.createElement(it.a,Object.assign({},e,{variant:"outlined",placeholder:"Contato"}))}))),l.a.createElement("br",null),l.a.createElement("div",{className:s.multFieldLine},l.a.createElement(lt.b,{as:it.a,rows:9,multiline:!0,label:Qe.a.t("scheduleModal.form.body"),name:"body",error:a.body&&Boolean(t.body),helperText:a.body&&t.body,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("br",null),l.a.createElement("div",{className:s.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("scheduleModal.form.sendAt"),type:"datetime-local",name:"sendAt",InputLabelProps:{shrink:!0},error:a.sendAt&&Boolean(t.sendAt),helperText:a.sendAt&&t.sendAt,variant:"outlined",fullWidth:!0}))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:O,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("scheduleModal.buttons.cancel")),(null===g.sentAt||""===g.sentAt)&&l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:s.btnWrapper},"".concat(r?Qe.a.t("scheduleModal.buttons.okEdit"):Qe.a.t("scheduleModal.buttons.okAdd")),n&&l.a.createElement(Ra.a,{size:24,className:s.buttonProgress}))))})))};var No=()=>({getAll:async e=>{const{data:a}=await na.request({url:"/settings",method:"GET",params:e});return a},update:async e=>{const{data:a}=await na.request({url:"/settings/".concat(e.key),method:"PUT",data:e});return a}}),Mo=t(885),Ro=t.n(Mo),Do=t(884),Po=t.n(Do);const Lo=Object(C.a)(e=>({actionButtons:{marginRight:6,flex:"none",alignSelf:"center",marginLeft:"auto",display:"flex","& > *":{margin:e.spacing(1)}},bottomButtonVisibilityIcon:{padding:1},botoes:{display:"flex",padding:"15px",justifyContent:"flex-end"}})),Wo=nt.d().shape({ratingId:nt.f().required("Avalia\xe7\xe3o obrigat\xf3ria")});var Fo=e=>{let{ticket:a}=e;const t=Lo(),r=Object(f.g)(),o=Object(n.useRef)(!0),[c,i]=Object(n.useState)(null),[s,m]=Object(n.useState)(!1),{user:d}=(Boolean(c),Object(n.useContext)(pa)),{setCurrentTicket:p}=Object(n.useContext)(Tl),[g,E]=Object(n.useState)({ratingId:""}),[b,h]=Object(n.useState)([]),[y,v]=l.a.useState(!1),x=l.a.useRef(null),[C,O]=Object(n.useState)(!1),[S,T]=Object(n.useState)(!1),[w,A]=Object(n.useState)(!1),[j,I]=Object(n.useState)(null),[N,R]=Object(n.useState)(a.contact.acceptAudioMessage),[D,P]=Object(n.useState)(!1),[L,W]=Object(n.useState)(!1),{getAll:F}=No(),{getPlanCompany:q}=fa();Object(n.useEffect)(()=>{!async function(){"enabled"===(await F()).find(e=>"userRating"===e.key).value&&W(!0)}()},[]);Object(u.a)({palette:{primary:ja.a}});Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId"),a=await q(void 0,e);P(a.plan.useSchedules)}()},[]);const z=()=>{x.current.resetForm(),v(!1)},B=e=>{O(!0),z()},U=async(e,t,n)=>{m(!0);try{await na.put("/tickets/".concat(a.id),{status:t,userId:n||null}),m(!1),"open"===t?p({...a,code:"#open"}):(p({id:null,code:null}),r.push("/tickets"))}catch(l){m(!1),Ze(l)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t.actionButtons},"closed"===a.status&&l.a.createElement(Pa,{loading:s,startIcon:l.a.createElement(Oo.a,null),size:"small",onClick:e=>U(0,"open",null===d||void 0===d?void 0:d.id)},Qe.a.t("messagesList.header.buttons.reopen")),"open"===a.status&&l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ba.a,{title:Qe.a.t("messagesList.header.buttons.resolve")},l.a.createElement(mo.a,{color:"primary",onClick:async e=>{"enabled"===(await F()).find(e=>"userRating"===e.key).value?(E({ratingId:""}),await(async()=>{try{const{data:e}=await na.get("/ratings/list");h(e)}catch(e){Ze(e)}})(),v(!0)):v(!0)}}))),l.a.createElement(k.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ba.a,{title:"Devolver a Fila"},l.a.createElement(Po.a,{color:"primary",onClick:e=>U(0,"pending",null)}))),l.a.createElement(k.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ba.a,{title:"Transferir Atendimento"},l.a.createElement(Ro.a,{color:"primary",onClick:e=>{T(!0),z()}}))),D&&l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ba.a,{title:"Agendamento"},l.a.createElement(ge.a,{color:"primary",onClick:()=>{z(),I(a.contact.id),A(!0)}})))),l.a.createElement(M.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ba.a,{title:Qe.a.t("ticketOptionsMenu.acceptAudioMessage")},l.a.createElement(gl.a,{size:"small",color:"primary",checked:N,onChange:()=>(async()=>{try{const e=await na.put("/contacts/toggleAcceptAudio/".concat(a.contact.id));R(e.data.acceptAudioMessage)}catch(e){Ze(e)}})()}))),l.a.createElement(ba,{role:d.profile,perform:"ticket-options:deleteTicket",yes:()=>l.a.createElement(k.a,{className:t.bottomButtonVisibilityIcon},l.a.createElement(Ba.a,{title:"Deletar Ticket"},l.a.createElement(hl.a,{color:"primary",onClick:B})))}),l.a.createElement(_l,{title:"".concat(Qe.a.t("ticketOptionsMenu.confirmationModal.title")," #").concat(a.id,"?"),open:C,onClose:O,onConfirm:async()=>{try{await na.delete("/tickets/".concat(a.id))}catch(e){Ze(e)}}},Qe.a.t("ticketOptionsMenu.confirmationModal.message")),l.a.createElement(wo,{modalOpen:S,onClose:()=>{o.current&&T(!1)},ticketid:a.id}),l.a.createElement(Io,{open:w,onClose:()=>{A(!1),I(null)},"aria-labelledby":"form-dialog-title",contactId:j})),"pending"===a.status&&l.a.createElement(Pa,{loading:s,size:"small",variant:"contained",color:"primary",onClick:e=>U(0,"open",null===d||void 0===d?void 0:d.id)},Qe.a.t("messagesList.header.buttons.accept"))),l.a.createElement(l.a.Fragment,null,l.a.createElement(lt.e,{initialValues:g,enableReinitialize:!0,validationSchema:Wo,innerRef:x,onSubmit:(e,t)=>{(async(e,t)=>{z(),m(!0);try{await na.post("/ratings/messages/".concat(a.id),{userId:e||null,ratingId:t}),m(!1),r.push("/tickets")}catch(n){m(!1),Ze(n)}})(null===d||void 0===d?void 0:d.id,e.ratingId),setTimeout(()=>{t.setSubmitting(!1),t.resetForm()},400)}},e=>{let{values:n,touched:o,errors:c,isSubmitting:i,setFieldValue:s,resetForm:u}=e;return l.a.createElement(rt.a,{open:y,onClose:z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(lt.d,null,l.a.createElement(ot.a,{id:"alert-dialog-title"},L?Qe.a.t("messagesList.header.dialogRatingTitle"):Qe.a.t("messagesList.header.dialogClosingTitle")),l.a.createElement(ct.a,null,l.a.createElement(Nt.a,{id:"alert-dialog-description"},L&&l.a.createElement("div",{style:{marginTop:8}},l.a.createElement(bl.a,{size:"small",options:b,name:"ratingId",getOptionLabel:e=>e.name,onChange:(e,a)=>s("ratingId",(null===a||void 0===a?void 0:a.id)||""),renderInput:e=>l.a.createElement(it.a,Object.assign({},e,{error:o.ratingId&&Boolean(c.ratingId),helperText:o.ratingId&&c.ratingId,variant:"outlined",placeholder:Qe.a.t("messagesList.header.ratingTitle")}))})))),l.a.createElement(pt.a,{className:t.botoes},l.a.createElement(Ma.a,{onClick:e=>(async()=>{m(!0);try{await na.put("/tickets/".concat(a.id),{status:"closed",userId:(null===d||void 0===d?void 0:d.id)||null,sendFarewellMessage:!1,amountUsedBotQueues:0}),m(!1),r.push("/tickets")}catch(e){m(!1),Ze(e)}})(),style:{background:"#9200bf",color:"white"}},Qe.a.t("messagesList.header.dialogRatingWithoutFarewellMsg")),l.a.createElement(Ma.a,{onClick:e=>{var t;return U(0,"closed",null===d||void 0===d?void 0:d.id,null===a||void 0===a||null===(t=a.queue)||void 0===t||t.id)},style:{background:"#9200bf",color:"white"}},Qe.a.t("messagesList.header.dialogRatingCancel")),L&&l.a.createElement(Ma.a,{disabled:i,variant:"contained",type:"submit",style:{background:"#9200bf",color:"white"}},Qe.a.t("messagesList.header.dialogRatingSuccess")))))})))};function qo(e){let{ticket:a}=e;const[t,r]=Object(n.useState)([]),[o,c]=Object(n.useState)([]),i=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{i.current=!1},[]),Object(n.useEffect)(()=>{i.current&&m().then(()=>{Array.isArray(a.tags)?c(a.tags):c([])})},[a]);const s=async e=>{try{const{data:a}=await na.post("/tags",e);return a}catch(a){Ze(a)}},m=async()=>{try{const{data:e}=await na.get("/tags/list");r(e)}catch(e){Ze(e)}},d=async(e,t)=>{let n=[];if("create-option"===t){if(Object(Je.isArray)(e))for(let a of e)if(Object(Je.isString)(a)){const e=await s({name:a});n.push(e)}else n.push(a);await m()}else n=e;c(n),await(async e=>{try{const{data:a}=await na.post("/tags/sync",e);return a}catch(a){Ze(a)}})({ticketId:a.id,tags:n})};return l.a.createElement(Mt.a,{style:{padding:2}},l.a.createElement(bl.a,{multiple:!0,size:"small",options:t,value:o,freeSolo:!0,onChange:(e,a,t)=>d(a,t),getOptionLabel:e=>e.name,renderTags:(e,a)=>e.map((e,t)=>l.a.createElement(bt.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},label:e.name},a({index:t}),{size:"small"}))),renderInput:e=>l.a.createElement(it.a,Object.assign({},e,{variant:"outlined",placeholder:"Tag"})),PaperComponent:e=>{let{children:a}=e;return l.a.createElement(Mt.a,{style:{width:400,marginLeft:6}},a)}}))}const zo=Object(C.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));var Bo=()=>{const{ticketId:e}=Object(f.h)(),a=Object(f.g)(),t=zo(),{user:r}=Object(n.useContext)(pa),[o,c]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!0),[m,d]=Object(n.useState)({}),[u,p]=Object(n.useState)({});Object(n.useEffect)(()=>{s(!0);const a=setTimeout(()=>{(async()=>{try{const{data:a}=await na.get("/tickets/u/"+e);d(a.contact),p(a),s(!1)}catch(a){s(!1),Ze(a)}})()},500);return()=>clearTimeout(a)},[e,r,a]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=oa({companyId:e});return t.on("connect",()=>t.emit("joinChatBox","".concat(u.id))),t.on("company-".concat(e,"-ticket"),e=>{"update"===e.action&&p(e.ticket),"delete"===e.action&&(h.b.success("Ticket deleted sucessfully."),a.push("/tickets"))}),t.on("company-".concat(e,"-contact"),e=>{"update"===e.action&&d(a=>{var t;return a.id===(null===(t=e.contact)||void 0===t?void 0:t.id)?{...a,...e.contact}:a})}),()=>{t.disconnect()}},[e,u,a]);const g=()=>{c(!0)};return l.a.createElement("div",{className:t.root,id:"drawer-container"},l.a.createElement(Mt.a,{variant:"outlined",elevation:0,className:Object(y.a)(t.mainWrapper,{[t.mainWrapperShift]:o})},l.a.createElement(ir,{loading:i},(()=>{if(void 0!==u.user)return l.a.createElement(sr,{contact:m,ticket:u,onClick:g})})(),l.a.createElement(Fo,{ticket:u})),l.a.createElement(Mt.a,null,l.a.createElement(qo,{ticket:u})),l.a.createElement(Yl,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(lr,{ticket:u,ticketId:u.id,isGroup:u.isGroup}),l.a.createElement(Co,{ticketId:u.id,ticketStatus:u.status})))),l.a.createElement(Kr,{open:o,handleDrawerClose:()=>{c(!1)},contact:m,loading:i,ticket:u}))};const Uo=Object(C.a)(e=>({chatContainer:{flex:1,padding:e.spacing(4),height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},messagesWrapper:{display:"flex",height:"100%",flexDirection:"column"},welcomeMsg:{background:e.palette.tabHeaderBackground,display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center"}}));var Ho=()=>{const e=Uo(),{ticketId:a}=Object(f.h)();return l.a.createElement("div",{className:e.chatContainer},l.a.createElement("div",{className:e.chatPapper},l.a.createElement($a.a,{container:!0,spacing:0},l.a.createElement($a.a,{item:!0,xs:4,className:e.contactsWrapper},l.a.createElement(Ir,null)),l.a.createElement($a.a,{item:!0,xs:8,className:e.messagesWrapper},a?l.a.createElement(l.a.Fragment,null,l.a.createElement(Bo,null)):l.a.createElement(Mt.a,{square:!0,variant:"outlined",className:e.welcomeMsg},l.a.createElement("span",null,Qe.a.t("chat.noTicketMessage")))))))},_o=t(1542),Vo=t(1543),Yo=t(887),Go=t.n(Yo),Qo=t(886),Ko=t.n(Qo),Xo=t(925);var Jo=Object(Xo.a)(Mt.a)({height:"calc(100% - 48px)",display:"grid",gridTemplateRows:"56px 1fr"});const Zo=Object(C.a)(e=>({header:{},content:{overflow:"auto"},placeholderContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",background:e.palette.tabHeaderBackground},placeholderItem:{}}));var $o=e=>{const a=Zo(),{ticketId:t}=Object(f.h)(),[r,o]=Object(n.useState)(0),{currentTicket:c,setCurrentTicket:i}=Object(n.useContext)(Tl);Object(n.useEffect)(()=>(null!==c.id&&i({id:c.id,code:"#open"}),t||o(1),()=>{i({id:null,code:null})}),[]),Object(n.useEffect)(()=>{null!==c.id&&o(0)},[c]);return l.a.createElement(Jo,null,l.a.createElement(kl.a,{className:a.header},l.a.createElement(_o.a,{value:r,onChange:(e,a)=>{o(a)},showLabels:!0,className:a.root},l.a.createElement(Vo.a,{label:"Ticket",icon:l.a.createElement(Ko.a,null)}),l.a.createElement(Vo.a,{label:"Atendimentos",icon:l.a.createElement(Go.a,null)}))),l.a.createElement(kl.a,{className:a.content},0===r?t?l.a.createElement(Bo,null):l.a.createElement(kl.a,{className:a.placeholderContainer},l.a.createElement("div",{className:a.placeholderItem},Qe.a.t("chat.noTicketMessage")),l.a.createElement("br",null),l.a.createElement(Ma.a,{onClick:()=>o(1),variant:"contained",color:"primary"},"Selecionar Ticket")):l.a.createElement(Ir,null)))};var ec=Object($n.a)()((function(e){return Object($n.b)("md",e.width)?l.a.createElement(Ho,null):l.a.createElement($o,null)})),ac=t(522),tc=t.n(ac);const nc=Object(C.a)(e=>({root:{width:"100vw",height:"100vh",backgroundImage:"url(https://blackzap.com.br/wp-content/uploads/2023/10/EU-INDICO-1.png)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},paper:{backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",padding:"55px 30px",borderRadius:"12.5px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(2)},inputLabel:{color:"#ffffff"},underline:{"&::before":{borderBottom:"1px solid #ffffff"}},submit:{margin:e.spacing(3,0,2)},powered:{color:"#666666",textAlign:"center",marginTop:"20px"},whatsappButton:{background:"#00826a",color:"#ffffff",padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",gap:"8px","&:hover":{background:"#0c6a58",textAlign:"center",alignItems:"center",justifyContent:"center"}},logo:{margin:"10px auto",width:"90%",display:"block",transform:"scale(0.7)"}})),lc=nt.d().shape({name:nt.f().min(2,"Muito curto!").max(50,"Muito extenso!").required("Obrigat\xf3rio"),password:nt.f().min(5,"Muito curto!").max(50,"Muito extenso!"),email:nt.f().email("Email inv\xe1lido").required("Obrigat\xf3rio")});var rc=()=>{const e=nc(),a=Object(f.g)(),{getPlanList:t}=fa(),[r,o]=Object(n.useState)(!1);let i=null;const s=tc.a.parse(window.location.search);void 0!==s.companyId&&(i=s.companyId);const m={name:"",email:"",password:"",phone:"",companyId:i,companyName:"",planId:""},[d]=Object(n.useState)(m),[u,p]=Object(n.useState)([]);Object(n.useEffect)(()=>{o(!0);(async()=>{const e=await t();p(e),o(!1)})()},[]);const g=x()().add(7,"day").format(),{list:E}=fa();return Object(n.useEffect)(()=>{!async function(){const e=await E({listPublic:"false"});p(e)}()},[]),l.a.createElement("div",{className:e.root},l.a.createElement(_t.a,{component:"main",maxWidth:"xs"},l.a.createElement(c.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement("div",null,l.a.createElement("img",{style:{margin:"0 auto",height:"80px",width:"100%"},src:va.a,alt:"Whats"})),l.a.createElement(I.a,{component:"h1",variant:"h5"},Qe.a.t("signup.title")),l.a.createElement(lt.e,{initialValues:d,enableReinitialize:!0,validationSchema:lc,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{Object.assign(e,{recurrence:"MENSAL"}),Object.assign(e,{dueDate:g}),Object.assign(e,{status:"t"}),Object.assign(e,{campaignsEnabled:!0});try{await ta.post("/auth/signup",e),h.b.success(Qe.a.t("signup.toasts.success")),a.push("/login")}catch(t){Ze(t)}})(e),t.setSubmitting(!1)},400)}},a=>{let{touched:t,errors:n,isSubmitting:r}=a;return l.a.createElement(lt.d,{className:e.form},l.a.createElement($a.a,{container:!0,spacing:2},l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,variant:"outlined",fullWidth:!0,id:"companyName",label:Qe.a.t("signup.form.company"),error:t.companyName&&Boolean(n.companyName),helperText:t.companyName&&n.companyName,name:"companyName",autoComplete:"companyName",autoFocus:!0})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,autoComplete:"name",name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:Qe.a.t("signup.form.name")})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,variant:"outlined",fullWidth:!0,id:"email",label:Qe.a.t("signup.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,autoComplete:"email"})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,variant:"outlined",fullWidth:!0,name:"password",error:t.password&&Boolean(n.password),helperText:t.password&&n.password,label:Qe.a.t("signup.form.password"),type:"password",id:"password",autoComplete:"current-password"})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,variant:"outlined",fullWidth:!0,id:"phone",label:Qe.a.t("signup.form.phone"),name:"phone",autoComplete:"phone"})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(dt.a,{htmlFor:"plan-selection"},"Plano"),l.a.createElement(lt.b,{as:ut.a,variant:"outlined",fullWidth:!0,id:"plan-selection",label:"Plano",name:"planId",required:!0},u.map((e,a)=>l.a.createElement(M.a,{key:a,value:e.id},e.name," - Atendentes: ",e.users," - Conex\xf5es: ",e.connections," - Filas: ",e.queues," - $ ",e.amount)))),l.a.createElement(Ma.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},Qe.a.t("signup.buttons.submit")),l.a.createElement($a.a,{container:!0,justify:"flex-end"},l.a.createElement($a.a,{item:!0},l.a.createElement(Rr.a,{href:"#",variant:"body2",component:b.b,to:"/login"},Qe.a.t("signup.buttons.login"))))))}))))};const oc=Object(C.a)(e=>({root:{background:"#fafafa",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",padding:"55px 30px",borderRadius:"12.5px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(2)},inputLabel:{color:"#ffffff"},underline:{"&::before":{borderBottom:"1px solid #ffffff"}},submit:{margin:e.spacing(3,0,2)},powered:{color:"#666666",textAlign:"center",marginTop:"20px"},whatsappButton:{background:"#00826a",color:"#ffffff",padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",gap:"8px","&:hover":{background:"#0c6a58",textAlign:"center",alignItems:"center",justifyContent:"center"}},logo:{margin:"10px auto",width:"90%",display:"block",transform:"scale(0.7)"}}));var cc=()=>{const e=oc(),[a,t]=Object(n.useState)({email:"",password:""}),{handleLogin:r}=Object(n.useContext)(pa),o=e=>{t({...a,[e.target.name]:e.target.value})};return l.a.createElement(_t.a,{component:"main",maxWidth:"xs"},l.a.createElement(c.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement("div",null,l.a.createElement("img",{style:{margin:"0 auto",height:"100%",width:"100%",alignSelf:"center"},src:va.a,alt:"Whats"})),l.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:e=>{e.preventDefault(),r(a)}},l.a.createElement(it.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:Qe.a.t("login.form.email"),name:"email",value:a.email,onChange:o,autoComplete:"email",autoFocus:!0}),l.a.createElement(it.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:Qe.a.t("login.form.password"),type:"password",id:"password",value:a.password,onChange:o,autoComplete:"current-password"}),l.a.createElement(Ma.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},Qe.a.t("login.buttons.submit")),l.a.createElement($a.a,{container:!0},l.a.createElement($a.a,{item:!0},l.a.createElement(Rr.a,{href:"#",variant:"body2",component:b.b,to:"/forgetpsw"},Qe.a.t("Esqueci minha senha"))),l.a.createElement($a.a,{item:!0},l.a.createElement(Rr.a,{href:"#",variant:"body2",component:b.b,to:"/signup"},Qe.a.t("N\xe3o tem uma conta? Cadastre-se!")))))),l.a.createElement("a",{href:"https://wa.me/".concat("5551997058551"),className:e.whatsappButton,target:"_blank",rel:"noopener noreferrer"},l.a.createElement(X.a,null)," Entrar em Contato pelo WhatsApp"))},ic=t(272),sc=t.n(ic),mc=t(1544),dc=t(1545),uc=t(1546),pc=t(1547),gc=t(1548),Ec=t(1549),bc=t(1550),fc=t(1551),hc=t(632),yc=t.n(hc);const vc=Object(C.a)(e=>({mainContainer:{flex:1,padding:e.spacing(2),height:"100%"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}));var xc=e=>{let{children:a}=e;const t=vc();return l.a.createElement(_t.a,{className:t.mainContainer},l.a.createElement("div",{className:t.contentWrapper},a))};const Cc=Object(C.a)(e=>({contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}));var Oc=e=>{let{children:a}=e;const t=Cc();return l.a.createElement("div",{className:t.contactsHeader},a)};const Sc=Object(C.a)(e=>({MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}));var kc=e=>{let{children:a}=e;const t=Sc();return l.a.createElement("div",{className:t.MainHeaderButtonsWrapper},a)};function Tc(e){return l.a.createElement(I.a,{variant:"h5",color:"primary",gutterBottom:!0},e.children)}const wc=Object(C.a)(e=>({customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}));var Ac=e=>{let{avatar:a,columns:t}=e;const n=wc();return l.a.createElement(l.a.Fragment,null,l.a.createElement(kn.a,null,a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Cn.a,{style:{paddingRight:0}},l.a.createElement(fn.a,{animation:"wave",variant:"circle",width:40,height:40})),l.a.createElement(Cn.a,null,l.a.createElement(fn.a,{animation:"wave",height:30,width:80}))),Array.from({length:t},(e,a)=>l.a.createElement(Cn.a,{align:"center",key:a},l.a.createElement("div",{className:n.customTableCell},l.a.createElement(fn.a,{align:"center",animation:"wave",height:30,width:80}))))))};const jc=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Ic=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var Nc=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:r}=e;const o=Object(n.useRef)(null),[c,i]=Object(n.useState)(null),[s,m]=Object(n.useState)(""),d=jc(),u={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",maxUseBotQueues:"",provider:"beta",expiresTicket:0},[p,g]=Object(n.useState)(u),[E,b]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{if(r)try{var e;const{data:t}=await na.get("whatsapp/".concat(r,"?session=0"));g(t);try{m(JSON.parse(t.greetingMediaAttachment))}catch(a){m([t.greetingMediaAttachment])}const n=null===(e=t.queues)||void 0===e?void 0:e.map(e=>e.id);b(n)}catch(a){Ze(a)}})()},[r]);const f=()=>{t(),g(u),o.current.value=null,i(null)},y=()=>{const e=o.current.files[0];i(e);const a=s;a?a.push(e.name):a=[e.name],m(a),o.current.value=null};return l.a.createElement("div",{className:d.root},l.a.createElement(rt.a,{open:a,onClose:f,maxWidth:"sm",fullWidth:!0,scroll:"paper"},l.a.createElement(ot.a,null,r?Qe.a.t("whatsappModal.title.edit"):Qe.a.t("whatsappModal.title.add")),l.a.createElement(lt.e,{initialValues:p,enableReinitialize:!0,validationSchema:Ic,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,queueIds:E};delete a.queues,delete a.session;const t=s;null!=c&&t.push(c.name),a.greetingMediaAttachment=JSON.stringify(t);try{if(console.log("attachment",c),console.log("whatsappData",a),r){if(await na.put("/whatsapp/".concat(r),a),null!=c){const e=new FormData;e.append("file",c),await na.post("/whatsapp/".concat(r,"/media-upload"),e)}s||null===p.greetingMediaAttachment||await na.delete("/whatsapp/".concat(r,"/media-upload"))}else{const{data:e}=await na.post("/whatsapp",a);if(null!=c){const a=new FormData;a.append("file",c),await na.post("/whatsapp/".concat(e.id,"/media-upload"),a)}}h.b.success(Qe.a.t("whatsappModal.success")),f()}catch{}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:c}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement("div",{className:d.multFieldLine},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{item:!0},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",className:d.textField})),l.a.createElement($a.a,{style:{paddingTop:15},item:!0},l.a.createElement(pl.a,{control:l.a.createElement(lt.b,{as:gl.a,color:"primary",name:"isDefault",checked:a.isDefault}),label:Qe.a.t("whatsappModal.form.default")})),l.a.createElement($a.a,{item:!0},l.a.createElement(lt.b,{as:it.a,label:"Encerrar chat ap\xf3s x horas",name:"expiresTicket",error:t.expiresTicket&&Boolean(n.expiresTicket),helperText:t.expiresTicket&&n.expiresTicket,variant:"outlined",margin:"dense",className:d.textFieldTime})))),s&&l.a.createElement(l.a.Fragment,null,null===s||void 0===s?void 0:s.map((e,a)=>l.a.createElement("div",{key:a,style:{display:"flex",flexDirection:"row-reverse"}},l.a.createElement(Ma.a,{variant:"outlined",color:"primary",endIcon:l.a.createElement(hl.a,null),onClick:()=>(e=>{const a=s instanceof Array?s:[s];a.splice(e,1),console.log("currentAttachment",a),i(null),m([...a])})(a)},e)))),l.a.createElement("div",null,l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("whatsappModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(n.greetingMessage),helperText:t.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse"}},l.a.createElement("input",{type:"file",accept:"video/*,image/*,audio/*",ref:o,style:{display:"none"},onChange:y})),l.a.createElement("div",null,l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("whatsappModal.form.complationMessage"),type:"complationMessage",multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:t.complationMessage&&Boolean(n.complationMessage),helperText:t.complationMessage&&n.complationMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("whatsappModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(n.outOfHoursMessage),helperText:t.outOfHoursMessage&&n.outOfHoursMessage,variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("whatsappModal.form.token"),type:"token",fullWidth:!0,name:"token",variant:"outlined",margin:"dense"})),l.a.createElement("div",null,l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("whatsappModal.form.maxUseBotQueues"),type:"maxUseBotQueues",fullWidth:!0,name:"maxUseBotQueues",variant:"outlined",margin:"dense",error:t.maxUseBotQueues&&Boolean(n.maxUseBotQueues),helperText:t.maxUseBotQueues&&n.maxUseBotQueues})),l.a.createElement("div",null,l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("whatsappModal.form.expiresTicket"),type:"expiresTicket",fullWidth:!0,name:"expiresTicket",variant:"outlined",margin:"dense",error:t.expiresTicket&&Boolean(n.expiresTicket),helperText:t.expiresTicket&&n.expiresTicket})),l.a.createElement(ht,{selectedQueueIds:E,onChange:e=>b(e)})),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:f,color:"secondary",disabled:c,variant:"outlined"},Qe.a.t("whatsappModal.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:c,variant:"contained",className:d.btnWrapper},r?Qe.a.t("whatsappModal.buttons.okEdit"):Qe.a.t("whatsappModal.buttons.okAdd"),c&&l.a.createElement(Ra.a,{size:24,className:d.buttonProgress}))))})))}),Mc=t(888),Rc=t.n(Mc);var Dc=l.a.memo(e=>{let{open:a,onClose:t,whatsAppId:r}=e;const[o,c]=Object(n.useState)("");return Object(n.useEffect)(()=>{(async()=>{if(r)try{const{data:e}=await na.get("/whatsapp/".concat(r));c(e.qrcode)}catch(e){Ze(e)}})()},[r]),Object(n.useEffect)(()=>{if(!r)return;const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-whatsappSession"),e=>{"update"===e.action&&e.session.id===r&&c(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&t()}),()=>{a.disconnect()}},[r,t]),l.a.createElement(rt.a,{open:a,onClose:t,maxWidth:"lg",scroll:"paper"},l.a.createElement(ct.a,null,l.a.createElement(Mt.a,{elevation:0},l.a.createElement(I.a,{color:"primary",gutterBottom:!0},Qe.a.t("qrCode.message")),o?l.a.createElement(Rc.a,{value:o,size:256}):l.a.createElement("span",null,"Aguardando o QR Code"))))});class Pc{setPhoneFormatMask(e){if(!e||e.length<12)return;const a=(""+e).replace(/\D/g,"");if(a.length<=12){const e=a.match(/^(\d{2})(\d{2})(\d{4})(\d{4})$/);return"+"+e[1]+" ("+e[2]+") "+e[3]+"-"+e[4]}if(13===a.length){const e=a.match(/^(\d{2})(\d{2})(\d{5})(\d{4})$/);return"+"+e[1]+" ("+e[2]+") "+e[3]+"-"+e[4]}return null}removeMask(e){return e.replace(/\D/g,"")}maskPhonePattern(e){return e.length<13?"+55 (99) 9999 9999":"+55 (99) 99999 9999"}}var Lc=e=>{const a=new Pc,t=null===e||void 0===e?void 0:e.replace("@c.us","");return a.setPhoneFormatMask(t)};const Wc=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:ja.a[500]}})),Fc=e=>{let{title:a,content:t,children:n}=e;const r=Wc();return l.a.createElement(Ba.a,{arrow:!0,classes:{tooltip:r.tooltip,popper:r.tooltipPopper},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{gutterBottom:!0,color:"inherit"},a),t&&l.a.createElement(I.a,null,t))},n)};var qc=()=>{const e=Wc(),{whatsApps:a,loading:t}=Object(n.useContext)(sa),[r,o]=Object(n.useState)(!1),[c,i]=Object(n.useState)(!1),[s,m]=Object(n.useState)(null),[d,u]=Object(n.useState)(!1),p={action:"",title:"",message:"",whatsAppId:"",open:!1},[g,E]=Object(n.useState)(p),[b,f]=Object(n.useState)(!1),{user:y}=Object(n.useContext)(pa),{getPlanCompany:v}=fa();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId"),a=await v(void 0,e);f(a)}()},[]);const x=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;na.post("/facebook",{facebookUserId:t,facebookUserToken:a}).then(e=>{h.b.success(Qe.a.t("connections.facebook.success"))}).catch(e=>{Ze(e)})}},C=e=>{if("unknown"!==e.status){const{accessToken:a,id:t}=e;na.post("/facebook",{addInstagram:!0,facebookUserId:t,facebookUserToken:a}).then(e=>{h.b.success(Qe.a.t("connections.facebook.success"))}).catch(e=>{Ze(e)})}},O=Object(n.useCallback)(()=>{o(!1),m(null)},[m,o]),S=Object(n.useCallback)(()=>{m(null),i(!1)},[i,m]),T=(e,a)=>{"disconnect"===e&&E({action:e,title:Qe.a.t("connections.confirmationModal.disconnectTitle"),message:Qe.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:a}),"delete"===e&&E({action:e,title:Qe.a.t("connections.confirmationModal.deleteTitle"),message:Qe.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:a}),u(!0)},w=e=>l.a.createElement(l.a.Fragment,null,"qrcode"===e.status&&l.a.createElement(Ma.a,{size:"small",variant:"contained",color:"primary",onClick:()=>(e=>{m(e),i(!0)})(e)},Qe.a.t("connections.buttons.qrcode")),"DISCONNECTED"===e.status&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Ma.a,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{await na.post("/whatsappsession/".concat(e))}catch(a){Ze(a)}})(e.id)},Qe.a.t("connections.buttons.tryAgain"))," ",l.a.createElement(Ma.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(async e=>{try{await na.put("/whatsappsession/".concat(e))}catch(a){Ze(a)}})(e.id)},Qe.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&l.a.createElement(Ma.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>{T("disconnect",e.id)}},Qe.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&l.a.createElement(Ma.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},Qe.a.t("connections.buttons.connecting")));return l.a.createElement(xc,null,l.a.createElement(_l,{title:g.title,open:d,onClose:u,onConfirm:async()=>{if("disconnect"===g.action)try{await na.delete("/whatsappsession/".concat(g.whatsAppId))}catch(e){Ze(e)}if("delete"===g.action)try{await na.delete("/whatsapp/".concat(g.whatsAppId)),h.b.success(Qe.a.t("connections.toasts.deleted"))}catch(e){Ze(e)}E(p)}},g.message),l.a.createElement(Dc,{open:c,onClose:S,whatsAppId:!r&&(null===s||void 0===s?void 0:s.id)}),l.a.createElement(Nc,{open:r,onClose:O,whatsAppId:!c&&(null===s||void 0===s?void 0:s.id)}),l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("connections.title")," (",a.length,")"),l.a.createElement(kc,null,l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:async()=>{try{await na.post("/whatsapp-restart/"),h.b.success(Qe.a.t("Aguarde... Suas conex\xf5es ser\xe3o reiniciadas!"))}catch(e){Ze(e)}}},Qe.a.t("REINICIAR CONEX\xd5ES")),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{return e="https://wa.me/".concat("5551997058551"),void window.open(e,"_blank","noopener,noreferrer");var e}},Qe.a.t("CHAMAR NO SUPORTE")),l.a.createElement(sc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>{var a;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ma.a,Object.assign({variant:"contained",color:"primary"},Object(ic.bindTrigger)(e)),"Nova Conex\xe3o"),l.a.createElement(N.a,Object(ic.bindMenu)(e),l.a.createElement(M.a,{disabled:!(null===b||void 0===b||null===(a=b.plan)||void 0===a?void 0:a.useWhatsapp),onClick:()=>{m(null),o(!0),e.close()}},l.a.createElement(mc.a,{fontSize:"small",style:{marginRight:"10px",color:"#25D366"}}),"WhatsApp"),l.a.createElement(yc.a,{appId:"1005318707427295",autoLoad:!1,fields:"name,email,picture",version:"18.0",scope:"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement",callback:x,render:e=>{var a;return l.a.createElement(M.a,{disabled:!(null===b||void 0===b||null===(a=b.plan)||void 0===a?void 0:a.useFacebook),onClick:e.onClick},l.a.createElement(Fl.a,{fontSize:"small",style:{marginRight:"10px",color:"#3b5998"}}),"Facebook")}}),l.a.createElement(yc.a,{appId:"1005318707427295",autoLoad:!1,fields:"name,email,picture",version:"18.0",scope:"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement",callback:C,render:e=>{var a;return l.a.createElement(M.a,{disabled:!(null===b||void 0===b||null===(a=b.plan)||void 0===a?void 0:a.useInstagram),onClick:e.onClick},l.a.createElement(ql.a,{fontSize:"small",style:{marginRight:"10px",color:"#e1306c"}}),"Instagram")}})))}))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},"Channel"),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("connections.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("connections.table.number")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("connections.table.status")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("connections.table.session")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("connections.table.lastUpdate")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("connections.table.default")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("connections.table.actions")))),l.a.createElement(xn.a,null,t?l.a.createElement(Ac,null):l.a.createElement(l.a.Fragment,null,(null===a||void 0===a?void 0:a.length)>0&&a.map(a=>l.a.createElement(kn.a,{key:a.id},l.a.createElement(Cn.a,{align:"center"},(e=>{switch(e){case"facebook":return l.a.createElement(Fl.a,{style:{color:"#3b5998"}});case"instagram":return l.a.createElement(ql.a,{style:{color:"#e1306c"}});case"whatsapp":return l.a.createElement(mc.a,{style:{color:"#25d366"}});default:return"error"}})(a.channel)),l.a.createElement(Cn.a,{align:"center"},a.name),l.a.createElement(Cn.a,{align:"center"},a.number?l.a.createElement(l.a.Fragment,null,Lc(a.number)):"-"),l.a.createElement(Cn.a,{align:"center"},(a=>l.a.createElement("div",{className:e.customTableCell},"DISCONNECTED"===a.status&&l.a.createElement(Fc,{title:Qe.a.t("connections.toolTips.disconnected.title"),content:Qe.a.t("connections.toolTips.disconnected.content")},l.a.createElement(dc.a,{color:"secondary"})),"OPENING"===a.status&&l.a.createElement(Ra.a,{size:24,className:e.buttonProgress}),"qrcode"===a.status&&l.a.createElement(Fc,{title:Qe.a.t("connections.toolTips.qrcode.title"),content:Qe.a.t("connections.toolTips.qrcode.content")},l.a.createElement(uc.a,null)),"CONNECTED"===a.status&&l.a.createElement(Fc,{title:Qe.a.t("connections.toolTips.connected.title")},l.a.createElement(pc.a,{style:{color:ja.a[500]}})),("TIMEOUT"===a.status||"PAIRING"===a.status)&&l.a.createElement(Fc,{title:Qe.a.t("connections.toolTips.timeout.title"),content:Qe.a.t("connections.toolTips.timeout.content")},l.a.createElement(gc.a,{color:"secondary"}))))(a)),l.a.createElement(Cn.a,{align:"center"},w(a)),l.a.createElement(Cn.a,{align:"center"},Object(Sa.a)(Object(Aa.a)(a.updatedAt),"dd/MM/yy HH:mm")),l.a.createElement(Cn.a,{align:"center"},a.isDefault&&l.a.createElement("div",{className:e.customTableCell},l.a.createElement(Ec.a,{style:{color:ja.a[500]}}))),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{m(e),o(!0)})(a)},l.a.createElement(bc.a,null)),l.a.createElement(k.a,{size:"small",onClick:e=>{T("delete",a.id)}},l.a.createElement(fc.a,null))))))))))},zc=t(633);const Bc=Object(C.a)(e=>({root:{width:"100%"},fullWidth:{width:"100%"},textfield:{width:"100%"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));var Uc=function(e){const{initialValues:a,onSubmit:t,loading:r,labelSaveButton:o}=e,c=Bc(),[i,s]=Object(n.useState)([{weekday:"Segunda-feira",weekdayEn:"monday",startTime:"",endTime:""},{weekday:"Ter\xe7a-feira",weekdayEn:"tuesday",startTime:"",endTime:""},{weekday:"Quarta-feira",weekdayEn:"wednesday",startTime:"",endTime:""},{weekday:"Quinta-feira",weekdayEn:"thursday",startTime:"",endTime:""},{weekday:"Sexta-feira",weekdayEn:"friday",startTime:"",endTime:""},{weekday:"S\xe1bado",weekdayEn:"saturday",startTime:"",endTime:""},{weekday:"Domingo",weekdayEn:"sunday",startTime:"",endTime:""}]);return Object(n.useEffect)(()=>{Object(Je.isArray)(a)&&a.length>0&&s(a)},[a]),l.a.createElement(lt.e,{enableReinitialize:!0,className:c.fullWidth,initialValues:{schedules:i},onSubmit:e=>{let{schedules:a}=e;return setTimeout(()=>{t(a)},500)}},e=>{let{values:a}=e;return l.a.createElement(lt.d,{className:c.fullWidth},l.a.createElement(lt.c,{name:"schedules",render:e=>l.a.createElement($a.a,{spacing:4,container:!0},a.schedules.map((e,a)=>l.a.createElement($a.a,{key:a,xs:12,md:4,item:!0},l.a.createElement($a.a,{container:!0},l.a.createElement($a.a,{className:c.control,xs:12,item:!0},l.a.createElement(lt.a,{as:it.a,label:"Dia da Semana",name:"schedules[".concat(a,"].weekday"),disabled:!0,variant:"outlined",className:c.fullWidth,margin:"dense"})),l.a.createElement($a.a,{className:c.control,xs:12,md:6,item:!0},l.a.createElement(lt.a,{label:"Hora de Inicial",name:"schedules[".concat(a,"].startTime")},e=>{let{field:a}=e;return l.a.createElement(zc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:it.a,format:"##:##",className:c.fullWidth}))})),l.a.createElement($a.a,{className:c.control,xs:12,md:6,item:!0},l.a.createElement(lt.a,{label:"Hora de Final",name:"schedules[".concat(a,"].endTime")},e=>{let{field:a}=e;return l.a.createElement(zc.a,Object.assign({},a,{variant:"outlined",margin:"dense",customInput:it.a,format:"##:##",className:c.fullWidth}))}))))))}),l.a.createElement("div",{className:c.buttonContainer},l.a.createElement(Pa,{loading:r,type:"submit",color:"primary",variant:"contained"},null!==o&&void 0!==o?o:"Salvar")))})};var Hc=()=>({save:async e=>{const{data:a}=await na.request({url:"/companies",method:"POST",data:e});return a},update:async e=>{const{data:a}=await na.request({url:"/companies/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await na.request({url:"/companies/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await na.request({url:"/companies/list",method:"GET"});return a},find:async e=>{const{data:a}=await na.request({url:"/companies/".concat(e),method:"GET"});return a},findAll:async e=>{const{data:a}=await na.request({url:"/companies",method:"GET"});return a},updateSchedules:async e=>{const{data:a}=await na.request({url:"/companies/".concat(e.id,"/schedules"),method:"PUT",data:e});return a}});const _c=Object(C.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var Vc=e=>{let{selectedQueueIds:a,companyId:t,onChange:r}=e;const o=_c(),[c,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await na.get("/queue",{params:{companyId:t}});i(e)}catch(e){Ze(e)}})()},[t]);return l.a.createElement("div",{style:{marginTop:6}},l.a.createElement(mt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},l.a.createElement(dt.a,null,Qe.a.t("queueSelect.inputLabel")),l.a.createElement(ut.a,{multiple:!0,labelWidth:60,value:a,onChange:e=>{r(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>l.a.createElement("div",{className:o.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{const a=c.find(a=>a.id===e);return a?l.a.createElement(bt.a,{key:e,style:{backgroundColor:a.color},variant:"outlined",label:a.name,className:o.chip}):null}))},c.map(e=>l.a.createElement(M.a,{key:e.id,value:e.id},e.name)))))};const Yc=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Gc=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:nt.f().min(5,"Too Short!").max(50,"Too Long!"),email:nt.f().email("Invalid email").required("Required")});var Qc=e=>{let{open:a,onClose:t,userId:r,companyId:o}=e;const c=Yc(),i={name:"",email:"",password:"",profile:"user"},{user:s}=Object(n.useContext)(pa),[m,d]=Object(n.useState)(i),[u,p]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{if(r&&a)try{var e;const{data:a}=await na.get("/users/".concat(r));d(e=>({...e,...a}));const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);p(t)}catch(t){Ze(t)}})()},[r,a]);const g=()=>{t(),d(i)};return l.a.createElement("div",{className:c.root},l.a.createElement(rt.a,{open:a,onClose:g,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"".concat(r?Qe.a.t("userModal.title.edit"):Qe.a.t("userModal.title.add"))),l.a.createElement(lt.e,{initialValues:m,enableReinitialize:!0,validationSchema:Gc,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,companyId:o,queueIds:u};try{r?await na.put("/users/".concat(r),a):await na.post("/users",a),h.b.success(Qe.a.t("userModal.success"))}catch(t){Ze(t)}g()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement("div",{className:c.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("userModal.form.password"),type:"password",name:"password",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:c.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("userModal.form.email"),name:"email",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:"outlined",margin:"dense",fullWidth:!0}),l.a.createElement(mt.a,{variant:"outlined",className:c.formControl,margin:"dense"},l.a.createElement(ba,{role:s.profile,perform:"user-modal:editProfile",yes:()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(dt.a,{id:"profile-selection-input-label"},Qe.a.t("userModal.form.profile")),l.a.createElement(lt.b,{as:ut.a,label:Qe.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},l.a.createElement(M.a,{value:"admin"},"Admin"),l.a.createElement(M.a,{value:"user"},"User")))}))),l.a.createElement(ba,{role:s.profile,perform:"user-modal:editQueues",yes:()=>l.a.createElement(Vc,{companyId:o,selectedQueueIds:u,onChange:e=>p(e)})})),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:g,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("userModal.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(r?Qe.a.t("userModal.buttons.okEdit"):Qe.a.t("userModal.buttons.okAdd")),n&&l.a.createElement(Ra.a,{size:24,className:c.buttonProgress}))))})))};const Kc=Object(C.a)(e=>({root:{width:"100%",padding:"2px"},mainPaper:{width:"100%",flex:1},fullWidth:{width:"100%"},tableContainer:{width:"100%",padding:"2px"},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{},control:{},buttonContainer:{textAlign:"right"}}));function Xc(e){const{onSubmit:a,onDelete:t,onCancel:r,initialValue:o,loading:c}=e,i=Kc(),[s,m]=Object(n.useState)([]),[d,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",...o}),{list:f}=fa();Object(n.useEffect)(()=>{!async function(){const e=await f();m(e)}()},[]),Object(n.useEffect)(()=>{b(e=>(x()(o).isValid()&&(o.dueDate=x()(o.dueDate).format("YYYY-MM-DD")),{...e,...o}))},[o]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Qc,{userId:p.id,companyId:o.id,open:d,onClose:()=>{g({}),u(!1)}}),l.a.createElement(lt.e,{enableReinitialize:!0,className:i.fullWidth,initialValues:E,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{""!==e.dueDate&&!1!==x()(e.dueDate).isValid()||(e.dueDate=null),a(e),b({...o,dueDate:""})})(e),n()},500)}},(e,a)=>l.a.createElement(lt.d,{className:i.fullWidth},l.a.createElement($a.a,{spacing:1,justifyContent:"center",container:!0},l.a.createElement($a.a,{xs:12,sm:6,md:3,item:!0},l.a.createElement(lt.b,{as:it.a,label:"Nome",name:"name",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(lt.b,{as:it.a,label:"E-mail",name:"email",variant:"outlined",className:i.fullWidth,margin:"dense",required:!0})),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(lt.b,{as:it.a,label:"Senha",name:"password",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(lt.b,{as:it.a,label:"Telefone",name:"phone",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"plan-selection"},"Plano"),l.a.createElement(lt.b,{as:ut.a,id:"plan-selection",label:"Plano",labelId:"plan-selection-label",name:"planId",margin:"dense",required:!0},s.map((e,a)=>l.a.createElement(M.a,{key:a,value:e.id},e.name))))),l.a.createElement($a.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"status-selection"},"Ativa"),l.a.createElement(lt.b,{as:ut.a,id:"status-selection",label:"Ativa",labelId:"status-selection-label",name:"status",margin:"dense"},l.a.createElement(M.a,{value:!0},"Sim"),l.a.createElement(M.a,{value:!1},"N\xe3o")))),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(lt.b,{as:it.a,label:"CPF/CNPJ",name:"document",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(mt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(lt.b,{as:it.a,label:"Data de Vencimento",type:"date",name:"dueDate",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"dense"}))),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"recorrencia-selection"},"Recorr\xeancia"),l.a.createElement(lt.b,{as:ut.a,label:"Recorr\xeancia",labelId:"recorrencia-selection-label",id:"recurrence",name:"recurrence",margin:"dense"},l.a.createElement(M.a,{value:"MENSAL"},"Mensal"),l.a.createElement(M.a,{value:"BIMESTRAL"},"Bimestral"),l.a.createElement(M.a,{value:"TRIMESTRAL"},"Trimestral"),l.a.createElement(M.a,{value:"SEMESTRAL"},"Semestral"),l.a.createElement(M.a,{value:"ANUAL"},"Anual")))),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement($a.a,{justifyContent:"flex-end",spacing:1,container:!0},l.a.createElement($a.a,{xs:4,md:1,item:!0},l.a.createElement(Pa,{className:i.fullWidth,style:{marginTop:7},loading:c,onClick:()=>r(),variant:"contained"},"Limpar")),void 0!==E.id?l.a.createElement(l.a.Fragment,null,l.a.createElement($a.a,{xs:6,md:1,item:!0},l.a.createElement(Pa,{style:{marginTop:7},className:i.fullWidth,loading:c,onClick:()=>t(E),variant:"contained",color:"secondary"},"Excluir")),l.a.createElement($a.a,{xs:6,md:2,item:!0},l.a.createElement(Pa,{style:{marginTop:7},className:i.fullWidth,loading:c,onClick:()=>(()=>{const e={...E};if(""!==e.dueDate&&null!==e.dueDate)switch(e.recurrence){case"MENSAL":e.dueDate=x()(e.dueDate).add(1,"month").format("YYYY-MM-DD");break;case"BIMESTRAL":e.dueDate=x()(e.dueDate).add(2,"month").format("YYYY-MM-DD");break;case"TRIMESTRAL":e.dueDate=x()(e.dueDate).add(3,"month").format("YYYY-MM-DD");break;case"SEMESTRAL":e.dueDate=x()(e.dueDate).add(6,"month").format("YYYY-MM-DD");break;case"ANUAL":e.dueDate=x()(e.dueDate).add(12,"month").format("YYYY-MM-DD")}b(e)})(),variant:"contained",color:"primary"},"+ Vencimento")),l.a.createElement($a.a,{xs:6,md:1,item:!0},l.a.createElement(Pa,{style:{marginTop:7},className:i.fullWidth,loading:c,onClick:()=>(async()=>{try{const{data:e}=await na.get("/users/list",{params:{companyId:o.id}});Object(Je.isArray)(e)&&e.length&&g(Object(Je.head)(e)),u(!0)}catch(e){h.b.error(e)}})(),variant:"contained",color:"primary"},"Usu\xe1rio"))):null,l.a.createElement($a.a,{xs:6,md:1,item:!0},l.a.createElement(Pa,{className:i.fullWidth,style:{marginTop:7},loading:c,type:"submit",variant:"contained",color:"primary"},"Salvar"))))))))}function Jc(e){const{records:a,onSelect:t}=e,n=Kc(),{dateToClient:r,datetimeToClient:o}=da(),c=e=>{if(x()(e.dueDate).isValid()){const a=x()(),t=x()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{backgroundColor:"#fffead"};if(t<=0)return{backgroundColor:"#fa8c8c"}}return{}};return l.a.createElement(Mt.a,{className:n.tableContainer},l.a.createElement(vn.a,{className:n.fullWidth,padding:"none","aria-label":"a dense table"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center",style:{width:"1%"}},"#"),l.a.createElement(Cn.a,{align:"left"},"Nome"),l.a.createElement(Cn.a,{align:"left"},"E-mail"),l.a.createElement(Cn.a,{align:"center"},"Telefone"),l.a.createElement(Cn.a,{align:"center"},"Plano"),l.a.createElement(Cn.a,{align:"center"},"Valor Plano"),l.a.createElement(Cn.a,{align:"center"},"Ativa"),l.a.createElement(Cn.a,{align:"center"},"Criada Em"),l.a.createElement(Cn.a,{align:"center"},"Vencimento"),l.a.createElement(Cn.a,{align:"center"},"Ult. Login"))),l.a.createElement(xn.a,null,a.map((e,a)=>l.a.createElement(kn.a,{style:c(e),key:a},l.a.createElement(Cn.a,{align:"center",style:{width:"1%"}},l.a.createElement(k.a,{onClick:()=>t(e),"aria-label":"delete"},l.a.createElement(bc.a,null))),l.a.createElement(Cn.a,{align:"left"},e.name||"-"),l.a.createElement(Cn.a,{align:"left",size:"small"},e.email||"-"),l.a.createElement(Cn.a,{align:"center"},e.phone||"-"),l.a.createElement(Cn.a,{align:"center"},(e=>null!==e.planId?e.plan.name:"-")(e)),l.a.createElement(Cn.a,{align:"center"},"$ ",(e=>null!==e.planId?e.plan.amount?e.plan.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00":"-")(e)),l.a.createElement(Cn.a,{align:"center"},(e=>!1===e.status?"N\xe3o":"Sim")(e)),l.a.createElement(Cn.a,{align:"center"},r(e.createdAt)),l.a.createElement(Cn.a,{align:"center"},r(e.dueDate),l.a.createElement("br",null),l.a.createElement("span",null,e.recurrence)),l.a.createElement(Cn.a,{align:"center"},o(e.lastLogin)))))))}function Zc(){const e=Kc(),{list:a,save:t,update:r,remove:o}=Hc(),[c,i]=Object(n.useState)(!1),[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",document:"",paymentMethod:""});Object(n.useEffect)(()=>{E()},[]);const E=async()=>{m(!0);try{const e=await a();u(e)}catch(e){h.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}m(!1)},b=()=>{g(e=>({...e,name:"",email:"",phone:"",planId:"",status:!0,dueDate:"",recurrence:"",password:"",document:"",paymentMethod:""}))};return l.a.createElement(Mt.a,{className:e.mainPaper,elevation:0},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(Xc,{initialValue:p,onDelete:()=>{i(!0)},onSubmit:async e=>{m(!0);try{void 0!==e.id?await r(e):await t(e),await E(),b(),h.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){h.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente")}m(!1)},onCancel:b,loading:s})),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(Jc,{records:d,onSelect:e=>{g(a=>({...a,id:e.id,name:e.name||"",phone:e.phone||"",email:e.email||"",planId:e.planId||"",status:!1!==e.status,dueDate:e.dueDate||"",recurrence:e.recurrence||"",password:"",document:e.document||"",paymentMethod:e.paymentMethod||""}))}}))),l.a.createElement(_l,{title:"Exclus\xe3o de Registro",open:c,onClose:()=>i(!1),onConfirm:()=>(async()=>{m(!0);try{await o(p.id),await E(),b(),h.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){h.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}m(!1)})()},"Deseja realmente excluir esse registro?"))}const $c=Object(C.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:{width:"100%",overflowX:"scroll",...e.scrollbarStyles},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function ei(e){const{onSubmit:a,onDelete:t,onCancel:r,initialValue:o,loading:c}=e,i=$c(),[s,m]=Object(n.useState)({name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0});Object(n.useEffect)(()=>{m(o)},[o]);return l.a.createElement(lt.e,{enableReinitialize:!0,className:i.fullWidth,initialValues:s,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>l.a.createElement(lt.d,{className:i.fullWidth},l.a.createElement($a.a,{spacing:2,justifyContent:"flex-end",container:!0},l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(lt.b,{as:it.a,label:"Nome",name:"name",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement($a.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(lt.b,{as:it.a,label:"Usu\xe1rios",name:"users",variant:"outlined",className:i.fullWidth,margin:"dense",type:"number"})),l.a.createElement($a.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(lt.b,{as:it.a,label:"Conex\xf5es",name:"connections",variant:"outlined",className:i.fullWidth,margin:"dense",type:"number"})),l.a.createElement($a.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(lt.b,{as:it.a,label:"Setores",name:"queues",variant:"outlined",className:i.fullWidth,margin:"dense",type:"number"})),l.a.createElement($a.a,{xs:12,sm:6,md:1,item:!0},l.a.createElement(lt.b,{as:it.a,label:"Valor",name:"amount",variant:"outlined",className:i.fullWidth,margin:"dense",type:"string"})),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"useWhatsapp-selection"},"Whatsapp"),l.a.createElement(lt.b,{as:ut.a,id:"useWhatsapp-selection",label:"Whatsapp",labelId:"useWhatsapp-selection-label",name:"useWhatsapp",margin:"dense"},l.a.createElement(M.a,{value:!0},"Habilitadas"),l.a.createElement(M.a,{value:!1},"Desabilitadas")))),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"useFacebook-selection"},"Facebook"),l.a.createElement(lt.b,{as:ut.a,id:"useFacebook-selection",label:"Facebook",labelId:"useFacebook-selection-label",name:"useFacebook",margin:"dense"},l.a.createElement(M.a,{value:!0},"Habilitadas"),l.a.createElement(M.a,{value:!1},"Desabilitadas")))),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"useInstagram-selection"},"Instagram"),l.a.createElement(lt.b,{as:ut.a,id:"useInstagram-selection",label:"Instagram",labelId:"useInstagram-selection-label",name:"useInstagram",margin:"dense"},l.a.createElement(M.a,{value:!0},"Habilitadas"),l.a.createElement(M.a,{value:!1},"Desabilitadas")))),l.a.createElement($a.a,{xs:12,sm:6,md:2,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"useCampaigns-selection"},"Campanhas"),l.a.createElement(lt.b,{as:ut.a,id:"useCampaigns-selection",label:"Campanhas",labelId:"useCampaigns-selection-label",name:"useCampaigns",margin:"dense"},l.a.createElement(M.a,{value:!0},"Habilitadas"),l.a.createElement(M.a,{value:!1},"Desabilitadas")))),l.a.createElement($a.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"useSchedules-selection"},"Agendamentos"),l.a.createElement(lt.b,{as:ut.a,id:"useSchedules-selection",label:"Agendamentos",labelId:"useSchedules-selection-label",name:"useSchedules",margin:"dense"},l.a.createElement(M.a,{value:!0},"Habilitadas"),l.a.createElement(M.a,{value:!1},"Desabilitadas")))),l.a.createElement($a.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"useInternalChat-selection"},"Chat Interno"),l.a.createElement(lt.b,{as:ut.a,id:"useInternalChat-selection",label:"Chat Interno",labelId:"useInternalChat-selection-label",name:"useInternalChat",margin:"dense"},l.a.createElement(M.a,{value:!0},"Habilitadas"),l.a.createElement(M.a,{value:!1},"Desabilitadas")))),l.a.createElement($a.a,{xs:12,sm:8,md:2,item:!0},l.a.createElement(mt.a,{margin:"dense",variant:"outlined",fullWidth:!0},l.a.createElement(dt.a,{htmlFor:"useExternalApi-selection"},"API Externa"),l.a.createElement(lt.b,{as:ut.a,id:"useExternalApi-selection",label:"API Externa",labelId:"useExternalApi-selection-label",name:"useExternalApi",margin:"dense"},l.a.createElement(M.a,{value:!0},"Habilitadas"),l.a.createElement(M.a,{value:!1},"Desabilitadas")))),l.a.createElement($a.a,{sm:3,md:1,item:!0},l.a.createElement(Pa,{className:i.fullWidth,loading:c,onClick:()=>r(),variant:"contained"},"Limpar")),void 0!==s.id?l.a.createElement($a.a,{sm:3,md:1,item:!0},l.a.createElement(Pa,{className:i.fullWidth,loading:c,onClick:()=>t(s),variant:"contained",color:"secondary"},"Excluir")):null,l.a.createElement($a.a,{sm:3,md:1,item:!0},l.a.createElement(Pa,{className:i.fullWidth,loading:c,type:"submit",variant:"contained",color:"primary"},"Salvar")))))}function ai(e){const{records:a,onSelect:t}=e,n=$c();return l.a.createElement(Mt.a,{className:n.tableContainer},l.a.createElement(vn.a,{className:n.fullWidth,padding:"none","aria-label":"a dense table"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center",style:{width:"1%"}},"#"),l.a.createElement(Cn.a,{align:"left"},"Nome"),l.a.createElement(Cn.a,{align:"center"},"Usu\xe1rios"),l.a.createElement(Cn.a,{align:"center"},"Conex\xf5es"),l.a.createElement(Cn.a,{align:"center"},"Setores"),l.a.createElement(Cn.a,{align:"center"},"Valor"),l.a.createElement(Cn.a,{align:"center"},"Whatsapp"),l.a.createElement(Cn.a,{align:"center"},"Facebook"),l.a.createElement(Cn.a,{align:"center"},"Instagram"),l.a.createElement(Cn.a,{align:"center"},"Campanhas"),l.a.createElement(Cn.a,{align:"center"},"Agendamentos"),l.a.createElement(Cn.a,{align:"center"},"Chat Interno"),l.a.createElement(Cn.a,{align:"center"},"API Externa"))),l.a.createElement(xn.a,null,a.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center",style:{width:"1%"}},l.a.createElement(k.a,{onClick:()=>t(e),"aria-label":"delete"},l.a.createElement(bc.a,null))),l.a.createElement(Cn.a,{align:"left"},e.name||"-"),l.a.createElement(Cn.a,{align:"center"},e.users||"-"),l.a.createElement(Cn.a,{align:"center"},e.connections||"-"),l.a.createElement(Cn.a,{align:"center"},e.queues||"-"),l.a.createElement(Cn.a,{align:"center"},"$ ",e.amount?e.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00"),l.a.createElement(Cn.a,{align:"center"},(e=>!1===e.useWhatsapp?"N\xe3o":"Sim")(e)),l.a.createElement(Cn.a,{align:"center"},(e=>!1===e.useFacebook?"N\xe3o":"Sim")(e)),l.a.createElement(Cn.a,{align:"center"},(e=>!1===e.useInstagram?"N\xe3o":"Sim")(e)),l.a.createElement(Cn.a,{align:"center"},(e=>!1===e.useCampaigns?"N\xe3o":"Sim")(e)),l.a.createElement(Cn.a,{align:"center"},(e=>!1===e.useSchedules?"N\xe3o":"Sim")(e)),l.a.createElement(Cn.a,{align:"center"},(e=>!1===e.useInternalChat?"N\xe3o":"Sim")(e)),l.a.createElement(Cn.a,{align:"center"},(e=>!1===e.useExternalApi?"N\xe3o":"Sim")(e)))))))}function ti(){const e=$c(),{list:a,save:t,update:r,remove:o}=fa(),[c,i]=Object(n.useState)(!1),[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0});Object(n.useEffect)(()=>{!async function(){await E()}()},[]);const E=async()=>{m(!0);try{const e=await a();u(e)}catch(e){h.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}m(!1)},b=()=>{g({name:"",users:0,connections:0,queues:0,amount:0,useWhatsapp:!0,useFacebook:!0,useInstagram:!0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0})};return l.a.createElement(Mt.a,{className:e.mainPaper,elevation:0},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(ei,{initialValue:p,onDelete:()=>{i(!0)},onSubmit:async e=>{m(!0);try{void 0!==e.id?await r(e):await t(e),await E(),b(),h.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){h.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente")}m(!1)},onCancel:b,loading:s})),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(ai,{records:d,onSelect:e=>{let a=!1!==e.useWhatsapp,t=!1!==e.useFacebook,n=!1!==e.useInstagram,l=!1!==e.useCampaigns,r=!1!==e.useSchedules,o=!1!==e.useInternalChat,c=!1!==e.useExternalApi;g({id:e.id,name:e.name||"",users:e.users||0,connections:e.connections||0,queues:e.queues||0,amount:e.amount.toLocaleString("pt-br",{minimumFractionDigits:2})||0,useWhatsapp:a,useFacebook:t,useInstagram:n,useCampaigns:l,useSchedules:r,useInternalChat:o,useExternalApi:c})}}))),l.a.createElement(_l,{title:"Exclus\xe3o de Registro",open:c,onClose:()=>i(!1),onConfirm:()=>(async()=>{m(!0);try{await o(p.id),await E(),b(),h.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){h.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}m(!1)})()},"Deseja realmente excluir esse registro?"))}var ni=()=>({findAll:async e=>{const{data:a}=await na.request({url:"/helps",method:"GET",params:e});return a},list:async e=>{const{data:a}=await na.request({url:"/helps/list",method:"GET",params:e});return a},save:async e=>{const{data:a}=await na.request({url:"/helps",method:"POST",data:e});return a},update:async e=>{const{data:a}=await na.request({url:"/helps/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await na.request({url:"/helps/".concat(e),method:"DELETE"});return a}});const li=Object(C.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:{width:"100%",overflowX:"scroll",...e.scrollbarStyles},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function ri(e){const{onSubmit:a,onDelete:t,onCancel:r,initialValue:o,loading:c}=e,i=li(),[s,m]=Object(n.useState)(o);Object(n.useEffect)(()=>{m(o)},[o]);return l.a.createElement(lt.e,{enableReinitialize:!0,className:i.fullWidth,initialValues:s,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)}},e=>l.a.createElement(lt.d,{className:i.fullWidth},l.a.createElement($a.a,{spacing:2,justifyContent:"flex-end",container:!0},l.a.createElement($a.a,{xs:12,sm:6,md:3,item:!0},l.a.createElement(lt.b,{as:it.a,label:"T\xedtulo",name:"title",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement($a.a,{xs:12,sm:6,md:3,item:!0},l.a.createElement(lt.b,{as:it.a,label:"C\xf3digo do V\xeddeo",name:"video",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement($a.a,{xs:12,sm:12,md:6,item:!0},l.a.createElement(lt.b,{as:it.a,label:"Descri\xe7\xe3o",name:"description",variant:"outlined",className:i.fullWidth,margin:"dense"})),l.a.createElement($a.a,{sm:3,md:1,item:!0},l.a.createElement(Pa,{className:i.fullWidth,loading:c,onClick:()=>r(),variant:"contained"},"Limpar")),void 0!==s.id?l.a.createElement($a.a,{sm:3,md:1,item:!0},l.a.createElement(Pa,{className:i.fullWidth,loading:c,onClick:()=>t(s),variant:"contained",color:"secondary"},"Excluir")):null,l.a.createElement($a.a,{sm:3,md:1,item:!0},l.a.createElement(Pa,{className:i.fullWidth,loading:c,type:"submit",variant:"contained",color:"primary"},"Salvar")))))}function oi(e){const{records:a,onSelect:t}=e,n=li();return l.a.createElement(Mt.a,{className:n.tableContainer},l.a.createElement(vn.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center",style:{width:"1%"}},"#"),l.a.createElement(Cn.a,{align:"left"},"T\xedtulo"),l.a.createElement(Cn.a,{align:"left"},"Descri\xe7\xe3o"),l.a.createElement(Cn.a,{align:"left"},"V\xeddeo"))),l.a.createElement(xn.a,null,a.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center",style:{width:"1%"}},l.a.createElement(k.a,{onClick:()=>t(e),"aria-label":"delete"},l.a.createElement(bc.a,null))),l.a.createElement(Cn.a,{align:"left"},e.title||"-"),l.a.createElement(Cn.a,{align:"left"},e.description||"-"),l.a.createElement(Cn.a,{align:"left"},e.video||"-"))))))}function ci(){const e=li(),{list:a,save:t,update:r,remove:o}=ni(),[c,i]=Object(n.useState)(!1),[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({title:"",description:"",video:""});Object(n.useEffect)(()=>{!async function(){await E()}()},[]);const E=async()=>{m(!0);try{const e=await a();u(e)}catch(e){h.b.error("N\xe3o foi poss\xedvel carregar a lista de registros")}m(!1)},b=()=>{g({title:"",description:"",video:""})};return l.a.createElement(Mt.a,{className:e.mainPaper,elevation:0},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(ri,{initialValue:p,onDelete:()=>{i(!0)},onSubmit:async e=>{m(!0);try{void 0!==e.id?await r(e):await t(e),await E(),b(),h.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(a){h.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente")}m(!1)},onCancel:b,loading:s})),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(oi,{records:d,onSelect:e=>{g({id:e.id,title:e.title||"",description:e.description||"",video:e.video||""})}}))),l.a.createElement(_l,{title:"Exclus\xe3o de Registro",open:c,onClose:()=>i(!1),onConfirm:()=>(async()=>{m(!0);try{await o(p.id),await E(),b(),h.b.success("Opera\xe7\xe3o realizada com sucesso!")}catch(e){h.b.error("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o")}m(!1)})()},"Deseja realmente excluir esse registro?"))}var ii=t(939);const si=Object(C.a)(e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},tab:{background:"#f2f5f3",borderRadius:4,width:"100%","& .MuiTab-wrapper":{color:"#128c7e"},"& .MuiTabs-flexContainer":{justifyContent:"center"}},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12,width:"100%"},cardAvatar:{fontSize:"55px",color:un.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:pn.a[700]},cardSubtitle:{color:un.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"}}));function mi(e){const{settings:a,scheduleTypeChanged:t}=e,r=si(),{user:o}=Object(n.useContext)(pa),[c,i]=Object(n.useState)("disabled"),[s,m]=Object(n.useState)("disabled"),[d,u]=Object(n.useState)("text"),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(!1),[f,y]=Object(n.useState)("disabled"),[v,x]=Object(n.useState)(!1),[C,O]=Object(n.useState)("enabled"),[S,k]=Object(n.useState)(!1),[T,w]=Object(n.useState)("enabled"),[A,j]=Object(n.useState)(!1),[I,N]=Object(n.useState)("enabled"),[R,D]=Object(n.useState)(!1),[P,L]=Object(n.useState)("enabled"),[W,F]=Object(n.useState)(!1),[q,z]=Object(n.useState)("enabled"),[B,U]=Object(n.useState)(!1),[H,_]=Object(n.useState)("enabled"),[V,Y]=Object(n.useState)(!1),[G,Q]=Object(n.useState)("enabled"),[K,X]=Object(n.useState)(!1),[J,Z]=Object(n.useState)("enabled"),[$,ee]=Object(n.useState)(!1),[ae,te]=Object(n.useState)("enabled"),[ne,le]=Object(n.useState)(!1),[re,oe]=Object(n.useState)("enabled"),[ce,ie]=Object(n.useState)(!1),[se,me]=Object(n.useState)("enabled"),[de,ue]=Object(n.useState)(!1),[pe,ge]=Object(n.useState)(""),[Ee,be]=Object(n.useState)(!1),[fe,he]=Object(n.useState)(""),[ye,ve]=Object(n.useState)(!1),[xe,Ce]=Object(n.useState)(""),[Oe,Se]=Object(n.useState)(!1),[ke,Te]=Object(n.useState)(""),[we,Ae]=Object(n.useState)(!1),[je,Ie]=Object(n.useState)(""),[Ne,Me]=Object(n.useState)(!1),[Re,De]=Object(n.useState)(""),[Pe,Le]=Object(n.useState)(!1),[We,Fe]=Object(n.useState)(""),[qe,ze]=Object(n.useState)(!1),[Be,Ue]=Object(n.useState)(""),[He,_e]=Object(n.useState)(!1),[Ve,Ye]=Object(n.useState)(""),[Ge,Qe]=Object(n.useState)(!1),[Ke,Xe]=Object(n.useState)(""),{update:Je}=No();return Object(n.useEffect)(()=>{if(Array.isArray(a)&&a.length){const e=a.find(e=>"userCreation"===e.key);e&&i(e.value);const t=a.find(e=>"userRating"===e.key);t&&i(t.value);const n=a.find(e=>"scheduleType"===e.key);n&&m(n.value);const l=a.find(e=>"chatBotType"===e.key);l&&u(l.value);const r=a.find(e=>"CheckMsgIsGroup"===e.key);r&&O(r.value);const o=a.find(e=>"sendGreetingAccepted"===e.key);o&&w(o.value);const c=a.find(e=>"userRandom"===e.key);c&&N(c.value);const s=a.find(e=>"sendMsgTransfTicket"===e.key);s&&L(s.value);const d=a.find(e=>"acceptCallWhatsapp"===e.key);d&&z(d.value);const p=a.find(e=>"hoursCloseTicketsAuto"===e.key);p&&_(p.value);const g=a.find(e=>"sendSignMessage"===e.key);g&&Q(g.value);const E=a.find(e=>"sendGreetingMessageOneQueues"===e.key);E&&Z(E.value);const b=a.find(e=>"sendQueuePosition"===e.key);b&&te(b.value);const f=a.find(e=>"sendFarewellWaitingTicket"===e.key);f&&oe(f.value);const h=a.find(e=>"acceptAudioMessageContact"===e.key);h&&me(h.value);const y=a.find(e=>"ipixc"===e.key);y&&ge(y.value);const v=a.find(e=>"tokenixc"===e.key);v&&he(v.value);const x=a.find(e=>"ipmkauth"===e.key);x&&De(x.value);const C=a.find(e=>"clientidmkauth"===e.key);C&&Fe(C.value);const S=a.find(e=>"clientsecretmkauth"===e.key);S&&Ue(S.value);const k=a.find(e=>"smtpauth"===e.key);k&&Ce(k.value);const T=a.find(e=>"usersmtpauth"===e.key);T&&Te(T.value);const A=a.find(e=>"clientsecretsmtpauth"===e.key);A&&Ie(A.value);const j=a.find(e=>"asaas"===e.key);j&&Ye(j.value)}},[a]),l.a.createElement(l.a.Fragment,null,l.a.createElement($a.a,{spacing:3,container:!0},o.super?l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"UserCreation-label"},"Cria\xe7\xe3o de Empresa/Usu\xe1rio"),l.a.createElement(ut.a,{labelId:"UserCreation-label",value:f,onChange:async e=>{!async function(e){y(e),x(!0),await Je({key:"userCreation",value:e}),x(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitadas"),l.a.createElement(M.a,{value:"enabled"},"Habilitadas")),l.a.createElement(ii.a,null,v&&"Atualizando..."))):null,l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"ratings-label"},"Avalia\xe7\xf5es"),l.a.createElement(ut.a,{labelId:"ratings-label",value:c,onChange:async e=>{!async function(e){i(e),g(!0),await Je({key:"userRating",value:e}),g(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitadas"),l.a.createElement(M.a,{value:"enabled"},"Habilitadas")),l.a.createElement(ii.a,null,p&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"schedule-type-label"},"Agendamento de Expediente"),l.a.createElement(ut.a,{labelId:"schedule-type-label",value:s,onChange:async e=>{!async function(e){m(e),b(!0),await Je({key:"scheduleType",value:e}),b(!1),"function"===typeof t&&t(e)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"queue"},"Gerenciamento Por Fila/Setor"),l.a.createElement(M.a,{value:"company"},"Gerenciamento Por Empresa")),l.a.createElement(ii.a,null,E&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"sendGreetingAccepted-label"},"Enviar sauda\xe7\xe3o ao aceitar o atendimento"),l.a.createElement(ut.a,{labelId:"sendGreetingAccepted-label",value:T,onChange:async e=>{!async function(e){w(e),j(!0),await Je({key:"sendGreetingAccepted",value:e}),j(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,A&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"userRandom-label"},"Escolher Operador Aleat\xf3rio Ao Escolher Setor"),l.a.createElement(ut.a,{labelId:"userRandom-label",value:I,onChange:async e=>{!async function(e){N(e),D(!0),await Je({key:"userRandom",value:e}),D(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,R&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"sendMsgTransfTicket-label"},"Enviar mensagem de transfer\xeancia de Setor/Atendente"),l.a.createElement(ut.a,{labelId:"sendMsgTransfTicket-label",value:P,onChange:async e=>{!async function(e){L(e),F(!0),await Je({key:"sendMsgTransfTicket",value:e}),F(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,W&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"CheckMsgIsGroup-label"},"Ignorar mensagens de grupo"),l.a.createElement(ut.a,{labelId:"CheckMsgIsGroup-label",value:C,onChange:async e=>{!async function(e){O(e),k(!0),await Je({key:"CheckMsgIsGroup",value:e}),k(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,S&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"schedule-type-label"},"Tipo do Bot"),l.a.createElement(ut.a,{labelId:"schedule-type-label",value:d,onChange:async e=>{!async function(e){u(e),await Je({key:"chatBotType",value:e}),"function"===typeof t&&u(e)}(e.target.value)}},l.a.createElement(M.a,{value:"text"},"Texto"),l.a.createElement(M.a,{value:"button"},"Bot\xf5es"),l.a.createElement(M.a,{value:"list"},"Lista")),l.a.createElement(ii.a,null,E&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"acceptCallWhatsapp-label"},"Informar que n\xe3o aceita liga\xe7\xe3o no whatsapp"),l.a.createElement(ut.a,{labelId:"acceptCallWhatsapp-label",value:q,onChange:async e=>{!async function(e){z(e),U(!0),await Je({key:"acceptCallWhatsapp",value:e}),U(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,B&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"sendSignMessage-label"},"Permite atendente escolher ENVIAR Assinatura"),l.a.createElement(ut.a,{labelId:"sendSignMessage-label",value:G,onChange:async e=>{!async function(e){Q(e),X(!0),await Je({key:"sendSignMessage",value:e}),X(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,K&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"sendGreetingMessageOneQueues-label"},"Enviar sauda\xe7\xe3o quando houver somente 1 setor"),l.a.createElement(ut.a,{labelId:"sendGreetingMessageOneQueues-label",value:J,onChange:async e=>{!async function(e){Z(e),ee(!0),await Je({key:"sendGreetingMessageOneQueues",value:e}),ee(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,$&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"sendQueuePosition-label"},"Enviar mensagem com a posic\xe3o na fila"),l.a.createElement(ut.a,{labelId:"sendQueuePosition-label",value:ae,onChange:async e=>{!async function(e){te(e),le(!0),await Je({key:"sendQueuePosition",value:e}),le(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,ne&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"sendFarewellWaitingTicket-label"},"Enviar mensagem de despedida quando aguardando"),l.a.createElement(ut.a,{labelId:"sendFarewellWaitingTicket-label",value:re,onChange:async e=>{!async function(e){oe(e),ie(!0),await Je({key:"sendFarewellWaitingTicket",value:e}),ie(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,ce&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:6,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(dt.a,{id:"acceptAudioMessageContact-label"},"Aceita receber audio de todos contatos"),l.a.createElement(ut.a,{labelId:"acceptAudioMessageContact-label",value:se,onChange:async e=>{!async function(e){me(e),ue(!0),await Je({key:"acceptAudioMessageContact",value:e}),ue(!1)}(e.target.value)}},l.a.createElement(M.a,{value:"disabled"},"Desabilitado"),l.a.createElement(M.a,{value:"enabled"},"Habilitado")),l.a.createElement(ii.a,null,de&&"Atualizando...")))),l.a.createElement($a.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(nl.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:r.tab},l.a.createElement(ll.a,{label:"MK-AUTH"})),l.a.createElement($a.a,{xs:12,sm:12,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(it.a,{id:"ipmkauth",name:"ipmkauth",margin:"dense",label:"Ip Mk-Auth",variant:"outlined",value:Re,onChange:async e=>{!async function(e){De(e),Le(!0),await Je({key:"ipmkauth",value:e}),h.b.success("Opera\xe7\xe3o atualizada com sucesso."),Le(!1)}(e.target.value)}}),l.a.createElement(ii.a,null,Pe&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:12,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(it.a,{id:"clientidmkauth",name:"clientidmkauth",margin:"dense",label:"Client Id",variant:"outlined",value:We,onChange:async e=>{!async function(e){Fe(e),ze(!0),await Je({key:"clientidmkauth",value:e}),h.b.success("Opera\xe7\xe3o atualizada com sucesso."),ze(!1)}(e.target.value)}}),l.a.createElement(ii.a,null,qe&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:12,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(it.a,{id:"clientsecretmkauth",name:"clientsecretmkauth",margin:"dense",label:"Client Secret",variant:"outlined",value:Be,onChange:async e=>{!async function(e){Ue(e),_e(!0),await Je({key:"clientsecretmkauth",value:e}),h.b.success("Opera\xe7\xe3o atualizada com sucesso."),_e(!1)}(e.target.value)}}),l.a.createElement(ii.a,null,He&&"Atualizando...")))),l.a.createElement($a.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(nl.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:r.tab},l.a.createElement(ll.a,{label:"ASAAS"})),l.a.createElement($a.a,{xs:12,sm:12,md:12,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(it.a,{id:"asaas",name:"asaas",margin:"dense",label:"Token Asaas",variant:"outlined",value:Ve,onChange:async e=>{!async function(e){Ye(e),Qe(!0),await Je({key:"asaas",value:e}),h.b.success("Opera\xe7\xe3o atualizada com sucesso."),Qe(!1)}(e.target.value)}}),l.a.createElement(ii.a,null,Ge&&"Atualizando...")))),l.a.createElement($a.a,{spacing:3,container:!0,style:{marginBottom:10}},l.a.createElement(nl.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:r.tab},l.a.createElement(ll.a,{label:"SMPT"})),l.a.createElement($a.a,{xs:12,sm:12,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(it.a,{id:"smtpauth",name:"smtpauth",margin:"dense",label:"Url SMTP",variant:"outlined",value:xe,onChange:async e=>{!async function(e){Ce(e),Se(!0),await Je({key:"smtpauth",value:e}),h.b.success("Opera\xe7\xe3o atualizada com sucesso."),Se(!1)}(e.target.value)}}),l.a.createElement(ii.a,null,Oe&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:12,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(it.a,{id:"usersmtpauth",name:"usersmtpauth",margin:"dense",label:"User Smpt",variant:"outlined",value:ke,onChange:async e=>{!async function(e){Te(e),Ae(!0),await Je({key:"usersmtpauth",value:e}),h.b.success("Opera\xe7\xe3o atualizada com sucesso."),Ae(!1)}(e.target.value)}}),l.a.createElement(ii.a,null,we&&"Atualizando..."))),l.a.createElement($a.a,{xs:12,sm:12,md:4,item:!0},l.a.createElement(mt.a,{className:r.selectContainer},l.a.createElement(it.a,{id:"clientsecretsmtpauth",name:"clientsecretsmtpauth",margin:"dense",label:"PassWord Smpt",variant:"outlined",value:je,onChange:async e=>{!async function(e){Ie(e),Me(!0),await Je({key:"clientsecretsmtpauth",value:e}),h.b.success("Opera\xe7\xe3o atualizada com sucesso."),Me(!1)}(e.target.value)}}),l.a.createElement(ii.a,null,Ne&&"Atualizando...")))))}const di=e=>{let{user:a,yes:t,no:n}=e;return a.super?t():n()};di.defaultProps={user:{},yes:()=>null,no:()=>null};var ui=di;const pi=Object(C.a)(e=>({root:{flex:1,backgroundColor:e.palette.background.paper},mainPaper:{...e.scrollbarStyles,overflowY:"scroll",flex:1},tab:{backgroundColor:"light"===e.mode?"#f2f2f2":"#7f7f7f",borderRadius:4},paper:{...e.scrollbarStyles,overflowY:"scroll",padding:e.spacing(2),display:"flex",alignItems:"center",width:"100%"},container:{width:"100%",maxHeight:"100%"},control:{padding:e.spacing(1)},textfield:{width:"100%"}}));var gi=()=>{const e=pi(),[a,t]=Object(n.useState)("options"),[r,o]=Object(n.useState)([]),[c,i]=Object(n.useState)({}),[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)({}),[p,g]=Object(n.useState)({}),[E,b]=Object(n.useState)(!1),{getCurrentUserInfo:f}=ua(),{find:y,updateSchedules:v}=Hc(),{getAll:x}=No();Object(n.useEffect)(()=>{!async function(){m(!0);try{const e=localStorage.getItem("companyId"),a=await y(e),t=await x();if(i(a),o(a.schedules),g(t),Array.isArray(t)){const e=t.find(e=>"scheduleType"===e.key);e&&b("company"===e.value)}const n=await f();u(n)}catch(e){h.b.error(e)}m(!1)}()},[]);const C=()=>d.super;return l.a.createElement(xc,{className:e.root},l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("settings.title"))),l.a.createElement(Mt.a,{className:e.mainPaper,elevation:1},l.a.createElement(nl.a,{value:a,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:(e,a)=>{t(a)},className:e.tab},l.a.createElement(ll.a,{label:"Op\xe7\xf5es",value:"options"}),E&&l.a.createElement(ll.a,{label:"Hor\xe1rios",value:"schedules"}),C()?l.a.createElement(ll.a,{label:"Empresas",value:"companies"}):null,C()?l.a.createElement(ll.a,{label:"Planos",value:"plans"}):null,C()?l.a.createElement(ll.a,{label:"Ajuda",value:"helps"}):null),l.a.createElement(Mt.a,{className:e.paper,elevation:0},l.a.createElement(Sr,{className:e.container,value:a,name:"schedules"},l.a.createElement(Uc,{loading:s,onSubmit:async e=>{m(!0);try{o(e),await v({id:c.id,schedules:e}),h.b.success("Hor\xe1rios atualizados com sucesso.")}catch(a){h.b.error(a)}m(!1)},initialValues:r})),l.a.createElement(ui,{user:d,yes:()=>l.a.createElement(Sr,{className:e.container,value:a,name:"companies"},l.a.createElement(Zc,null))}),l.a.createElement(ui,{user:d,yes:()=>l.a.createElement(Sr,{className:e.container,value:a,name:"plans"},l.a.createElement(ti,null))}),l.a.createElement(ui,{user:d,yes:()=>l.a.createElement(Sr,{className:e.container,value:a,name:"helps"},l.a.createElement(ci,null))}),l.a.createElement(Sr,{className:e.container,value:a,name:"options"},l.a.createElement(mi,{settings:p,scheduleTypeChanged:e=>b("company"===e)})))))},Ei=t(1586),bi=t(1554),fi=t(1580);function hi(e){const{errorText:a,...t}=e,[n,r]=Object(lt.f)(e);return l.a.createElement(it.a,Object.assign({type:"text",error:r.touched&&r.error&&!0,helperText:function(){const[e,a]=Object(Je.at)(r,"touched","error");if(e&&a)return a}()},n,t))}function yi(e){const{label:a,data:t,...n}=e,[r,o]=Object(lt.f)(e),{value:c}=r,[i,s]=Object(Je.at)(o,"touched","error"),m=i&&s&&!0;return l.a.createElement(mt.a,Object.assign({},n,{error:m}),l.a.createElement(dt.a,null,a),l.a.createElement(ut.a,Object.assign({},r,{value:c||""}),t.map((e,a)=>l.a.createElement(M.a,{key:a,value:e.value},e.label))),function(){if(m)return l.a.createElement(ii.a,null,s)}())}yi.defaultProps={data:[]};var vi=yi;t(120),t(1570),t(928);const xi=[{value:"BR",label:"Brasil"},{value:"usa",label:"United States"}];function Ci(e){const{user:a}=Object(n.useContext)(pa),[t,r]=Object(n.useState)(a.company.billingName),[o,c]=Object(n.useState)(a.company.addressZipCode),[i,s]=Object(n.useState)(a.company.addressStreet),[m,d]=Object(n.useState)(a.company.addressState),[u,p]=Object(n.useState)(a.company.addressCity),[g,E]=Object(n.useState)(a.company.addressDistrict),{formField:{firstName:b,address1:f,city:h,state:y,zipcode:v,country:x},setFieldValue:C}=e;return Object(n.useEffect)(()=>{C("firstName",t),C("zipcode",o),C("address2",i),C("state",m),C("city",u),C("country",g)},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{variant:"h6",gutterBottom:!0},"Vamos precisar de algumas informa\xe7\xf5es"),l.a.createElement($a.a,{container:!0,spacing:3},l.a.createElement($a.a,{item:!0,xs:6,sm:6},l.a.createElement(hi,{name:b.name,label:b.label,fullWidth:!0,value:t,onChange:e=>{r(e.target.value),C("firstName",e.target.value)}})),l.a.createElement($a.a,{item:!0,xs:6,sm:6},l.a.createElement(vi,{name:x.name,label:x.label,data:xi,fullWidth:!0,value:g,onChange:e=>{E(e.target.value),C("country",e.target.value)}})),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(hi,{name:v.name,label:v.label,fullWidth:!0,value:o,onChange:e=>{c(e.target.value),C("zipcode",e.target.value)}})),l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(hi,{name:f.name,label:f.label,fullWidth:!0,value:i,onChange:e=>{s(e.target.value),C("address2",e.target.value)}})),l.a.createElement($a.a,{item:!0,xs:4},l.a.createElement(hi,{name:y.name,label:y.label,fullWidth:!0,value:m,onChange:e=>{d(e.target.value),C("state",e.target.value)}})),l.a.createElement($a.a,{item:!0,xs:8},l.a.createElement(hi,{name:h.name,label:h.label,fullWidth:!0,value:u,onChange:e=>{p(e.target.value),C("city",e.target.value)}}))))}var Oi=t(1553),Si=t(1552),ki=t(889),Ti=t.n(ki),wi=t(634),Ai=t.n(wi),ji=t(352),Ii=t.n(ji);const Ni=Object(C.a)(e=>({"@global":{ul:{margin:0,padding:0,listStyle:"none"}},margin:{margin:e.spacing(1)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:{borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3),[e.breakpoints.up("sm")]:{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}},customCard:{display:"flex",marginTop:"16px",alignItems:"center",flexDirection:"column"},custom:{display:"flex",alignItems:"center",justifyContent:"space-between"}}));function Mi(e){const{setFieldValue:a,setActiveStep:t,activeStep:r}=e,o=Ni(),[c,i]=l.a.useState(3),[s,m]=l.a.useState(3),[d,u]=l.a.useState([]),[p,g]=l.a.useState(!1),{getPlanCompany:E}=fa();Object(n.useEffect)(()=>{!async function(){await b()}()},[]);const b=async()=>{g(!0);try{const e=localStorage.getItem("companyId"),a=(await E(void 0,e)).plan,t=[];t.push({title:a.name,planId:a.id,price:a.amount,description:["".concat(a.users," Usu\xe1rios"),"".concat(a.connections," Conex\xe3o"),"".concat(a.queues," Filas")],users:a.users,connections:a.connections,queues:a.queues,buttonText:"SELECIONAR",buttonVariant:"outlined"}),u(t)}catch(e){}g(!1)},[f,h]=l.a.useState(49);return l.a.createElement(l.a.Fragment,null,l.a.createElement($a.a,{container:!0,spacing:3},null===d||void 0===d?void 0:d.map(e=>l.a.createElement($a.a,{item:!0,key:e.title,xs:12,sm:"Enterprise"===e.title?12:6,md:12},l.a.createElement(En.a,null,l.a.createElement(bn.a,{title:e.title,subheader:e.subheader,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},action:"Pro"===e.title?l.a.createElement(Ti.a,null):null,className:o.cardHeader}),l.a.createElement(Si.a,null,l.a.createElement("div",{className:o.cardPricing},l.a.createElement(I.a,{component:"h2",variant:"h3",color:"textPrimary"},e.custom?l.a.createElement(l.a.Fragment,null,"$",f.toLocaleString("en-US",{minimumFractionDigits:2})):l.a.createElement(l.a.Fragment,null,"$",e.price.toLocaleString("en-US",{minimumFractionDigits:2}))),l.a.createElement(I.a,{variant:"h6",color:"textSecondary"},"/m\xeas")),l.a.createElement("ul",null,e.description.map(e=>l.a.createElement(I.a,{component:"li",variant:"subtitle1",align:"center",key:e},e)),e.custom&&l.a.createElement("div",{className:o.customCard},l.a.createElement("div",{className:o.custom},l.a.createElement(I.a,{component:"li",variant:"subtitle1",align:"center",key:12},l.a.createElement(k.a,{"aria-label":"delete",className:o.margin,size:"small"},l.a.createElement(Ai.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;i(a),h(f-11)})(0,c-1)})),c," Usu\xe1rios",l.a.createElement(k.a,{"aria-label":"delete",className:o.margin,size:"small"},l.a.createElement(Ii.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;i(a),h(f+11)})(0,c+1)})))),l.a.createElement("div",{className:o.custom},l.a.createElement(I.a,{component:"li",variant:"subtitle1",align:"center",key:12},l.a.createElement(k.a,{"aria-label":"delete",className:o.margin,size:"small"},l.a.createElement(Ai.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;m(a),h(f-20)})(0,s-1)})),s," Conex\xe3o",l.a.createElement(k.a,{"aria-label":"delete",className:o.margin,size:"small"},l.a.createElement(Ii.a,{fontSize:"inherit",onClick:e=>((e,a)=>{if(a<3)return;m(a),h(f+20)})(0,s+1)}))))))),l.a.createElement(Oi.a,null,l.a.createElement(Ma.a,{fullWidth:!0,variant:e.buttonVariant,color:"primary",onClick:()=>{e.custom?a("plan",JSON.stringify({users:c,connections:s,price:f})):a("plan",JSON.stringify(e)),t(r+1)}},e.buttonText)))))))}var Ri=Object(C.a)(e=>({listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}));var Di=function(e){const{formValues:a}=e,t=Ri(),{plan:n}=a,r=JSON.parse(n),{users:o,connections:c,price:i}=r;return l.a.createElement($a.a,{item:!0,xs:12,sm:12},l.a.createElement(I.a,{variant:"h6",gutterBottom:!0,className:t.title},"Detalhes do plano"),l.a.createElement(I.a,{gutterBottom:!0},"Usu\xe1rios: ",o),l.a.createElement(I.a,{gutterBottom:!0},"Whatsapps: ",c),l.a.createElement(I.a,{gutterBottom:!0},"Cobran\xe7a: Mensal"),l.a.createElement(I.a,{gutterBottom:!0},"Total: R$",i.toLocaleString("pt-br",{minimumFractionDigits:2})))};var Pi,Li,Wi,Fi,qi=function(){const{values:e}=Object(lt.g)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{variant:"h6",gutterBottom:!0},"Resumo da assinatura"),l.a.createElement($a.a,{container:!0,spacing:2},l.a.createElement(Di,{formValues:e})))},zi=t(890),Bi=t.n(zi),Ui=t(92),Hi=t(99);Hi.default.div(Pi||(Pi=Object(Ui.a)(["\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n"])));const _i=Hi.default.div(Li||(Li=Object(Ui.a)(["\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n"]))),Vi=Hi.default.div(Wi||(Wi=Object(Ui.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n"])));Hi.default.div(Fi||(Fi=Object(Ui.a)(["\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n"])));var Yi=t(894),Gi=t(638);var Qi=function(e){const{pix:a}=e,[t]=Object(n.useState)(a.qrcode.qrcode),[r,o]=Object(n.useState)(!1),c=Object(f.g)(),{dateToClient:i}=da();return Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId");oa({companyId:e}).on("company-".concat(e,"-payment"),e=>{"CONCLUIDA"===e.action&&(h.b.success("Sua licen\xe7a foi renovada at\xe9 ".concat(i(e.company.dueDate),"!")),setTimeout(()=>{c.push("/")},4e3))})},[c,i]),l.a.createElement(l.a.Fragment,null,l.a.createElement(_i,null,l.a.createElement("span",null,"TOTAL"),l.a.createElement("strong",null,"R$",a.valor.original.toLocaleString("pt-br",{minimumFractionDigits:2}))),l.a.createElement(Vi,null,l.a.createElement(Bi.a,{value:t}),l.a.createElement(Yi.CopyToClipboard,{text:t,onCopy:()=>{setTimeout(()=>{o(!1)},1e3),o(!0)}},l.a.createElement("button",{className:"copy-button",type:"button"},r?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Copiado"),l.a.createElement(Gi.a,{size:18})):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Copiar c\xf3digo QR"),l.a.createElement(Gi.b,{size:18})))),l.a.createElement("span",null,"Para finalizar, basta realizar o pagamento escaneando ou colando o c\xf3digo Pix acima :)")))},Ki={formId:"checkoutForm",formField:{firstName:{name:"firstName",label:"Nome completo*",requiredErrorMsg:"O nome completo \xe9 obrigat\xf3rio"},lastName:{name:"lastName",label:"Last name*",requiredErrorMsg:"Last name is required"},address1:{name:"address2",label:"Endere\xe7o*",requiredErrorMsg:"O Endere\xe7o \xe9 obrigat\xf3rio"},city:{name:"city",label:"Cidade*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},state:{name:"state",label:"Estado*",requiredErrorMsg:"Cidade \xe9 obrigat\xf3ria"},zipcode:{name:"zipcode",label:"CEP*",requiredErrorMsg:"CEP \xe9 obrigat\xf3rio",invalidErrorMsg:"Formato de CEP inv\xe1lido"},country:{name:"country",label:"Pa\xeds*",requiredErrorMsg:"Pa\xeds \xe9 obrigat\xf3rio"},useAddressForPaymentDetails:{name:"useAddressForPaymentDetails",label:"Use this address for payment details"},invoiceId:{name:"invoiceId",label:"Use this invoiceId"},nameOnCard:{name:"nameOnCard",label:"Name on card*",requiredErrorMsg:"Name on card is required"},cardNumber:{name:"cardNumber",label:"Card number*",requiredErrorMsg:"Card number is required",invalidErrorMsg:"Card number is not valid (e.g. 4111111111111)"},expiryDate:{name:"expiryDate",label:"Expiry date*",requiredErrorMsg:"Expiry date is required",invalidErrorMsg:"Expiry date is not valid"},cvv:{name:"cvv",label:"CVV*",requiredErrorMsg:"CVV is required",invalidErrorMsg:"CVV is invalid (e.g. 357)"}}};const{formField:{firstName:Xi,address1:Ji,city:Zi,zipcode:$i,country:es}}=Ki;var as=[nt.d().shape({[Xi.name]:nt.f().required("".concat(Xi.requiredErrorMsg)),[Ji.name]:nt.f().required("".concat(Ji.requiredErrorMsg)),[Zi.name]:nt.f().nullable().required("".concat(Zi.requiredErrorMsg)),[$i.name]:nt.f().required("".concat($i.requiredErrorMsg)),[es.name]:nt.f().nullable().required("".concat(es.requiredErrorMsg))})];const{formField:{firstName:ts,lastName:ns,address1:ls,city:rs,state:os,zipcode:cs,country:is,useAddressForPaymentDetails:ss,nameOnCard:ms,cardNumber:ds,invoiceId:us,cvv:ps}}=Ki;var gs={[ts.name]:"",[ns.name]:"",[ls.name]:"",[rs.name]:"",[os.name]:"",[cs.name]:"",[is.name]:"",[ss.name]:!1,[ms.name]:"",[ds.name]:"",[us.name]:"",[ps.name]:""},Es=Object(C.a)(e=>({stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%"}}));var bs=function(e){const a=["Dados","Personalizar","Revisar"],{formId:t,formField:r}=Ki,o=Es(),[c,i]=Object(n.useState)(1),[s,m]=Object(n.useState)(null),[d]=Object(n.useState)(e.Invoice.id),u=as[c],p=c===a.length-1,{user:g}=Object(n.useContext)(pa);function E(){i(c-1)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{component:"h1",variant:"h4",align:"center"},"Falta pouco!"),l.a.createElement(Ei.a,{activeStep:c,className:o.stepper},a.map(e=>l.a.createElement(bi.a,{key:e},l.a.createElement(fi.a,null,e)))),l.a.createElement(l.a.Fragment,null,c===a.length?l.a.createElement(Qi,{pix:s}):l.a.createElement(lt.e,{initialValues:{...g,...gs},validationSchema:u,onSubmit:function(e,a){p?async function(e,a){try{const t=JSON.parse(e.plan),n={firstName:e.firstName,lastName:e.lastName,address2:e.address2,city:e.city,state:e.state,zipcode:e.zipcode,country:e.country,useAddressForPaymentDetails:e.useAddressForPaymentDetails,nameOnCard:e.nameOnCard,cardNumber:e.cardNumber,cvv:e.cvv,plan:e.plan,price:t.price,users:t.users,connections:t.connections,invoiceId:d},{data:l}=await na.post("/subscription",n);m(l),a.setSubmitting(!0),i(c+1),h.b.success("Assinatura realizada com sucesso!, aguardando a realiza\xe7\xe3o do pagamento")}catch(t){a.setSubmitting(!1),Ze(t)}}(e,a):(i(c+1),a.setTouched({}),a.setSubmitting(!1))}},e=>{let{isSubmitting:a,setFieldValue:n,values:s}=e;return l.a.createElement(lt.d,{id:t},function(e,a,t,n){switch(e){case 0:return l.a.createElement(Ci,{formField:r,values:n,setFieldValue:a});case 1:return l.a.createElement(Mi,{formField:r,setFieldValue:a,setActiveStep:t,activeStep:e,invoiceId:d,values:n});case 2:return l.a.createElement(qi,null);default:return l.a.createElement("div",null,"Not Found")}}(c,n,i,s),l.a.createElement("div",{className:o.buttons},1!==c&&l.a.createElement(Ma.a,{onClick:E,className:o.button},"VOLTAR"),l.a.createElement("div",{className:o.wrapper},1!==c&&l.a.createElement(Ma.a,{disabled:a,type:"submit",variant:"contained",color:"primary",className:o.button},p?"PAGAR":"PR\xd3XIMO"),a&&l.a.createElement(Ra.a,{size:24,className:o.buttonProgress}))))})))};const fs=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var hs=e=>{let{open:a,onClose:t,Invoice:r,contactId:o,initialValues:c,onSave:i}=e;const s=fs(),m=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{m.current=!1},[]);return l.a.createElement("div",{className:s.root},l.a.createElement(rt.a,{open:a,onClose:()=>{t()},maxWidth:"md",scroll:"paper"},l.a.createElement(ct.a,{dividers:!0},l.a.createElement(bs,{Invoice:r}))))};const ys=(e,a)=>{if("LOAD_INVOICES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_USERS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_USER"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},vs=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var xs=()=>{const e=vs(),[a,t]=Object(n.useState)(!1),[r,o]=Object(n.useState)(1),[c,i]=Object(n.useState)(!1),[s]=Object(n.useState)(""),[m,d]=Object(n.useReducer)(ys,[]),[u,p]=l.a.useState([]),[g,E]=Object(n.useState)(null),[b,f]=Object(n.useState)(!1);Object(n.useEffect)(()=>{d({type:"RESET"}),o(1)},[s]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("/invoices/all",{params:{searchParam:s,pageNumber:r}});d({type:"LOAD_INVOICES",payload:e}),i(e.hasMore),t(!1)}catch(e){Ze(e)}})()},500);return()=>clearTimeout(e)},[s,r]);const h=e=>{const a=x()(x()()).format("DD/MM/yyyy"),t=x()(e.dueDate).format("DD/MM/yyyy");var n=x()(t,"DD/MM/yyyy").diff(x()(a,"DD/MM/yyyy"));if(x.a.duration(n).asDays()<0&&"paid"!==e.status)return{backgroundColor:"#ffbcbc9c"}},y=e=>{const a=x()(x()()).format("DD/MM/yyyy"),t=x()(e.dueDate).format("DD/MM/yyyy");var n=x()(t,"DD/MM/yyyy").diff(x()(a,"DD/MM/yyyy")),l=x.a.duration(n).asDays();return"paid"===e.status?"Pago":l<0?"Vencido":"Em Aberto"};return l.a.createElement(xc,null,l.a.createElement(hs,{open:b,onClose:()=>{E(null),f(!1)},"aria-labelledby":"form-dialog-title",Invoice:u,contactId:g}),l.a.createElement(Oc,null,l.a.createElement(Tc,null,"Faturas (",m.length,")")),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&o(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},"Detalhes"),l.a.createElement(Cn.a,{align:"center"},"Usu\xe1rios"),l.a.createElement(Cn.a,{align:"center"},"Conex\xf5es"),l.a.createElement(Cn.a,{align:"center"},"Filas"),l.a.createElement(Cn.a,{align:"center"},"Valor"),l.a.createElement(Cn.a,{align:"center"},"Data Venc."),l.a.createElement(Cn.a,{align:"center"},"Status"),l.a.createElement(Cn.a,{align:"center"},"A\xe7\xe3o"))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,m.map(e=>l.a.createElement(kn.a,{style:h(e),key:e.id},l.a.createElement(Cn.a,{align:"center"},e.detail),l.a.createElement(Cn.a,{align:"center"},e.users),l.a.createElement(Cn.a,{align:"center"},e.connections),l.a.createElement(Cn.a,{align:"center"},e.queues),l.a.createElement(Cn.a,{style:{fontWeight:"bold"},align:"center"},e.value.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),l.a.createElement(Cn.a,{align:"center"},x()(e.dueDate).format("DD/MM/YYYY")),l.a.createElement(Cn.a,{style:{fontWeight:"bold"},align:"center"},y(e)),l.a.createElement(Cn.a,{align:"center"},"Pago"!==y(e)?l.a.createElement(Ma.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(e=>{p(e),E(null),f(!0)})(e)},"PAGAR"):l.a.createElement(Ma.a,{size:"small",variant:"outlined"},"PAGO")))),a&&l.a.createElement(Ac,{columns:4}))))))},Cs=t(67),Os=t.n(Cs);const Ss=Object(C.a)(e=>({on:{color:ja.a[600],fontSize:"20px"},off:{color:Tn.a[600],fontSize:"20px"}}));var ks=e=>{let{user:a}=e;const t=Ss();return a.online?l.a.createElement(en.a,{className:t.on}):l.a.createElement(An.a,{className:t.off})};const Ts=(e,a)=>{if("LOAD_USERS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_USERS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_USER"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},ws=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var As=()=>{const e=ws(),[a,t]=Object(n.useState)(!1),[r,o]=Object(n.useState)(1),[c,i]=Object(n.useState)(!1),[s,m]=Object(n.useState)(null),[d,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)(!1),[f,y]=Object(n.useState)(""),[v,x]=Object(n.useReducer)(Ts,[]);Object(n.useEffect)(()=>{x({type:"RESET"}),o(1)},[f]),Object(n.useEffect)(()=>{t(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("/users/",{params:{searchParam:f,pageNumber:r}});x({type:"LOAD_USERS",payload:e.users}),i(e.hasMore),t(!1)}catch(e){Ze(e)}})()},500);return()=>clearTimeout(e)},[f,r]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-user"),e=>{"update"!==e.action&&"create"!==e.action||x({type:"UPDATE_USERS",payload:e.user}),"delete"===e.action&&x({type:"DELETE_USER",payload:+e.userId})}),()=>{a.disconnect()}},[]);return l.a.createElement(xc,null,l.a.createElement(_l,{title:d&&"".concat(Qe.a.t("users.confirmationModal.deleteTitle")," ").concat(d.name,"?"),open:E,onClose:b,onConfirm:()=>(async e=>{try{await na.delete("/users/".concat(e)),h.b.success(Qe.a.t("users.toasts.deleted"))}catch(a){Ze(a)}u(null),y(""),o(1)})(d.id)},Qe.a.t("users.confirmationModal.deleteMessage")),l.a.createElement(xt,{open:p,onClose:()=>{m(null),g(!1)},"aria-labelledby":"form-dialog-title",userId:s&&s.id}),l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("users.title")," (",v.length,")"),l.a.createElement(kc,null,l.a.createElement(it.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:f,onChange:e=>{y(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{style:{color:"gray"}}))}}),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{m(null),g(!0)}},Qe.a.t("users.buttons.add")))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(t+100)<l&&o(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("users.table.id")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("users.table.status")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("users.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("users.table.email")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("users.table.profile")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("users.table.whatsapp")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("users.table.startWork")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("users.table.endWork")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("users.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,v.map(e=>{var a;return l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center"},e.id),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(ks,{user:e})),l.a.createElement(Cn.a,{align:"center"},e.name),l.a.createElement(Cn.a,{align:"center"},e.email),l.a.createElement(Cn.a,{align:"center"},e.profile),l.a.createElement(Cn.a,{align:"center"},null===(a=e.whatsapp)||void 0===a?void 0:a.name),l.a.createElement(Cn.a,{align:"center"},e.startWork),l.a.createElement(Cn.a,{align:"center"},e.endWork),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{m(e),g(!0)})(e)},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{size:"small",onClick:a=>{b(!0),u(e)}},l.a.createElement(hl.a,null))))}),a&&l.a.createElement(Ac,{columns:8}))))))},js=(t(1280),t(523)),Is=t.n(js),Ns=t(1555),Ms=t(1556),Rs=t(1557);const Ds=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Ps=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Ls=()=>{const e=Ps(),a=Object(f.g)(),{user:t}=Object(n.useContext)(pa),[r,o]=Object(n.useState)(!1),[c,i]=Object(n.useState)(1),[s,m]=Object(n.useState)(""),[d,u]=Object(n.useReducer)(Ds,[]),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[y,v]=Object(n.useState)(null),[x,C]=Object(n.useState)(null),[O,S]=Object(n.useState)(null),[T,w]=Object(n.useState)(null),[A,j]=Object(n.useState)(!1),[I,R]=Object(n.useState)(!1),[D,P]=Object(n.useState)(!1),[L,W]=Object(n.useState)(!1),[F,q]=Object(n.useState)({}),z=Object(n.useRef)(null);Object(n.useEffect)(()=>{u({type:"RESET"}),i(1)},[s]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("/contacts/",{params:{searchParam:s,pageNumber:c}});u({type:"LOAD_CONTACTS",payload:e.contacts}),P(e.hasMore),o(!1)}catch(e){Ze(e)}})()},500);return()=>clearTimeout(e)},[s,c]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-contact"),e=>{"update"!==e.action&&"create"!==e.action||u({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&u({type:"DELETE_CONTACT",payload:+e.contactId})}),()=>{a.disconnect()}},[]);return l.a.createElement(xc,{className:e.mainContainer},l.a.createElement(Ol,{modalOpen:L,initialContact:F,onClose:e=>{(e=>{W(!1),void 0!==e&&void 0!==e.uuid&&a.push("/tickets/".concat(e.uuid))})(e)}}),l.a.createElement(xl,{open:E,onClose:()=>{g(null),b(!1)},"aria-labelledby":"form-dialog-title",contactId:p}),l.a.createElement(_l,{title:y?"".concat(Qe.a.t("contacts.confirmationModal.deleteTitle")," ").concat(y.name,"?"):O?"Bloquear Contato ".concat(O.name,"?"):T?"Desbloquear Contato ".concat(T.name,"?"):"".concat(x?Qe.a.t("contacts.confirmationModal.importTitlte"):Qe.a.t("contactListItems.confirmationModal.importTitlte")),open:A,onClose:j,onConfirm:e=>y?(async e=>{try{await na.delete("/contacts/".concat(e)),h.b.success(Qe.a.t("contacts.toasts.deleted"))}catch(a){Ze(a)}v(null),m(""),i(1)})(y.id):O?(async e=>{try{await na.put("/contacts/block/".concat(e),{active:!1}),h.b.success("Contato bloqueado")}catch(a){Ze(a)}v(null),m(""),i(1)})(O.id):T?(async e=>{try{await na.put("/contacts/block/".concat(e),{active:!0}),h.b.success("Contato desbloqueado")}catch(a){Ze(a)}v(null),m(""),i(1)})(T.id):x?(async()=>{try{await na.post("/contacts/import"),a.go(0)}catch(e){Ze(e)}})():(async()=>{try{const e=new FormData;e.append("file",z.current.files[0]),await na.request({url:"/contacts/upload",method:"POST",data:e}),a.go(0)}catch(e){Ze(e)}})()},y?"".concat(Qe.a.t("contacts.confirmationModal.deleteMessage")):O?"Tem certeza que deseja bloquear este contato?":T?"Tem certeza que deseja desbloquear este contato?":"".concat(x?Qe.a.t("contacts.confirmationModal.importMessage"):Qe.a.t("contactListItems.confirmationModal.importMessage"))),l.a.createElement(_l,{title:"Importar Conversas",open:I,onClose:R,onConfirm:e=>(async()=>{try{await na.post("/contacts/import/chats"),a.go(0)}catch(e){Ze(e)}})()},"Deseja importar todas as conversas do telefone?"),l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("contacts.title")," (",d.length,")"),l.a.createElement(kc,null,l.a.createElement(it.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:s,onChange:e=>{m(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{color:"secondary"}))}}),l.a.createElement(sc.a,{variant:"popover",popupId:"demo-popup-menu"},e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Ma.a,Object.assign({variant:"contained",color:"primary"},Object(ic.bindTrigger)(e)),"Importar / Exportar",l.a.createElement(Ns.a,null)),l.a.createElement(N.a,Object(ic.bindMenu)(e),l.a.createElement(M.a,{onClick:()=>{j(!0),C(!0),e.close()}},l.a.createElement(Ms.a,{fontSize:"small",color:"primary",style:{marginRight:10}}),"Importar Agenda"),l.a.createElement(M.a,{onClick:()=>{z.current.value=null,z.current.click()}},l.a.createElement(Rs.a,{fontSize:"small",color:"primary",style:{marginRight:10}}),"Importar Excel")))),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{g(null),b(!0)}},Qe.a.t("contacts.buttons.add")))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!D||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&i(e=>e+1)}},l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:()=>{j(!0)},ref:z})),l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{padding:"checkbox"}),l.a.createElement(Cn.a,null,Qe.a.t("contacts.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("contacts.table.whatsapp")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("contacts.table.email")),l.a.createElement(Cn.a,{align:"center"},"Ultimo mensaje"),l.a.createElement(Cn.a,{align:"center"},"Status"),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("contacts.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,d.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{style:{paddingRight:0}},l.a.createElement(Na.a,{src:e.profilePicUrl})),l.a.createElement(Cn.a,null,e.name),l.a.createElement(Cn.a,{align:"center"},e.number),l.a.createElement(Cn.a,{align:"center"},e.email),l.a.createElement(Cn.a,{align:"center"},function(e){if(!e)return null;if(!e.tickets)return null;if(e.tickets.length>0){const a=new Date(e.tickets[e.tickets.length-1].updatedAt),t=a.getDate()>9?a.getDate():"0".concat(a.getDate()),n=a.getMonth()+1,l=a.getFullYear(),r=a.getHours(),o=a.getMinutes();return"".concat(t,"/").concat(n,"/").concat(l," ").concat(r,":").concat(o)}return null}(e)),l.a.createElement(Cn.a,{align:"center"},e.active?l.a.createElement(en.a,{style:{color:"green"},fontSize:"small"}):l.a.createElement(lo.a,{style:{color:"red"},fontSize:"small"})),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>{q(e),W(!0)}},l.a.createElement(X.a,{color:"secondary"})),l.a.createElement(k.a,{size:"small",onClick:()=>{return a=e.id,g(a),void b(!0);var a}},l.a.createElement(Os.a,{color:"secondary"})),l.a.createElement(k.a,{size:"small",onClick:e.active?()=>{j(!0),S(e)}:()=>{j(!0),w(e)}},e.active?l.a.createElement(Is.a,{color:"secondary"}):l.a.createElement(en.a,{color:"secondary"})),l.a.createElement(ba,{role:t.profile,perform:"contacts-page:deleteContact",yes:()=>l.a.createElement(k.a,{size:"small",onClick:a=>{j(!0),v(e)}},l.a.createElement(hl.a,{color:"secondary"}))})))),r&&l.a.createElement(Ac,{avatar:!0,columns:3}))))))};const Ws=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:ja.a[500]}}));var Fs=e=>{let{title:a,content:t,children:n}=e;const r=Ws();return l.a.createElement(Ba.a,{arrow:!0,classes:{tooltip:r.tooltip,popper:r.tooltipPopper},title:l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{gutterBottom:!0,color:"inherit"},a),t&&l.a.createElement(I.a,null,t))},n)},qs=t(1558),zs=t(266),Bs=t.n(zs),Us=t(524),Hs=t.n(Us);const _s=nt.d().shape({options:nt.a().of(nt.d().shape({name:nt.f().min(4,"muito curto").required("Required")})).required("Precisa ter amigos")}),Vs=Object(C.a)(e=>({greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},Box:{cursor:"pointer",alignItems:"center"}}));function Ys(e){const a={name:"",greetingMessage:"",options:[]},t=Vs(),[n,r]=l.a.useState(-1),[o,c]=l.a.useState(a),[i,s]=l.a.useState(!1),[m,d]=l.a.useState(!0),[u,p]=l.a.useState(null),[g,E]=l.a.useState(null),[b,f]=l.a.useState(null),[y,v]=l.a.useState(!1),x=async t=>{try{e.chatBotId?await na.put("/chatbot/".concat(e.chatBotId),t):await na.post("/chatbot",t),h.b.success("Bot saved successfully");const{data:n}=await na.get("/chatbot/".concat(e.chatBotId));c(a),c(n),p(null),E(null),c(n)}catch(n){Ze(n)}};l.a.useEffect(()=>{s(!0);const a=setTimeout(()=>{(async()=>{try{const{data:a}=await na.get("/chatbot/".concat(e.chatBotId));c(a),s(!1)}catch(a){console.log(a)}})()},500);return()=>clearTimeout(a)},[e.chatBotId]),l.a.useEffect(()=>{d(n!==u)},[u,n]);return l.a.createElement("div",{className:t.root},l.a.createElement(_l,{title:b&&"".concat(Qe.a.t("queues.confirmationModal.deleteTitle")," ").concat(b.name,"?"),open:y,onClose:()=>{v(!1),f(null)},onConfirm:()=>(async t=>{try{await na.delete("/chatbot/".concat(t));const{data:n}=await na.get("/chatbot/".concat(e.chatBotId));c(a),c(n),p(null),E(null),c(n),h.b.success(Qe.a.t("Fila exclu\xedda com sucesso!"))}catch(n){Ze(n)}f(null)})(b.id)},Qe.a.t("Tem certeza? Todas as op\xe7\xf5es internas tamb\xe9m ser\xe3o exclu\xeddas")),!i&&l.a.createElement("div",null,l.a.createElement(lt.e,{initialValues:o,validateOnChange:!1,enableReinitialize:!0,validationSchema:_s,render:e=>{let{touched:a,errors:c,isSubmitting:i,values:s,handleSubmit:b}=e;return l.a.createElement(lt.c,{name:"options"},e=>{let{push:b,remove:h}=e;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ei.a,{nonLinear:!0,activeStep:n,orientation:"vertical"},s.options&&s.options.length>0&&s.options.map((e,n)=>{var b,y,C,O,S,T,w;return l.a.createElement(bi.a,{key:"".concat(e.id?e.id:n,"-options"),onClick:()=>r(n)},l.a.createElement(fi.a,{key:"".concat(e.id,"-options")},u!==n&&(null===(b=o.options[n])||void 0===b?void 0:b.name)?l.a.createElement("div",{className:t.greetingMessage,variant:"body1"},s.options[n].name,l.a.createElement(k.a,{size:"small",onClick:()=>{p(n),d(!1)}},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{onClick:()=>{f(e),v(!0)},size:"small"},l.a.createElement(hl.a,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement(lt.b,{as:it.a,name:"options[".concat(n,"].name"),variant:"standard",color:"primary",disabled:i,autoFocus:!0,error:(null===a||void 0===a||null===(y=a.options)||void 0===y||null===(C=y[n])||void 0===C?void 0:C.name)&&Boolean(null===(O=c.options)||void 0===O||null===(S=O[n])||void 0===S?void 0:S.name),className:t.textField}),l.a.createElement(pl.a,{control:l.a.createElement(lt.b,{as:gl.a,color:"primary",name:"options[".concat(n,"].isAgent"),checked:s.options[n].isAgent||!1}),label:"Atendente"}),l.a.createElement(k.a,{size:"small",onClick:()=>s.options[n].name?x(s):null,disabled:i},l.a.createElement(Bs.a,null)),l.a.createElement(k.a,{size:"small",onClick:()=>h(n),disabled:i},l.a.createElement(hl.a,null)))),m&&o.options[n]&&l.a.createElement(qs.a,null,l.a.createElement(l.a.Fragment,null,g!==n?l.a.createElement("div",{className:t.greetingMessage},l.a.createElement(I.a,{color:"textSecondary",variant:"body1"},"Message:"),s.options[n].greetingMessage,!(null===(T=o.options[n])||void 0===T?void 0:T.greetingMessage)&&l.a.createElement(Fs,{title:"A mensagem \xe9 obrigat\xf3ria para passar para o pr\xf3ximo n\xedvel.",content:"Se a mensagem n\xe3o estiver definida, o bot n\xe3o o seguir\xe1."},l.a.createElement(Hs.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),l.a.createElement(k.a,{size:"small",onClick:()=>E(n)},l.a.createElement(Os.a,null))):l.a.createElement("div",{className:t.greetingMessage},l.a.createElement(lt.b,{as:it.a,name:"options[".concat(n,"].greetingMessage"),variant:"standard",margin:"dense",fullWidth:!0,multiline:!0,error:a.greetingMessage&&Boolean(c.greetingMessage),helperText:a.greetingMessage&&c.greetingMessage,className:t.textField}),l.a.createElement(k.a,{size:"small",onClick:()=>x(s),disabled:i}," ",l.a.createElement(Bs.a,null))),(w=e.id,l.a.createElement(Ys,{chatBotId:w})))))}),l.a.createElement(bi.a,null,l.a.createElement(fi.a,{onClick:()=>b({name:void 0,greetingMessage:void 0})},"Adicionar op\xe7\xf5es.."))))})}})))}var Gs=t(920);var Qs=e=>{let{onChange:a,currentColor:t,handleClose:r,open:o}=e;const[c,i]=Object(n.useState)(t);return l.a.createElement(rt.a,{onClose:r,"aria-labelledby":"simple-dialog-title",open:o},l.a.createElement(Gs.a,{width:"100%",triangle:"hide",color:c,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],onChange:e=>{i(e.hex),r()},onChangeComplete:e=>a(e.hex)}))},Ks=t(1559),Xs=t(1560);Object(C.a)(e=>({root:{width:"100%",[e.breakpoints.down("sm")]:{maxHeight:"20vh"}},button:{marginRight:e.spacing(1)},input:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},addButton:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}));function Js(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==window.ENV?window.ENV[e]||a:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:"0",REACT_APP_BACKEND_URL:"https://api130.automizaai.shop",REACT_APP_ENV_TOKEN:"210897ugn217204u98u8jfo2983u5",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"9999999",REACT_APP_FACEBOOK_APP_ID:"1005318707427295",REACT_APP_NAME_SYSTEM:"Automatiza AI",REACT_APP_VERSION:"1.0.0",REACT_APP_PRIMARY_COLOR:"#0b5394",REACT_APP_PRIMARY_DARK:"#2c3145",REACT_APP_NUMBER_SUPPORT:"5551997058551"})[e]||a}const Zs=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20},greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},custom:{display:"flex",alignItems:"center",justifyContent:"center"}})),$s=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:nt.f().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:nt.f()});var em=e=>{let{open:a,onClose:t,queueId:r,onEdit:o}=e;const c=Zs(),i={name:"",color:"",greetingMessage:"",outOfHoursMessage:"",chatbots:[]},[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)(i),[p,g]=Object(n.useState)(0),[E,b]=Object(n.useState)(!1),f=Object(n.useRef)(),[y,v]=l.a.useState(null),[x,C]=Object(n.useState)(null),[O,S]=Object(n.useState)(!1),[T,w]=l.a.useState(!0),[A,j]=l.a.useState(null),[N,M]=l.a.useState(null),[R,D]=Object(n.useState)(null),[P,L]=Object(n.useState)(null),[W,F]=Object(n.useState)([{weekday:"Segunda-feira",weekdayEn:"monday",startTime:"",endTime:""},{weekday:"Ter\xe7a-feira",weekdayEn:"tuesday",startTime:"",endTime:""},{weekday:"Quarta-feira",weekdayEn:"wednesday",startTime:"",endTime:""},{weekday:"Quinta-feira",weekdayEn:"thursday",startTime:"",endTime:""},{weekday:"Sexta-feira",weekdayEn:"friday",startTime:"",endTime:""},{weekday:"S\xe1bado",weekdayEn:"saturday",startTime:"",endTime:""},{weekday:"Domingo",weekdayEn:"sunday",startTime:"",endTime:""}]);Object(n.useEffect)(()=>{na.get("/settings").then(e=>{let{data:a}=e;if(Array.isArray(a)){const e=a.find(e=>"scheduleType"===e.key);e&&b("queue"===e.value)}})},[]),Object(n.useEffect)(()=>((async()=>{if(r)try{const{data:e}=await na.get("/queue/".concat(r));u(a=>({...a,...e})),F(e.schedules)}catch(e){Ze(e)}})(),()=>{u({name:"",color:"",greetingMessage:"",chatbots:[]})}),[r,a]);const q=()=>{t(),u(i)},z=async e=>{try{if(r){const{data:a}=await na.put("/queue/".concat(r),e);a.chatbots&&a.chatbots.length&&(o(a),u(a))}else{const{data:a}=await na.post("/queue",e);a.chatbots&&a.chatbots.length&&(u(a),o(a),q())}j(null),M(null),h.b.success("Setor salvo com sucesso!")}catch(a){Ze(a)}},B=(e,a)=>(console.log("option",e,a),e&&e.greetingMessage?"".concat(Js("REACT_APP_BACKEND_URL"),"/public/company").concat(a,"/").concat(e.greetingMessage):""),U=()=>{const e=document.getElementById("file").files[0];L(e),console.log(e)};return l.a.createElement("div",{className:c.root},l.a.createElement(rt.a,{maxWidth:"lg",fullWidth:!0,open:a,onClose:q,scroll:"paper"},l.a.createElement(ot.a,null,"".concat(r?Qe.a.t("queueModal.title.edit"):Qe.a.t("queueModal.title.add"))),l.a.createElement(nl.a,{value:p,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>g(a),"aria-label":"disabled tabs example"},l.a.createElement(ll.a,{label:"Dados da Fila/Setor"}),E&&l.a.createElement(ll.a,{label:"Hor\xe1rios de Atendimento"})),0===p&&l.a.createElement(Mt.a,null,l.a.createElement(lt.e,{initialValues:d,validateOnChange:!1,enableReinitialize:!0,validationSchema:$s,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{r?await na.put("/queue/".concat(r),{...e,schedules:W}):await na.post("/queue",{...e,schedules:W}),h.b.success("Queue saved successfully"),q()}catch(a){Ze(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{handleChange:a,touched:t,errors:n,isSubmitting:o,values:i}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",className:c.textField}),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:()=>{m(!0),f.current.focus()},error:t.color&&Boolean(n.color),helperText:t.color&&n.color,InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement("div",{style:{backgroundColor:i.color},className:c.colorAdorment})),endAdornment:l.a.createElement(k.a,{size:"small",color:"default",onClick:()=>m(!0)},l.a.createElement(Ks.a,null))},variant:"outlined",margin:"dense"}),l.a.createElement(Qs,{open:s,handleClose:()=>m(!1),onChange:e=>{i.color=e,u(()=>({...i,color:e}))}}),l.a.createElement("div",{style:{marginTop:5}},l.a.createElement($a.a,{spacing:1,container:!0},l.a.createElement($a.a,{xs:12,md:E?6:12,item:!0},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:f,rows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(n.greetingMessage),helperText:t.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),E&&l.a.createElement($a.a,{xs:12,md:6,item:!0},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:5,fullWidth:!0,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(n.outOfHoursMessage),helperText:t.outOfHoursMessage&&n.outOfHoursMessage,variant:"outlined",margin:"dense"})))),l.a.createElement("div",null,l.a.createElement(lt.c,{name:"chatbots"},e=>{let{push:a,remove:r}=e;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ei.a,{nonLinear:!0,activeStep:y,orientation:"vertical"},i.chatbots&&i.chatbots.length>0&&i.chatbots.map((e,a)=>{var s,m,u,p,g,E;return l.a.createElement(bi.a,{key:"".concat(e.id?e.id:a,"-chatbots"),onClick:()=>v(a)},l.a.createElement(fi.a,{key:"".concat(e.id,"-chatbots")},A!==a&&(null===(s=d.chatbots[a])||void 0===s?void 0:s.name)?l.a.createElement("div",{className:c.greetingMessage,variant:"body1"},i.chatbots[a].name,l.a.createElement(k.a,{size:"small",onClick:()=>{j(a),w(!1)}},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{onClick:()=>{C(e),S(!0)},size:"small"},l.a.createElement(hl.a,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement(lt.b,{as:it.a,name:"chatbots[".concat(a,"].name"),variant:"standard",color:"primary",disabled:o,autoFocus:!0,error:(null===t||void 0===t||null===(m=t.chatbots)||void 0===m||null===(u=m[a])||void 0===u?void 0:u.name)&&Boolean(null===(p=n.chatbots)||void 0===p||null===(g=p[a])||void 0===g?void 0:g.name),className:c.textField}),l.a.createElement(pl.a,{control:l.a.createElement(lt.b,{as:gl.a,color:"primary",name:"chatbots[".concat(a,"].isAgent"),checked:i.chatbots[a].isAgent||!1}),label:"Atendente.."}),console.log("values.chatbots[index].optionType/*\\",i.chatbots[a].optionType),!i.chatbots[a].isAgent&&l.a.createElement(pl.a,{control:l.a.createElement(lt.b,{as:gl.a,color:"primary",name:"chatbots[".concat(a,"].optionType"),type:"checkbox",onChange:()=>((e,a)=>{console.log("Run",e.chatbots[a].optionType),e.chatbots[a].optionType="file"!==e.chatbots[a].optionType?"file":"text",D((new Date).getTime())})(i,a),checked:"file"===i.chatbots[a].optionType}),label:"Arquivo"}),"file"===i.chatbots[a].optionType?l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{accept:"image/*,application/pdf",className:c.input,id:"file",type:"file",name:"file",onChange:U}),console.log(i),l.a.createElement(k.a,{size:"small",onClick:()=>(async e=>{if(P){e.id||Ze("Op\xe7\xe3o n\xe3o salva, salve a op\xe7\xe3o antes de adicionar um arquivo");try{const a=new FormData;a.append("file",P);const{data:t}=await na.request({url:"/queue-options/".concat(e.id,"/file"),method:"POST",data:a,headers:{"Content-Type":"multipart/form-data"}});e.edition=!1,console.log(t),D((new Date).getTime()),q(),h.b.success("Arquivo adicionado.")}catch(a){Ze(a)}}})(i.chatbots[a]),component:"span"},l.a.createElement(Xs.a,null)),""!==B(i.chatbots[a],i.companyId)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Rr.a,{style:{marginLeft:20},href:B(i.chatbots[a],i.companyId),target:"_blank"},"Arquivo atual"),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement(pl.a,{control:l.a.createElement(lt.b,{as:it.a,type:"greetingMessage",placeholder:"Mensagem",fullWidth:!0,variant:"outlined",multiline:!0,style:{minWidth:"400px",width:"100%",marginLeft:"20px"},margin:"dense",color:"primary",name:"chatbots[".concat(a,"].greetingMessage")}),label:""})),l.a.createElement(k.a,{size:"small",onClick:()=>i.chatbots[a].name?z(i):null,disabled:o},l.a.createElement(Bs.a,null)),l.a.createElement(k.a,{size:"small",onClick:()=>r(a),disabled:o},l.a.createElement(hl.a,null)))),T&&d.chatbots[a]&&l.a.createElement(qs.a,null,l.a.createElement(l.a.Fragment,null,N!==a?l.a.createElement("div",{className:c.greetingMessage},l.a.createElement(I.a,{color:"textSecondary",variant:"body1"},"Message:"),i.chatbots[a].greetingMessage,!(null===(E=d.chatbots[a])||void 0===E?void 0:E.greetingMessage)&&l.a.createElement(Fs,{title:"A mensagem \xe9 obrigat\xf3ria para passar para o pr\xf3ximo n\xedvel.",content:"Se a mensagem n\xe3o estiver definida, o bot n\xe3o o seguir\xe1."},l.a.createElement(Hs.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),l.a.createElement(k.a,{size:"small",onClick:()=>M(a)},l.a.createElement(Os.a,null))):l.a.createElement("div",{className:c.greetingMessage},l.a.createElement(lt.b,{as:it.a,name:"chatbots[".concat(a,"].greetingMessage"),variant:"standard",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(n.greetingMessage),helperText:t.greetingMessage&&n.greetingMessage,className:c.textField}),l.a.createElement(k.a,{size:"small",onClick:()=>z(i),disabled:o}," ",l.a.createElement(Bs.a,null))),l.a.createElement(Ys,{chatBotId:e.id}))))}),l.a.createElement(bi.a,null,l.a.createElement(fi.a,{style:{cursor:"pointer",width:"100%"},onClick:()=>a({name:"",value:""})},"Adicionar op\xe7\xf5es..."))))}))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:q,disabled:o},Qe.a.t("queueModal.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:o,variant:"contained",className:c.btnWrapper},"".concat(r?Qe.a.t("queueModal.buttons.okEdit"):Qe.a.t("queueModal.buttons.okAdd")),o&&l.a.createElement(Ra.a,{size:24,className:c.buttonProgress}))))})),1===p&&l.a.createElement(Mt.a,{style:{padding:20}},l.a.createElement(Uc,{loading:!1,onSubmit:async e=>{h.b.success("Clique em salvar para registar as altera\xe7\xf5es"),F(e),g(0)},initialValues:W,labelSaveButton:"Adicionar"}))))};const am=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}})),tm=(e,a)=>{if("LOAD_QUEUES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_QUEUES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_QUEUE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]};var nm=()=>{const e=am(),[a,t]=Object(n.useReducer)(tm,[]),[r,o]=Object(n.useState)(!1),[c,i]=Object(n.useState)(!1),[s,m]=Object(n.useState)(null),[d,u]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{o(!0);try{const{data:e}=await na.get("/queue");t({type:"LOAD_QUEUES",payload:e}),o(!1)}catch(e){Ze(e),o(!1)}})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-queue"),e=>{"update"!==e.action&&"create"!==e.action||t({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&t({type:"DELETE_QUEUE",payload:e.queueId})}),()=>{a.disconnect()}},[]);const p=e=>{m(e),i(!0)};return l.a.createElement(xc,null,l.a.createElement(_l,{title:s&&"".concat(Qe.a.t("queues.confirmationModal.deleteTitle")," ").concat(s.name,"?"),open:d,onClose:()=>{u(!1),m(null)},onConfirm:()=>(async e=>{try{await na.delete("/queue/".concat(e)),h.b.success(Qe.a.t("Queue deleted successfully!"))}catch(a){Ze(a)}m(null)})(s.id)},Qe.a.t("queues.confirmationModal.deleteMessage")),l.a.createElement(em,{open:c,onClose:()=>{i(!1),m(null)},queueId:null===s||void 0===s?void 0:s.id,onEdit:e=>{e&&setTimeout(()=>{p(e)},500)}}),l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("queues.title")," (",a.length,")"),l.a.createElement(kc,null,l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{i(!0),m(null)}},Qe.a.t("queues.buttons.add")))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("queues.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("queues.table.color")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("queues.table.greeting")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("queues.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,a.map(a=>l.a.createElement(kn.a,{key:a.id},l.a.createElement(Cn.a,{align:"center"},a.name),l.a.createElement(Cn.a,{align:"center"},l.a.createElement("div",{className:e.customTableCell},l.a.createElement("span",{style:{backgroundColor:a.color,width:60,height:20,alignSelf:"center"}}))),l.a.createElement(Cn.a,{align:"center"},l.a.createElement("div",{className:e.customTableCell},l.a.createElement(I.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},a.greetingMessage))),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>p(a)},l.a.createElement(bc.a,null)),l.a.createElement(k.a,{size:"small",onClick:()=>{m(a),u(!0)}},l.a.createElement(fc.a,null))))),r&&l.a.createElement(Ac,{columns:4}))))))},lm=t(897);const rm=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),om=nt.d().shape({name:nt.f().min(3,"Mensagem muito curta").required("Obrigat\xf3rio")});var cm=e=>{let{open:a,onClose:t,tagId:r,reload:o,kanban:c}=e;const i=rm(),{user:s}=Object(n.useContext)(pa),[m,d]=Object(n.useState)(!1),u={name:"",color:"",kanban:c},[p,g]=Object(n.useState)(u);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await na.get("/tags/".concat(r));g(a=>({...a,...e}))})()}catch(e){Ze(e)}},[r,a]);const E=()=>{g(u),d(!1),t()};return l.a.createElement("div",{className:i.root},l.a.createElement(rt.a,{open:a,onClose:E,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"".concat(r?0===c?Qe.a.t("tagModal.title.edit"):Qe.a.t("Nova Lane"):0===c?Qe.a.t("tagModal.title.add"):Qe.a.t("Nova Lane"))),l.a.createElement(lt.e,{initialValues:p,enableReinitialize:!0,validationSchema:om,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,userId:s.id,kanban:c};try{r?await na.put("/tags/".concat(r),a):await na.post("/tags",a),h.b.success("".concat(0===c?Qe.a.t("tagModal.success"):Qe.a.t("tagModal.successKanban"))),"function"==typeof o&&o()}catch(t){Ze(t)}E()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:o}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("tagModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",onChange:e=>g(a=>({...a,name:e.target.value})),fullWidth:!0})),l.a.createElement("br",null),l.a.createElement("div",{className:i.multFieldLine},l.a.createElement(lt.b,{as:it.a,fullWidth:!0,label:Qe.a.t("tagModal.form.color"),name:"color",id:"color",error:a.color&&Boolean(t.color),helperText:a.color&&t.color,InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement("div",{style:{backgroundColor:o.color},className:i.colorAdorment})),endAdornment:l.a.createElement(k.a,{size:"small",color:"default",onClick:()=>d(!m)},l.a.createElement(Ks.a,null))},variant:"outlined",margin:"dense"})),m&&l.a.createElement("div",null,l.a.createElement(lm.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:p.color,onChange:e=>{g(a=>({...a,color:"#".concat(e.hex)}))}}))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("tagModal.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(r?Qe.a.t("tagModal.buttons.okEdit"):Qe.a.t("tagModal.buttons.okAdd")),n&&l.a.createElement(Ra.a,{size:24,className:i.buttonProgress}))))})))};const im=(e,a)=>{if("LOAD_TAGS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_TAGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_TAG"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},sm=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var mm=()=>{const e=sm(),{user:a}=Object(n.useContext)(pa),[t,r]=Object(n.useState)(!1),[o,c]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(""),[y,v]=Object(n.useReducer)(im,[]),[x,C]=Object(n.useState)(!1),O=Object(n.useCallback)(async()=>{try{const{data:e}=await na.get("/tags/",{params:{searchParam:b,pageNumber:o,kanban:0}});v({type:"LOAD_TAGS",payload:e.tags}),s(e.hasMore),r(!1)}catch(e){Ze(e)}},[b,o]);Object(n.useEffect)(()=>{v({type:"RESET"}),c(1)},[b]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{O()},500);return()=>clearTimeout(e)},[b,o,O]),Object(n.useEffect)(()=>{const e=oa({companyId:a.companyId});return e.on("user",e=>{"update"!==e.action&&"create"!==e.action||v({type:"UPDATE_TAGS",payload:e.tags}),"delete"===e.action&&v({type:"DELETE_TAGS",payload:+e.tagId})}),()=>{e.disconnect()}},[a]);return l.a.createElement(xc,null,l.a.createElement(_l,{title:u&&"".concat(Qe.a.t("tags.confirmationModal.deleteTitle")),open:g,onClose:E,onConfirm:()=>(async e=>{try{await na.delete("/tags/".concat(e)),h.b.success(Qe.a.t("tags.toasts.deleted"))}catch(a){Ze(a)}p(null),f(""),c(1),v({type:"RESET"}),c(1),await O()})(u.id)},Qe.a.t("tags.confirmationModal.deleteMessage")),l.a.createElement(cm,{open:x,onClose:()=>{d(null),C(!1)},reload:O,"aria-labelledby":"form-dialog-title",tagId:m&&m.id,kanban:0}),l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("tags.title")," (",y.length,")"),l.a.createElement(kc,null,l.a.createElement(it.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:b,onChange:e=>{f(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{style:{color:"gray"}}))}}),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{d(null),C(!0)}},Qe.a.t("tags.buttons.add")))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&c(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("tags.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("tags.table.tickets")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("tags.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,y.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center"},l.a.createElement(bt.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px 1px #000",color:"white"},label:e.name,size:"small"})),l.a.createElement(Cn.a,{align:"center"},e.ticketsCount),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{d(e),C(!0)})(e)},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{size:"small",onClick:a=>{E(!0),p(e)}},l.a.createElement(hl.a,null))))),t&&l.a.createElement(Ac,{columns:4}))))))};const dm=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),paddingBottom:100},mainHeader:{marginTop:e.spacing(1)},elementMargin:{padding:e.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:"right"}}));var um=()=>{const e=dm(),a=Object(f.g)(),[t]=Object(n.useState)({token:"",number:"",body:""}),[r]=Object(n.useState)({token:"",number:"",medias:""}),[o,c]=Object(n.useState)({}),{getPlanCompany:i}=fa();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId");(await i(void 0,e)).plan.useExternalApi||(h.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]);return l.a.createElement(Mt.a,{className:e.mainPaper,style:{marginLeft:"5px"},variant:"outlined"},l.a.createElement(I.a,{variant:"h5"},"Documenta\xe7\xe3o para envio de mensagens"),l.a.createElement(I.a,{variant:"h6",color:"primary",className:e.elementMargin},"M\xe9todos de Envio"),l.a.createElement(I.a,{component:"div"},l.a.createElement("ol",null,l.a.createElement("li",null,"Mensagens de Texto"),l.a.createElement("li",null,"Mensagens de Media"))),l.a.createElement(I.a,{variant:"h6",color:"primary",className:e.elementMargin},"Instru\xe7\xf5es"),l.a.createElement(I.a,{className:e.elementMargin,component:"div"},l.a.createElement("b",null,"Observa\xe7\xf5es importantes"),l.a.createElement("br",null),l.a.createElement("ul",null,l.a.createElement("li",null,"Antes de enviar mensagens, \xe9 necess\xe1rio o cadastro do token vinculado \xe0 conex\xe3o que enviar\xe1 as mensagens. ",l.a.createElement("br",null),'Para realizar o cadastro acesse o menu "Conex\xf5es", clique no bot\xe3o editar da conex\xe3o e insira o token no devido campo.'),l.a.createElement("li",null,"O n\xfamero para envio n\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:",l.a.createElement("ul",null,l.a.createElement("li",null,"C\xf3digo do pa\xeds"),l.a.createElement("li",null,"DDD"),l.a.createElement("li",null,"N\xfamero"))))),l.a.createElement(I.a,{variant:"h6",color:"primary",className:e.elementMargin},"1. Mensagens de Texto"),l.a.createElement($a.a,{container:!0},l.a.createElement($a.a,{item:!0,xs:12,sm:6},l.a.createElement(I.a,{className:e.elementMargin,component:"div"},l.a.createElement("p",null,"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"),l.a.createElement("b",null,"Endpoint: ")," ","https://api130.automizaai.shop/api/messages/send"," ",l.a.createElement("br",null),l.a.createElement("b",null,"M\xe9todo: ")," POST ",l.a.createElement("br",null),l.a.createElement("b",null,"Headers: ")," Authorization (token cadastrado) e Content-Type (application/json) ",l.a.createElement("br",null),l.a.createElement("b",null,"Body: ")," ",'{ "number": "595985523065", "body": "Sua mensagem" }')),l.a.createElement($a.a,{item:!0,xs:12,sm:6},l.a.createElement(I.a,{className:e.elementMargin},l.a.createElement("b",null,"Teste de Envio")),l.a.createElement(lt.e,{initialValues:t,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{const{number:a,body:t}=e,n={number:a,body:t};try{await ea.a.request({url:"https://api130.automizaai.shop/api/messages/send",method:"POST",data:n,headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e.token)}}),h.b.success("Mensagem enviada com sucesso")}catch(l){Ze(l)}})(e),a.setSubmitting(!1),a.resetForm()},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return l.a.createElement(lt.d,{className:e.formContainer},l.a.createElement($a.a,{container:!0,spacing:2},l.a.createElement($a.a,{item:!0,xs:12,md:6},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("messagesAPI.textMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement($a.a,{item:!0,xs:12,md:6},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("messagesAPI.textMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement($a.a,{item:!0,xs:12,className:e.textRight},l.a.createElement(Ma.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},t?l.a.createElement(Ra.a,{size:24,className:e.buttonProgress}):"Enviar"))))}))),l.a.createElement(I.a,{variant:"h6",color:"primary",className:e.elementMargin},"2. Mensagens de Media"),l.a.createElement($a.a,{container:!0},l.a.createElement($a.a,{item:!0,xs:12,sm:6},l.a.createElement(I.a,{className:e.elementMargin,component:"div"},l.a.createElement("p",null,"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:"),l.a.createElement("b",null,"Endpoint: ")," ","https://api130.automizaai.shop/api/messages/send"," ",l.a.createElement("br",null),l.a.createElement("b",null,"M\xe9todo: ")," POST ",l.a.createElement("br",null),l.a.createElement("b",null,"Headers: ")," Authorization (token cadastrado) e Content-Type (multipart/form-data) ",l.a.createElement("br",null),l.a.createElement("b",null,"FormData: ")," ",l.a.createElement("br",null),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("b",null,"number: ")," 5531991841066"),l.a.createElement("li",null,l.a.createElement("b",null,"medias: ")," arquivo")))),l.a.createElement($a.a,{item:!0,xs:12,sm:6},l.a.createElement(I.a,{className:e.elementMargin},l.a.createElement("b",null,"Teste de Envio")),l.a.createElement(lt.e,{initialValues:r,enableReinitialize:!0,onSubmit:(e,a)=>{setTimeout(async()=>{await(async e=>{try{const a=o[0],t=new FormData;t.append("number",e.number),t.append("body",a.name),t.append("medias",a),await ea.a.request({url:"https://api130.automizaai.shop/api/messages/send",method:"POST",data:t,headers:{"Content-type":"multipart/form-data",Authorization:"Bearer ".concat(e.token)}}),h.b.success("Mensagem enviada com sucesso")}catch(a){Ze(a)}})(e),a.setSubmitting(!1),a.resetForm(),document.getElementById("medias").files=null,document.getElementById("medias").value=null},400)},className:e.elementMargin},a=>{let{isSubmitting:t}=a;return l.a.createElement(lt.d,{className:e.formContainer},l.a.createElement($a.a,{container:!0,spacing:2},l.a.createElement($a.a,{item:!0,xs:12,md:6},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("messagesAPI.mediaMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement($a.a,{item:!0,xs:12,md:6},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("messagesAPI.mediaMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement("input",{type:"file",name:"medias",id:"medias",required:!0,onChange:e=>c(e.target.files)})),l.a.createElement($a.a,{item:!0,xs:12,className:e.textRight},l.a.createElement(Ma.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},t?l.a.createElement(Ra.a,{size:24,className:e.buttonProgress}):"Enviar"))))}))))},pm=t(1561),gm=t(1562),Em=t(1563);const bm=Object(C.a)(e=>({mainPaper:{width:"100%",minHeight:"200px",overflowY:"scroll",...e.scrollbarStyles},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}));var fm=()=>{const e=bm(),[a,t]=Object(n.useState)([]),{list:r}=ni();Object(n.useEffect)(()=>{!async function(){const e=await r();t(e)}()},[]);return l.a.createElement(xc,null,l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("helps.title")," (",a.length,")"),l.a.createElement(kc,null)),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(l.a.Fragment,null,a.length?a.map((a,t)=>l.a.createElement(pm.a,{key:t},l.a.createElement(gm.a,{expandIcon:l.a.createElement(Ce.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},l.a.createElement(I.a,{className:e.heading},a.title),l.a.createElement(I.a,{className:e.secondaryHeading},a.description)),l.a.createElement(Em.a,null,l.a.createElement(I.a,null,(e=>{const a="https://www.youtube.com/embed/".concat(e.video);return l.a.createElement("iframe",{style:{width:700,height:500},src:a,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})(a))))):null)))},hm=t(898),ym=t.n(hm);const vm=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),xm=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var Cm=e=>{let{open:a,onClose:t,contactListId:r}=e;const o=vm(),c={name:""},[i,s]=Object(n.useState)(c);Object(n.useEffect)(()=>{(async()=>{if(r)try{const{data:e}=await na.get("/contact-lists/".concat(r));s(a=>({...a,...e}))}catch(e){Ze(e)}})()},[r,a]);const m=()=>{t(),s(c)};return l.a.createElement("div",{className:o.root},l.a.createElement(rt.a,{open:a,onClose:m,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"".concat(r?Qe.a.t("contactLists.dialog.edit"):Qe.a.t("contactLists.dialog.add"))),l.a.createElement(lt.e,{initialValues:i,enableReinitialize:!0,validationSchema:xm,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{r?await na.put("/contact-lists/".concat(r),a):await na.post("/contact-lists",a),h.b.success(Qe.a.t("contactList.dialog"))}catch(t){Ze(t)}m()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement("div",{className:o.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactLists.dialog.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:m,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("contactLists.dialog.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:o.btnWrapper},"".concat(r?Qe.a.t("contactLists.dialog.okEdit"):Qe.a.t("contactLists.dialog.okAdd")),n&&l.a.createElement(Ra.a,{size:24,className:o.buttonProgress}))))})))},Om=t(527),Sm=t.n(Om);const km=(e,a)=>{if("LOAD_CONTACTLISTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTLIST"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACTLIST"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Tm=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var wm=()=>{const e=Tm(),a=Object(f.g)(),[t,r]=Object(n.useState)(!1),[o,c]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,y]=Object(n.useState)(!1),[v,x]=Object(n.useState)(""),[C,O]=Object(n.useReducer)(km,[]);Object(n.useEffect)(()=>{O({type:"RESET"}),c(1)},[v]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("/contact-lists/",{params:{searchParam:v,pageNumber:o}});O({type:"LOAD_CONTACTLISTS",payload:e.records}),s(e.hasMore),r(!1)}catch(e){Ze(e)}})()},500);return()=>clearTimeout(e)},[v,o]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-ContactList"),e=>{"update"!==e.action&&"create"!==e.action||O({type:"UPDATE_CONTACTLIST",payload:e.record}),"delete"===e.action&&O({type:"DELETE_CONTACTLIST",payload:+e.id})}),()=>{a.disconnect()}},[]);return l.a.createElement(xc,null,l.a.createElement(_l,{title:u&&"".concat(Qe.a.t("contactLists.confirmationModal.deleteTitle")," ").concat(u.name,"?"),open:b,onClose:y,onConfirm:()=>(async e=>{try{await na.delete("/contact-lists/".concat(e)),h.b.success(Qe.a.t("contactLists.toasts.deleted"))}catch(a){Ze(a)}p(null),x(""),c(1)})(u.id)},Qe.a.t("contactLists.confirmationModal.deleteMessage")),l.a.createElement(Cm,{open:g,onClose:()=>{d(null),E(!1)},"aria-labelledby":"form-dialog-title",contactListId:m&&m.id}),l.a.createElement(Oc,null,l.a.createElement($a.a,{style:{width:"99.6%"},container:!0},l.a.createElement($a.a,{xs:12,sm:8,item:!0},l.a.createElement(Tc,null,Qe.a.t("contactLists.title"))),l.a.createElement($a.a,{xs:12,sm:4,item:!0},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:7,sm:6,item:!0},l.a.createElement(it.a,{fullWidth:!0,placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:v,onChange:e=>{x(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{style:{color:"gray"}}))}})),l.a.createElement($a.a,{xs:5,sm:6,item:!0},l.a.createElement(Ma.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{d(null),E(!0)}},Qe.a.t("contactLists.buttons.add"))))))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&c(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("contactLists.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("contactLists.table.contacts")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("contactLists.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,C.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center"},e.name),l.a.createElement(Cn.a,{align:"center"},e.contactsCount||0),l.a.createElement(Cn.a,{align:"center"},l.a.createElement("a",{href:Sm.a,download:"planilha.xlsx"},l.a.createElement(k.a,{size:"small",title:"Baixar Planilha Exemplo"},l.a.createElement(ym.a,null))),l.a.createElement(k.a,{size:"small",onClick:()=>{return t=e.id,void a.push("/contact-lists/".concat(t,"/contacts"));var t}},l.a.createElement(Se.a,null)),l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{d(e),E(!0)})(e)},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{size:"small",onClick:a=>{y(!0),p(e)}},l.a.createElement(hl.a,null))))),t&&l.a.createElement(Ac,{columns:3}))))))};const Am=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),jm=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:nt.f().min(8,"Too Short!").max(50,"Too Long!"),email:nt.f().email("Invalid email")});var Im=e=>{let{open:a,onClose:t,contactId:r,initialValues:o,onSave:c}=e;const i=Am(),s=Object(n.useRef)(!0),{user:{companyId:m}}=Object(n.useContext)(pa),{contactListId:d}=Object(f.h)(),u={name:"",number:"",email:""},[p,g]=Object(n.useState)(u);Object(n.useEffect)(()=>()=>{s.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(o&&g(e=>({...e,...o})),r)try{const{data:e}=await na.get("/contact-list-items/".concat(r));s.current&&g(e)}catch(e){Ze(e)}})()},[r,a,o]);const E=()=>{t(),g(u)};return l.a.createElement("div",{className:i.root},l.a.createElement(rt.a,{open:a,onClose:E,maxWidth:"lg",scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"".concat(r?Qe.a.t("contactModal.title.edit"):Qe.a.t("contactModal.title.add"))),l.a.createElement(lt.e,{initialValues:p,enableReinitialize:!0,validationSchema:jm,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{if(r)await na.put("/contact-list-items/".concat(r),{...e,companyId:m,contactListId:d}),E();else{const{data:a}=await na.post("/contact-list-items",{...e,companyId:m,contactListId:d});c&&c(a),E()}h.b.success(Qe.a.t("contactModal.success"))}catch(a){Ze(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:o}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement(I.a,{variant:"subtitle1",gutterBottom:!0},Qe.a.t("contactModal.form.mainInfo")),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",className:i.textField}),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(t.number),helperText:n.number&&t.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),l.a.createElement("div",null,l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(t.email),helperText:n.email&&t.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"}))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:E,color:"secondary",disabled:o,variant:"outlined"},Qe.a.t("contactModal.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:o,variant:"contained",className:i.btnWrapper},"".concat(r?Qe.a.t("contactModal.buttons.okEdit"):Qe.a.t("contactModal.buttons.okAdd")),o&&l.a.createElement(Ra.a,{size:24,className:i.buttonProgress}))))})))};var Nm=()=>({findById:async e=>{const{data:a}=await na.request({url:"/contact-lists/".concat(e),method:"GET"});return a},save:async e=>{const{data:a}=await na.request({url:"/contact-lists",method:"POST",data:e});return a},update:async e=>{const{data:a}=await na.request({url:"/contact-lists/".concat(e.id),method:"PUT",data:e});return a},deleteRecord:async e=>{const{data:a}=await na.request({url:"/contact-lists/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await na.request({url:"/contact-lists/list",method:"GET",params:e});return a}});const Mm=(e,a)=>{if("LOAD_CONTACTS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CONTACTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CONTACT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Rm=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Dm=()=>{const e=Rm(),{user:a}=Object(n.useContext)(pa),{contactListId:t}=Object(f.h)(),r=Object(f.g)(),[o,c]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[m,d]=Object(n.useState)(""),[u,p]=Object(n.useReducer)(Mm,[]),[g,E]=Object(n.useState)(null),[b,y]=Object(n.useState)(!1),[v,x]=Object(n.useState)(null),[C,O]=Object(n.useState)(!1),[S,T]=Object(n.useState)(!1),[w,A]=Object(n.useState)({}),j=Object(n.useRef)(null),{findById:I}=Nm();Object(n.useEffect)(()=>{I(t).then(e=>{A(e)})},[t]),Object(n.useEffect)(()=>{p({type:"RESET"}),s(1)},[m]),Object(n.useEffect)(()=>{c(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("contact-list-items",{params:{searchParam:m,pageNumber:i,contactListId:t}});p({type:"LOAD_CONTACTS",payload:e.contacts}),T(e.hasMore),c(!1)}catch(e){Ze(e)}})()},500);return()=>clearTimeout(e)},[m,i,t]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-ContactListItem"),e=>{"update"!==e.action&&"create"!==e.action||p({type:"UPDATE_CONTACTS",payload:e.record}),"delete"===e.action&&p({type:"DELETE_CONTACT",payload:+e.id}),"reload"===e.action&&p({type:"LOAD_CONTACTS",payload:e.records})}),a.on("company-".concat(e,"-ContactListItem-").concat(t),e=>{"reload"===e.action&&p({type:"LOAD_CONTACTS",payload:e.records})}),()=>{a.disconnect()}},[t]);return l.a.createElement(xc,{className:e.mainContainer},l.a.createElement(Im,{open:b,onClose:()=>{E(null),y(!1)},"aria-labelledby":"form-dialog-title",contactId:g}),l.a.createElement(_l,{title:v?"".concat(Qe.a.t("contactListItems.confirmationModal.deleteTitle")," ").concat(v.name,"?"):"".concat(Qe.a.t("contactListItems.confirmationModal.importTitlte")),open:C,onClose:O,onConfirm:()=>v?(async e=>{try{await na.delete("/contact-list-items/".concat(e)),h.b.success(Qe.a.t("contacts.toasts.deleted"))}catch(a){Ze(a)}x(null),d(""),s(1)})(v.id):(async()=>{try{const e=new FormData;e.append("file",j.current.files[0]),await na.request({url:"contact-lists/".concat(t,"/upload"),method:"POST",data:e})}catch(e){Ze(e)}})()},v?"".concat(Qe.a.t("contactListItems.confirmationModal.deleteMessage")):l.a.createElement(l.a.Fragment,null,Qe.a.t("contactListItems.confirmationModal.importMessage"),l.a.createElement("a",{href:Sm.a,download:"planilha.xlsx"},"Clique aqui para baixar planilha exemplo."))),l.a.createElement(Oc,null,l.a.createElement($a.a,{style:{width:"99.6%"},container:!0},l.a.createElement($a.a,{xs:12,sm:5,item:!0},l.a.createElement(Tc,null,w.name)),l.a.createElement($a.a,{xs:12,sm:7,item:!0},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,sm:6,item:!0},l.a.createElement(it.a,{fullWidth:!0,placeholder:Qe.a.t("contactListItems.searchPlaceholder"),type:"search",value:m,onChange:e=>{d(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{style:{color:"gray"}}))}})),l.a.createElement($a.a,{xs:4,sm:2,item:!0},l.a.createElement(Ma.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{r.push("/contact-lists")}},Qe.a.t("contactListItems.buttons.lists"))),l.a.createElement($a.a,{xs:4,sm:2,item:!0},l.a.createElement(Ma.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{j.current.value=null,j.current.click()}},Qe.a.t("contactListItems.buttons.import"))),l.a.createElement($a.a,{xs:4,sm:2,item:!0},l.a.createElement(Ma.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{E(null),y(!0)}},Qe.a.t("contactListItems.buttons.add"))))))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!S||o)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&s(e=>e+1)}},l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:()=>{O(!0)},ref:j})),l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center",style:{width:"0%"}},"#"),l.a.createElement(Cn.a,null,Qe.a.t("contactListItems.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("contactListItems.table.number")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("contactListItems.table.email")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("contactListItems.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,u.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center",style:{width:"0%"}},l.a.createElement(k.a,null,e.isWhatsappValid?l.a.createElement(en.a,{titleAccess:"Whatsapp V\xe1lido",htmlColor:"green"}):l.a.createElement(Is.a,{titleAccess:"Whatsapp Inv\xe1lido",htmlColor:"grey"}))),l.a.createElement(Cn.a,null,e.name),l.a.createElement(Cn.a,{align:"center"},e.number),l.a.createElement(Cn.a,{align:"center"},e.email),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>{return a=e.id,E(a),void y(!0);var a}},l.a.createElement(Os.a,null)),l.a.createElement(ba,{role:a.profile,perform:"contacts-page:deleteContact",yes:()=>l.a.createElement(k.a,{size:"small",onClick:()=>{O(!0),x(e)}},l.a.createElement(hl.a,null))})))),o&&l.a.createElement(Ac,{columns:4}))))))};const Pm=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Lm=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Nome \xe9 obrigat\xf3rio"),email:nt.f().email("Email \xe9 inv\xe1lido").required("E-mail \xe9 obrigat\xf3rio"),numberAttendants:nt.c(),numberConections:nt.c()});var Wm=e=>{let{open:a,onClose:t,companyId:r}=e;const o=Pm(),c={name:"",email:"",passwordDefault:"",numberAttendants:1,numberConections:1,status:!1},[i,s]=Object(n.useState)(c),[m,d]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{if(r)try{const{data:e}=await na.get("/companies/listPlan/".concat(r));s(a=>({...a,...e}))}catch(e){Ze(e)}})()},[r,a]);const u=()=>{t(),s(c)};return l.a.createElement("div",{className:o.root},l.a.createElement(rt.a,{open:a,onClose:u,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"".concat(r?Qe.a.t("companyModal.title.edit"):Qe.a.t("companyModal.title.add"))),l.a.createElement(lt.e,{initialValues:i,enableReinitialize:!0,validationSchema:Lm,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{r?await na.put("/companies/".concat(r),a):await na.post("/companies",a),h.b.success(Qe.a.t("companyModal.success"))}catch(t){Ze(t)}u()})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,touched:t,errors:n,isSubmitting:c}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement("div",{className:o.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("companyModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(n.name),helperText:t.name&&n.name,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:o.multFieldLine},l.a.createElement(pl.a,{control:l.a.createElement(lt.b,{as:gl.a,color:"primary",name:"status",checked:a.status}),label:"Ativo"})),l.a.createElement("div",{className:o.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("companyModal.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("div",{className:o.multFieldLine},l.a.createElement(lt.b,{as:it.a,name:"passwordDefault",variant:"outlined",margin:"dense",label:Qe.a.t("companyModal.form.passwordDefault"),error:t.passwordDefault&&Boolean(n.passwordDefault),helperText:t.passwordDefault&&n.passwordDefault,type:m?"text":"password",InputProps:{endAdornment:l.a.createElement(st.a,{position:"end"},l.a.createElement(k.a,{"aria-label":"toggle password visibility",onClick:()=>d(e=>!e)},m?l.a.createElement(gt.a,null):l.a.createElement(Et.a,null)))},fullWidth:!0}))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:u,color:"secondary",disabled:c,variant:"outlined"},Qe.a.t("companyModal.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:c,variant:"contained",className:o.btnWrapper},"".concat(r?Qe.a.t("companyModal.buttons.okEdit"):Qe.a.t("companyModal.buttons.okAdd")),c&&l.a.createElement(Ra.a,{size:24,className:o.buttonProgress}))))})))};const Fm=(e,a)=>{if("LOAD_COMPANIES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_COMPANIES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_COMPANIES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},qm=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var zm=()=>{const e=qm(),a=Object(f.g)(),[t,r]=Object(n.useState)(!1),[o,c]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,y]=Object(n.useState)(!1),[v,C]=Object(n.useState)(""),[O,S]=Object(n.useReducer)(Fm,[]),{dateToClient:k,datetimeToClient:T}=da(),{user:w}=Object(n.useContext)(pa);Object(n.useEffect)(()=>{!async function(){w.super||(h.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{S({type:"RESET"}),c(1)},[v]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await na.get("/companiesPlan/",{params:{searchParam:v,pageNumber:o}});S({type:"LOAD_COMPANIES",payload:e.companies}),s(e.hasMore),r(!1)}catch(e){Ze(e)}})()},500);return()=>clearTimeout(e)},[v,o]),Object(n.useEffect)(()=>{const e=oa({companyId:localStorage.getItem("companyId")});return()=>{e.disconnect()}},[]);const A=e=>{if(x()(e.dueDate).isValid()){const a=x()(),t=x()(e.dueDate).diff(a,"days");if(t>=1&&t<=5)return{backgroundColor:"#fffead"};if(t<=0)return{backgroundColor:"#fa8c8c"}}return{}};return l.a.createElement(xc,null,l.a.createElement(_l,{title:u&&"".concat(Qe.a.t("compaies.confirmationModal.deleteTitle")," ").concat(u.name,"?"),open:b,onClose:y,onConfirm:()=>(async e=>{try{await na.delete("/companies/".concat(e)),h.b.success(Qe.a.t("compaies.toasts.deleted"))}catch(a){Ze(a)}p(null),C(""),c(1)})(u.id)},Qe.a.t("compaies.confirmationModal.deleteMessage")),l.a.createElement(Wm,{open:g,onClose:()=>{d(null),E(!1)},"aria-labelledby":"form-dialog-title",companyId:m&&m.id}),l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("compaies.title")," (",O.length,")")),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&c(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("compaies.table.status")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("compaies.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("compaies.table.email")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("compaies.table.namePlan")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("compaies.table.value")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("compaies.table.createdAt")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("compaies.table.dueDate")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("compaies.table.lastLogin")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,O.map(e=>l.a.createElement(kn.a,{style:A(e),key:e.id},l.a.createElement(Cn.a,{align:"center"},!1===e.status.status?"N\xe3o":"Sim"),l.a.createElement(Cn.a,{align:"center"},e.name),l.a.createElement(Cn.a,{align:"center"},e.email),l.a.createElement(Cn.a,{align:"center"},e.plan.name),l.a.createElement(Cn.a,{align:"center"},"$ ",(e=>null!==e.planId?e.plan.amount?e.plan.amount.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00":"-")(e)),l.a.createElement(Cn.a,{align:"center"},k(e.createdAt)),l.a.createElement(Cn.a,{align:"center"},k(e.dueDate),l.a.createElement("br",null),l.a.createElement("span",null,e.recurrence)),l.a.createElement(Cn.a,{align:"center"},T(e.lastLogin)))),t&&l.a.createElement(Ac,{columns:4}))))))};var Bm=function(e){const{messages:a,showLoading:t,editMessage:r,deleteMessage:o,readOnly:c}=e,[i,s]=Object(n.useState)(!0),[m,d]=Object(n.useState)([]);return Object(n.useEffect)(()=>{Array.isArray(a)&&d(a),void 0!==t&&s(t)},[a,t]),l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},"Atalhos"),l.a.createElement(Cn.a,{align:"left"},"Mensagems"),c?null:l.a.createElement(Cn.a,{align:"center"},"A\xe7\xf5es"))),l.a.createElement(xn.a,null,i?l.a.createElement(Ac,{columns:c?2:3}):m.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center"},e.shortcode),l.a.createElement(Cn.a,{align:"left"},e.message),c?null:l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{r(e)})(e)},l.a.createElement(bc.a,null)),l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{o(e)})(e)},l.a.createElement(fc.a,null)))))))},Um=t(2),Hm=t.n(Um);var _m=function(e){let{title:a,modalOpen:t,onClose:r,children:o}=e;const[c,i]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{i(t)},[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement(rt.a,{open:c,onClose:()=>{i(!1),r()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(ot.a,{id:"alert-dialog-title"},a),o))};const Vm=nt.d().shape({shortcode:nt.f().min(3,"Too Short!").max(50,"Too Long!").required("Required"),message:nt.f().min(3,"Too Short!").max(500,"Too Long!").required("Required")}),Ym=Object(C.a)(e=>({root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:e.palette.background.paper},inline:{width:"100%"}}));function Gm(e){const a=Ym(),t={id:null,shortcode:"",message:""},{modalOpen:r,saveMessage:o,editMessage:c,onClose:i,messageSelected:s}=e,[m,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)(t),[g,E]=Object(n.useState)(!1),{user:b}=Object(n.useContext)(pa);Object(n.useEffect)(()=>{h(),d(r)},[r]),Object(n.useEffect)(()=>{h()},[s]);const f=()=>Object(Je.isObject)(s)&&Object(Je.has)(s,"id")&&!Object(Je.isNil)(Object(Je.get)(s,"id")),h=()=>{if(f()){const{id:e,message:a,shortcode:t}=s;p({id:e,message:a,shortcode:t})}else p(t)},y=()=>{i(),E(!1)};return l.a.createElement(_m,{title:"Resposta R\xe1pida",modalOpen:m,onClose:y},l.a.createElement(lt.e,{initialValues:u,enableReinitialize:!0,validationSchema:Vm,onSubmit:(e,a)=>{E(!0),setTimeout(()=>{(async e=>{f()?c({...s,...e,userId:b.id}):o({...e,userId:b.id}),y()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:n}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{className:a.root,dividers:!0},l.a.createElement($a.a,{direction:"column",container:!0},l.a.createElement($a.a,{item:!0},l.a.createElement(lt.b,{as:it.a,name:"shortcode",label:Qe.a.t("quickMessages.dialog.shortcode"),error:t.shortcode&&Boolean(n.shortcode),helperText:t.shortcode&&n.shortcode,variant:"outlined"})),l.a.createElement($a.a,{item:!0},l.a.createElement(lt.b,{as:it.a,name:"message",rows:6,label:Qe.a.t("quickMessages.dialog.message"),multiline:!0,error:t.message&&Boolean(n.message),helperText:t.message&&n.message,variant:"outlined"})))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:y,color:"primary"},"Cancelar"),l.a.createElement(Pa,{loading:g,color:"primary",type:"submit",variant:"contained",autoFocus:!0},"Salvar")))}))}Gm.propType={modalOpen:Hm.a.bool,onClose:Hm.a.func};var Qm=Gm;const Km=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles}}));var Xm=function(e){const a=Km(),[t,r]=Object(n.useState)([]),[o,c]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)({}),[u,p]=Object(n.useState)(!1),{list:g,save:E,update:b,deleteRecord:f}=go(),{user:y}=Object(n.useContext)(pa);Object(n.useEffect)(()=>{(async()=>{await v()})()},[]);const v=async()=>{c(!0);try{const e=localStorage.getItem("companyId"),a=await g({companyId:e,userId:y.id});r(a)}catch(e){h.b.error(e)}c(!1)},x=()=>{s(!1),d({id:null,message:"",shortcode:""})};return l.a.createElement(xc,null,l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("quickMessages.title")," (",t.length,")"),l.a.createElement(kc,null,l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{s(!0)}},Qe.a.t("quickMessages.buttons.add")))),l.a.createElement(Mt.a,{className:a.mainPaper,variant:"outlined"},l.a.createElement(Bm,{readOnly:!1,messages:t,showLoading:o,editMessage:e=>{d(e),s(!0)},deleteMessage:e=>{d(e),p(!0)}})),l.a.createElement(Qm,{messageSelected:m,modalOpen:i,onClose:x,editMessage:async e=>{x();try{await b(e),await v(),h.b.success("Messagem atualizada com sucesso.")}catch(a){h.b.error(a)}},saveMessage:async e=>{x();try{await E(e),await v(),h.b.success("Messagem adicionada com sucesso.")}catch(a){h.b.error(a)}}}),l.a.createElement(_l,{title:"Excluir Registro",open:u,onClose:p,onConfirm:async()=>{await(async e=>{x();try{await f(e.id),await v(),h.b.success("Messagem exclu\xedda com sucesso.")}catch(a){h.b.error(a)}})(m)}},"Deseja realmente excluir este registro?"))};var Jm=e=>{let{component:a,isPrivate:t=!1,...r}=e;const{isAuth:o,loading:c}=Object(n.useContext)(pa);return!o&&t?l.a.createElement(l.a.Fragment,null,c&&l.a.createElement(St,null),l.a.createElement(f.a,{to:{pathname:"/login",state:{from:r.location}}})):o&&!t?l.a.createElement(l.a.Fragment,null,c&&l.a.createElement(St,null),l.a.createElement(f.a,{to:{pathname:"/",state:{from:r.location}}}),";"):l.a.createElement(l.a.Fragment,null,c&&l.a.createElement(St,null),l.a.createElement(f.b,Object.assign({},r,{component:a})))};const Zm=(e,a)=>{if("LOAD_SCHEDULES"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_SCHEDULES"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_SCHEDULE"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},$m=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var ed=()=>{const e=$m(),a=Object(f.g)(),{user:t}=Object(n.useContext)(pa),[r,o]=Object(n.useState)(!1),[c,i]=Object(n.useState)(1),[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[y,v]=Object(n.useState)(""),[C,O]=Object(n.useReducer)(Zm,[]),[S,T]=Object(n.useState)(!1),[w,A]=Object(n.useState)((j="contactId",+new URLSearchParams(window.location.search).get(j)));var j;const{getPlanCompany:I}=fa();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId");(await I(void 0,e)).plan.useSchedules||(h.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]);const N=Object(n.useCallback)(async()=>{try{const{data:e}=await na.get("/schedules/",{params:{searchParam:y,pageNumber:c}});O({type:"LOAD_SCHEDULES",payload:e.schedules}),m(e.hasMore),o(!1)}catch(e){Ze(e)}},[y,c]),M=Object(n.useCallback)(()=>{w&&R()},[w]);Object(n.useEffect)(()=>{O({type:"RESET"}),i(1)},[y]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{N()},500);return()=>clearTimeout(e)},[y,c,w,N,M]),Object(n.useEffect)(()=>{M();const e=oa({companyId:t.companyId});return e.on("user",e=>{"update"!==e.action&&"create"!==e.action||O({type:"UPDATE_SCHEDULES",payload:e.schedules}),"delete"===e.action&&O({type:"DELETE_USER",payload:+e.scheduleId})}),()=>{e.disconnect()}},[M,t]);const R=()=>{u(null),T(!0)};return l.a.createElement(xc,null,l.a.createElement(_l,{title:p&&"".concat(Qe.a.t("schedules.confirmationModal.deleteTitle")),open:E,onClose:b,onConfirm:()=>(async e=>{try{await na.delete("/schedules/".concat(e)),h.b.success(Qe.a.t("schedules.toasts.deleted"))}catch(a){Ze(a)}g(null),v(""),i(1),O({type:"RESET"}),i(1),await N()})(p.id)},Qe.a.t("schedules.confirmationModal.deleteMessage")),l.a.createElement(Io,{open:S,onClose:()=>{u(null),T(!1)},reload:N,"aria-labelledby":"form-dialog-title",scheduleId:d&&d.id,contactId:w,cleanContact:()=>{A("")}}),l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("schedules.title")," (",C.length,")"),l.a.createElement(kc,null,l.a.createElement(it.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:y,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{style:{color:"gray"}}))}}),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:R},Qe.a.t("schedules.buttons.add")))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&i(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("schedules.table.contact")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("schedules.table.body")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("schedules.table.sendAt")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("schedules.table.status")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("schedules.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,C.map(e=>{return l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center"},e.contact.name),l.a.createElement(Cn.a,{align:"center",title:e.body},(a=e.body,t=25,a.length>t?a.substring(0,t)+"...":a)),l.a.createElement(Cn.a,{align:"center"},x()(e.sendAt).format("DD/MM/YYYY HH:mm:ss")),l.a.createElement(Cn.a,{align:"center"},Object(Je.capitalize)(e.status)),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{u(e),T(!0)})(e)},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{size:"small",onClick:a=>{b(!0),g(e)}},l.a.createElement(hl.a,null))));var a,t}),r&&l.a.createElement(Ac,{columns:4}))))))},ad=t(901),td=t.n(ad),nd=t(900),ld=t.n(nd),rd=t(899),od=t.n(rd);const cd=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},tabs:{background:"light"===e.mode?"#f2f2f2":"#7f7f7f",border:"1px solid #e6e6e6",borderRadius:2}})),id=nt.d().shape({name:nt.f().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var sd=e=>{let{open:a,onClose:t,campaignId:r,initialValues:o,onSave:c,resetPagination:i}=e;const s=cd(),m=Object(n.useRef)(!0),{user:d}=Object(n.useContext)(pa),{companyId:u}=d,p={name:"",message1:"",message2:"",message3:"",message4:"",message5:"",confirmationMessage1:"",confirmationMessage2:"",confirmationMessage3:"",confirmationMessage4:"",confirmationMessage5:"",status:"INATIVA",confirmation:!1,scheduledAt:"",whatsappId:"",contactListId:"",companyId:u},[g,E]=Object(n.useState)(p),[b,f]=Object(n.useState)([]),[y,v]=Object(n.useState)([]),[C,O]=Object(n.useState)(0),[S,T]=Object(n.useState)(null),[w,A]=Object(n.useState)(!1),[j,I]=Object(n.useState)(!0),N=Object(n.useRef)(null);Object(n.useEffect)(()=>()=>{m.current=!1},[]),Object(n.useEffect)(()=>{if(m.current){if(o&&E(e=>({...e,...o})),na.get("/contact-lists/list",{params:{companyId:u}}).then(e=>{let{data:a}=e;return v(a)}),na.get("/whatsapp",{params:{companyId:u,session:0}}).then(e=>{let{data:a}=e;return f(a)}),!r)return;na.get("/campaigns/".concat(r)).then(e=>{let{data:a}=e;E(e=>{let t=Object.assign({},e);return Object.entries(a).forEach(e=>{let[a,n]=e;t[a]="scheduledAt"===a&&""!==n&&null!==n?x()(n).format("YYYY-MM-DDTHH:mm"):null===n?"":n}),t})})}},[r,a,o,u]),Object(n.useEffect)(()=>{const e=x()(),a=x()(g.scheduledAt),t=!Number.isNaN(a.diff(e))&&a.diff(e,"hour")>1,n="INATIVA"===g.status||"PROGRAMADA"===g.status&&t;I(n)},[g.status,g.scheduledAt]);const R=()=>{t(),E(p)},D=e=>l.a.createElement(lt.b,{as:it.a,id:e,name:e,fullWidth:!0,rows:5,label:Qe.a.t("campaigns.dialog.form.".concat(e)),placeholder:Qe.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",helperText:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalizadas.",disabled:!j&&"CANCELADA"!==g.status}),P=e=>l.a.createElement(lt.b,{as:it.a,id:e,name:e,fullWidth:!0,rows:5,label:Qe.a.t("campaigns.dialog.form.".concat(e)),placeholder:Qe.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",disabled:!j&&"CANCELADA"!==g.status});return l.a.createElement("div",{className:s.root},l.a.createElement(_l,{title:Qe.a.t("campaigns.confirmationModal.deleteTitle"),open:w,onClose:()=>A(!1),onConfirm:async()=>{S&&(T(null),N.current.value=null),g.mediaPath&&(await na.delete("/campaigns/".concat(g.id,"/media-upload")),E(e=>({...e,mediaPath:null,mediaName:null})),h.b.success(Qe.a.t("campaigns.toasts.deleted")))}},Qe.a.t("campaigns.confirmationModal.deleteMessage")),l.a.createElement(rt.a,{open:a,onClose:R,fullWidth:!0,maxWidth:"md",scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},j?l.a.createElement(l.a.Fragment,null,"".concat(r?Qe.a.t("campaigns.dialog.update"):Qe.a.t("campaigns.dialog.new"))):l.a.createElement(l.a.Fragment,null,"".concat(Qe.a.t("campaigns.dialog.readonly")))),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",ref:N,onChange:e=>(e=>{const a=Object(Je.head)(e.target.files);a&&T(a)})(e)})),l.a.createElement(lt.e,{initialValues:g,enableReinitialize:!0,validationSchema:id,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{try{const a={};if(Object.entries(e).forEach(e=>{let[t,n]=e;a[t]="scheduledAt"===t&&""!==n&&null!==n?x()(n).format("YYYY-MM-DD HH:mm:ss"):""===n?null:n}),r){if(await na.put("/campaigns/".concat(r),a),null!=S){const e=new FormData;e.append("file",S),await na.post("/campaigns/".concat(r,"/media-upload"),e)}R()}else{const{data:e}=await na.post("/campaigns",a);if(null!=S){const a=new FormData;a.append("file",S),await na.post("/campaigns/".concat(e.id,"/media-upload"),a)}c&&c(e),R()}h.b.success(Qe.a.t("campaigns.toasts.success"))}catch(a){console.log(a),Ze(a)}})(e),a.setSubmitting(!1)},400)}},e=>{let{values:a,errors:t,touched:n,isSubmitting:o}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,md:9,item:!0},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("campaigns.dialog.form.name"),name:"name",error:n.name&&Boolean(t.name),helperText:n.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField,disabled:!j})),l.a.createElement($a.a,{xs:12,md:3,item:!0},l.a.createElement(mt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:s.formControl},l.a.createElement(dt.a,{id:"confirmation-selection-label"},Qe.a.t("campaigns.dialog.form.confirmation")),l.a.createElement(lt.b,{as:ut.a,label:Qe.a.t("campaigns.dialog.form.confirmation"),placeholder:Qe.a.t("campaigns.dialog.form.confirmation"),labelId:"confirmation-selection-label",id:"confirmation",name:"confirmation",error:n.confirmation&&Boolean(t.confirmation),disabled:!j},l.a.createElement(M.a,{value:!1},"Desabilitada"),l.a.createElement(M.a,{value:!0},"Habilitada")))),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(mt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:s.formControl},l.a.createElement(dt.a,{id:"contactList-selection-label"},Qe.a.t("campaigns.dialog.form.contactList")),l.a.createElement(lt.b,{as:ut.a,label:Qe.a.t("campaigns.dialog.form.contactList"),placeholder:Qe.a.t("campaigns.dialog.form.contactList"),labelId:"contactList-selection-label",id:"contactListId",name:"contactListId",error:n.contactListId&&Boolean(t.contactListId),disabled:!j},l.a.createElement(M.a,{value:""},"Nenhuma"),y&&y.map(e=>l.a.createElement(M.a,{key:e.id,value:e.id},e.name))))),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(mt.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:s.formControl},l.a.createElement(dt.a,{id:"whatsapp-selection-label"},Qe.a.t("campaigns.dialog.form.whatsapp")),l.a.createElement(lt.b,{as:ut.a,label:Qe.a.t("campaigns.dialog.form.whatsapp"),placeholder:Qe.a.t("campaigns.dialog.form.whatsapp"),labelId:"whatsapp-selection-label",id:"whatsappId",name:"whatsappId",error:n.whatsappId&&Boolean(t.whatsappId),disabled:!j},l.a.createElement(M.a,{value:""},"Nenhuma"),b&&b.map(e=>l.a.createElement(M.a,{key:e.id,value:e.id},e.name))))),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("campaigns.dialog.form.scheduledAt"),name:"scheduledAt",error:n.scheduledAt&&Boolean(t.scheduledAt),helperText:n.scheduledAt&&t.scheduledAt,variant:"outlined",margin:"dense",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,className:s.textField,disabled:!j})),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(nl.a,{value:C,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>O(a),variant:"fullWidth",centered:!0,className:s.tabs},l.a.createElement(ll.a,{label:"Msg. 1",index:0}),l.a.createElement(ll.a,{label:"Msg. 2",index:1}),l.a.createElement(ll.a,{label:"Msg. 3",index:2}),l.a.createElement(ll.a,{label:"Msg. 4",index:3}),l.a.createElement(ll.a,{label:"Msg. 5",index:4})),l.a.createElement(kl.a,{style:{paddingTop:20,border:"none"}},0===C&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,D("message1"))),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,P("confirmationMessage1")))):l.a.createElement(l.a.Fragment,null,D("message1"))),1===C&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,D("message2"))),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,P("confirmationMessage2")))):l.a.createElement(l.a.Fragment,null,D("message2"))),2===C&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,D("message3"))),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,P("confirmationMessage3")))):l.a.createElement(l.a.Fragment,null,D("message3"))),3===C&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,D("message4"))),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,P("confirmationMessage4")))):l.a.createElement(l.a.Fragment,null,D("message4"))),4===C&&l.a.createElement(l.a.Fragment,null,a.confirmation?l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,md:8,item:!0},l.a.createElement(l.a.Fragment,null,D("message5"))),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(l.a.Fragment,null,P("confirmationMessage5")))):l.a.createElement(l.a.Fragment,null,D("message5"))))),(g.mediaPath||S)&&l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(Ma.a,{startIcon:l.a.createElement(eo.a,null)},null!=S?S.name:g.mediaName),j&&l.a.createElement(k.a,{onClick:()=>A(!0),color:"secondary"},l.a.createElement(hl.a,null))))),l.a.createElement(pt.a,null,"CANCELADA"===g.status&&l.a.createElement(Ma.a,{color:"primary",onClick:()=>(async()=>{try{await na.post("/campaigns/".concat(g.id,"/restart")),h.b.success(Qe.a.t("campaigns.toasts.restart")),E(e=>({...e,status:"EM_ANDAMENTO"})),i()}catch(e){h.b.error(e.message)}})(),variant:"outlined"},Qe.a.t("campaigns.dialog.buttons.restart")),"EM_ANDAMENTO"===g.status&&l.a.createElement(Ma.a,{color:"primary",onClick:()=>(async()=>{try{await na.post("/campaigns/".concat(g.id,"/cancel")),h.b.success(Qe.a.t("campaigns.toasts.cancel")),E(e=>({...e,status:"CANCELADA"})),i()}catch(e){h.b.error(e.message)}})(),variant:"outlined"},Qe.a.t("campaigns.dialog.buttons.cancel")),!S&&!g.mediaPath&&j&&l.a.createElement(Ma.a,{color:"primary",onClick:()=>N.current.click(),disabled:o,variant:"outlined"},Qe.a.t("campaigns.dialog.buttons.attach")),l.a.createElement(Ma.a,{onClick:R,color:"secondary",disabled:o,variant:"outlined"},Qe.a.t("campaigns.dialog.buttons.close")),(j||"CANCELADA"===g.status)&&l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:o,variant:"contained",className:s.btnWrapper},"".concat(r?Qe.a.t("campaigns.dialog.buttons.edit"):Qe.a.t("campaigns.dialog.buttons.add")),o&&l.a.createElement(Ra.a,{size:24,className:s.buttonProgress}))))})))};const md=(e,a)=>{if("LOAD_CAMPAIGNS"===a.type){const t=a.payload,n=[];return Object(Je.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_CAMPAIGNS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_CAMPAIGN"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},dd=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles}}));var ud=()=>{const e=dd(),a=Object(f.g)(),[t,r]=Object(n.useState)(!1),[o,c]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,y]=Object(n.useState)(!1),[v,x]=Object(n.useState)(!1),[C,O]=Object(n.useState)(""),[S,T]=Object(n.useReducer)(md,[]),{datetimeToClient:w}=da(),{getPlanCompany:A}=fa();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId");(await A(void 0,e)).plan.useCampaigns||(h.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{T({type:"RESET"}),c(1)},[C]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{j()},500);return()=>clearTimeout(e)},[C,o]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-campaign"),e=>{"update"!==e.action&&"create"!==e.action||T({type:"UPDATE_CAMPAIGNS",payload:e.record}),"delete"===e.action&&T({type:"DELETE_CAMPAIGN",payload:+e.id})}),()=>{a.disconnect()}},[]);const j=async()=>{try{const{data:e}=await na.get("/campaigns/",{params:{searchParam:C,pageNumber:o}});T({type:"LOAD_CAMPAIGNS",payload:e.records}),s(e.hasMore),r(!1)}catch(e){Ze(e)}};return l.a.createElement(xc,null,l.a.createElement(_l,{title:u&&"".concat(Qe.a.t("campaigns.confirmationModal.deleteTitle")," ").concat(u.name,"?"),open:b,onClose:y,onConfirm:()=>(async e=>{try{await na.delete("/campaigns/".concat(e)),h.b.success(Qe.a.t("campaigns.toasts.deleted"))}catch(a){Ze(a)}p(null),O(""),c(1)})(u.id)},Qe.a.t("campaigns.confirmationModal.deleteMessage")),l.a.createElement(sd,{resetPagination:()=>{c(1),j()},open:g,onClose:()=>{d(null),E(!1)},"aria-labelledby":"form-dialog-title",campaignId:m&&m.id}),l.a.createElement(Oc,null,l.a.createElement($a.a,{style:{width:"99.6%"},container:!0},l.a.createElement($a.a,{xs:12,sm:8,item:!0},l.a.createElement(Tc,null,Qe.a.t("campaigns.title"))),l.a.createElement($a.a,{xs:12,sm:4,item:!0},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:6,sm:6,item:!0},l.a.createElement(it.a,{fullWidth:!0,placeholder:Qe.a.t("campaigns.searchPlaceholder"),type:"search",value:C,onChange:e=>{O(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{style:{color:"gray"}}))}})),l.a.createElement($a.a,{xs:6,sm:6,item:!0},l.a.createElement(Ma.a,{fullWidth:!0,variant:"contained",onClick:()=>{d(null),E(!0)},color:"primary"},Qe.a.t("campaigns.buttons.add"))))))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&c(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("campaigns.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("campaigns.table.status")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("campaigns.table.contactList")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("campaigns.table.whatsapp")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("campaigns.table.scheduledAt")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("campaigns.table.completedAt")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("campaigns.table.confirmation")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("campaigns.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,S.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center"},e.name),l.a.createElement(Cn.a,{align:"center"},(e=>{switch(e){case"INATIVA":return"Inativa";case"PROGRAMADA":return"Programada";case"EM_ANDAMENTO":return"Em Andamento";case"CANCELADA":return"Cancelada";case"FINALIZADA":return"Finalizada";default:return e}})(e.status)),l.a.createElement(Cn.a,{align:"center"},e.contactListId?e.contactList.name:"N\xe3o definida"),l.a.createElement(Cn.a,{align:"center"},e.whatsappId?e.whatsapp.name:"N\xe3o definido"),l.a.createElement(Cn.a,{align:"center"},e.scheduledAt?w(e.scheduledAt):"Sem agendamento"),l.a.createElement(Cn.a,{align:"center"},e.completedAt?w(e.completedAt):"N\xe3o conclu\xedda"),l.a.createElement(Cn.a,{align:"center"},e.confirmation?"Habilitada":"Desabilitada"),l.a.createElement(Cn.a,{align:"center"},"EM_ANDAMENTO"===e.status&&l.a.createElement(k.a,{onClick:()=>(async e=>{try{await na.post("/campaigns/".concat(e.id,"/cancel")),h.b.success(Qe.a.t("campaigns.toasts.cancel")),c(1),j()}catch(a){h.b.error(a.message)}})(e),title:"Parar Campanha",size:"small"},l.a.createElement(od.a,null)),"CANCELADA"===e.status&&l.a.createElement(k.a,{onClick:()=>(async e=>{try{await na.post("/campaigns/".concat(e.id,"/restart")),h.b.success(Qe.a.t("campaigns.toasts.restart")),c(1),j()}catch(a){h.b.error(a.message)}})(e),title:"Parar Campanha",size:"small"},l.a.createElement(ld.a,null)),l.a.createElement(k.a,{onClick:()=>a.push("/campaign/".concat(e.id,"/report")),size:"small"},l.a.createElement(td.a,null)),l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{d(e),E(!0)})(e)},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{size:"small",onClick:a=>{y(!0),p(e)}},l.a.createElement(hl.a,null))))),t&&l.a.createElement(Ac,{columns:8}))))))};const pd=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.padding},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12}})),gd={messageInterval:20,longerIntervalAfter:20,greaterInterval:60,variables:[]};var Ed=()=>{const e=pd(),a=Object(f.g)(),[t,r]=Object(n.useState)(gd),[o,c]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(null),[u,p]=Object(n.useState)({key:"",value:""}),{getPlanCompany:g}=fa();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId");(await g(void 0,e)).plan.useCampaigns||(h.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{na.get("/campaign-settings").then(e=>{let{data:a}=e;const t=[];Array.isArray(a)&&a.length>0&&(a.forEach(e=>{t.push([e.key,JSON.parse(e.value)])}),r(Object.fromEntries(t)))})},[]);const E=e=>{if(null!==e.target.value){const a={};a[e.target.name]=e.target.value,p(e=>({...e,...a}))}},b=e=>{const a={};a[e.target.name]=e.target.value,r(e=>({...e,...a}))};return l.a.createElement(xc,null,l.a.createElement(_l,{title:Qe.a.t("campaigns.confirmationModal.deleteTitle"),open:i,onClose:()=>s(!1),onConfirm:()=>{const e=t.variables.filter(e=>e.key!==m);r(a=>({...a,variables:e})),d(null)}},Qe.a.t("campaigns.confirmationModal.deleteMessage")),l.a.createElement(Oc,null,l.a.createElement($a.a,{style:{width:"99.6%"},container:!0},l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(Tc,null,Qe.a.t("campaignsConfig.title"))))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(kl.a,{className:e.tabPanelsContainer},l.a.createElement($a.a,{spacing:1,container:!0},l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(I.a,{component:"h1"},"Intervalos \xa0")),l.a.createElement($a.a,{xs:12,md:3,item:!0},l.a.createElement(mt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},l.a.createElement(dt.a,{id:"messageInterval-label"},"Intervalo Rand\xf4mico de Disparo"),l.a.createElement(ut.a,{name:"messageInterval",id:"messageInterval",labelId:"messageInterval-label",label:"Intervalo Rand\xf4mico de Disparo",value:t.messageInterval,onChange:e=>b(e)},l.a.createElement(M.a,{value:0},"Sem Intervalo"),l.a.createElement(M.a,{value:5},"5 segundos"),l.a.createElement(M.a,{value:10},"10 segundos"),l.a.createElement(M.a,{value:15},"15 segundos"),l.a.createElement(M.a,{value:20},"20 segundos")))),l.a.createElement($a.a,{xs:12,md:3,item:!0},l.a.createElement(mt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},l.a.createElement(dt.a,{id:"longerIntervalAfter-label"},"Intervalo Maior Ap\xf3s"),l.a.createElement(ut.a,{name:"longerIntervalAfter",id:"longerIntervalAfter",labelId:"longerIntervalAfter-label",label:"Intervalo Maior Ap\xf3s",value:t.longerIntervalAfter,onChange:e=>b(e)},l.a.createElement(M.a,{value:0},"N\xe3o definido"),l.a.createElement(M.a,{value:5},"5 mensagens"),l.a.createElement(M.a,{value:10},"10 mensagens"),l.a.createElement(M.a,{value:15},"15 mensagens"),l.a.createElement(M.a,{value:20},"20 mensagens")))),l.a.createElement($a.a,{xs:12,md:3,item:!0},l.a.createElement(mt.a,{variant:"outlined",className:e.formControl,fullWidth:!0},l.a.createElement(dt.a,{id:"greaterInterval-label"},"Intervalo de Disparo Maior"),l.a.createElement(ut.a,{name:"greaterInterval",id:"greaterInterval",labelId:"greaterInterval-label",label:"Intervalo de Disparo Maior",value:t.greaterInterval,onChange:e=>b(e)},l.a.createElement(M.a,{value:0},"Sem Intervalo"),l.a.createElement(M.a,{value:20},"20 segundos"),l.a.createElement(M.a,{value:30},"30 segundos"),l.a.createElement(M.a,{value:40},"40 segundos"),l.a.createElement(M.a,{value:50},"50 segundos"),l.a.createElement(M.a,{value:60},"60 segundos")))),l.a.createElement($a.a,{xs:12,className:e.textRight,item:!0},l.a.createElement(Ma.a,{onClick:()=>c(!o),color:"primary",style:{marginRight:10}},"Adicionar Vari\xe1vel"),l.a.createElement(Ma.a,{onClick:async()=>{await na.post("/campaign-settings",{settings:t}),h.b.success("Configura\xe7\xf5es salvas")},color:"primary",variant:"contained"},"Salvar Configura\xe7\xf5es")),o&&l.a.createElement(l.a.Fragment,null,l.a.createElement($a.a,{xs:12,md:6,item:!0},l.a.createElement(it.a,{label:"Atalho",variant:"outlined",value:u.key,name:"key",onChange:E,fullWidth:!0})),l.a.createElement($a.a,{xs:12,md:6,item:!0},l.a.createElement(it.a,{label:"Conte\xfado",variant:"outlined",value:u.value,name:"value",onChange:E,fullWidth:!0})),l.a.createElement($a.a,{xs:12,className:e.textRight,item:!0},l.a.createElement(Ma.a,{onClick:()=>c(!o),color:"primary",style:{marginRight:10}},"Fechar"),l.a.createElement(Ma.a,{onClick:()=>{r(e=>{const a=t.variables.filter(e=>e.key===u.key),n=e.variables;return 0===a.length&&(n.push(Object.assign({},u)),p({key:"",value:""})),{...e,variables:n}})},color:"primary",variant:"contained"},"Adicionar"))),t.variables.length>0&&l.a.createElement($a.a,{xs:12,className:e.textRight,item:!0},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{style:{width:"1%"}}),l.a.createElement(Cn.a,null,"Atalho"),l.a.createElement(Cn.a,null,"Conte\xfado"))),l.a.createElement(xn.a,null,Array.isArray(t.variables)&&t.variables.map((e,a)=>l.a.createElement(kn.a,{key:a},l.a.createElement(Cn.a,null,l.a.createElement(k.a,{size:"small",onClick:()=>{d(e.key),s(!0)}},l.a.createElement(hl.a,null))),l.a.createElement(Cn.a,null,"{"+e.key+"}"),l.a.createElement(Cn.a,null,e.value))))))))))},bd=t(1564),fd=t(621),hd=t.n(fd),yd=t(902),vd=t.n(yd);const xd=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles},textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.padding}}));var Cd=()=>{const e=xd(),a=Object(f.g)(),{campaignId:t}=Object(f.h)(),[r,o]=Object(n.useState)({}),[c,i]=Object(n.useState)(0),[s,m]=Object(n.useState)(0),[d,u]=Object(n.useState)(0),[p,g]=Object(n.useState)(0),[E,b]=Object(n.useState)(0),[y,v]=Object(n.useState)(!1),x=Object(n.useRef)(!0),{datetimeToClient:C}=da(),{getPlanCompany:O}=fa();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId");(await O(void 0,e)).plan.useCampaigns||(h.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>(x.current&&S(),()=>{x.current=!1}),[]),Object(n.useEffect)(()=>{if(x.current&&Object(Je.has)(r,"shipping")){if(Object(Je.has)(r,"contactList")){const e=Object(Je.get)(r,"contactList").contacts.filter(e=>e.isWhatsappValid);i(e.length)}if(Object(Je.has)(r,"shipping")){const e=Object(Je.get)(r,"shipping"),a=e.filter(e=>!Object(Je.isNull)(e.deliveredAt)),t=e.filter(e=>!Object(Je.isNull)(e.confirmationRequestedAt)),n=e.filter(e=>!Object(Je.isNull)(e.deliveredAt)&&!Object(Je.isNull)(e.confirmationRequestedAt));m(a.length),u(t.length),g(n.length),m(a.length)}}},[r]),Object(n.useEffect)(()=>{b(s/c*100)},[s,c]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-campaign"),e=>{console.log(e),e.record.id===+t&&(o(e.record),"FINALIZADA"===e.record.status&&setTimeout(()=>{S()},5e3))}),()=>{a.disconnect()}},[t]);const S=async()=>{v(!0);const{data:e}=await na.get("/campaigns/".concat(t));o(e),v(!1)};return l.a.createElement(xc,null,l.a.createElement(Oc,null,l.a.createElement($a.a,{style:{width:"99.6%"},container:!0},l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(Tc,null,"Relat\xf3rio da ",r.name||"Campanha")))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined"},l.a.createElement(I.a,{variant:"h6",component:"h2"},"Status: ",(e=>{switch(e){case"INATIVA":return"Inativa";case"PROGRAMADA":return"Programada";case"EM_ANDAMENTO":return"Em Andamento";case"CANCELADA":return"Cancelada";case"FINALIZADA":return"Finalizada";default:return e}})(r.status)," ",s," de ",c),l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(bd.a,{variant:"determinate",style:{height:15,borderRadius:3,margin:"20px 0"},value:E})),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(yn,{icon:l.a.createElement(ml.a,{fontSize:"inherit"}),title:"Contatos V\xe1lidos",value:c,loading:y})),r.confirmation&&l.a.createElement(l.a.Fragment,null,l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(yn,{icon:l.a.createElement(hd.a,{fontSize:"inherit"}),title:"Confirma\xe7\xf5es Solicitadas",value:d,loading:y})),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(yn,{icon:l.a.createElement(vd.a,{fontSize:"inherit"}),title:"Confirma\xe7\xf5es",value:p,loading:y}))),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(yn,{icon:l.a.createElement(en.a,{fontSize:"inherit"}),title:"Entregues",value:s,loading:y})),r.whatsappId&&l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(yn,{icon:l.a.createElement(X.a,{fontSize:"inherit"}),title:"Conex\xe3o",value:r.whatsapp.name,loading:y})),r.contactListId&&l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(yn,{icon:l.a.createElement(Te.a,{fontSize:"inherit"}),title:"Lista de Contatos",value:r.contactList.name,loading:y})),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(yn,{icon:l.a.createElement(Ve.a,{fontSize:"inherit"}),title:"Agendamento",value:C(r.scheduledAt),loading:y})),l.a.createElement($a.a,{xs:12,md:4,item:!0},l.a.createElement(yn,{icon:l.a.createElement(he.a,{fontSize:"inherit"}),title:"Conclus\xe3o",value:C(r.completedAt),loading:y})))))};const Od=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Sd=nt.d().shape({title:nt.f().required("Obrigat\xf3rio"),text:nt.f().required("Obrigat\xf3rio")});var kd=e=>{let{open:a,onClose:t,announcementId:r,reload:o}=e;const c=Od(),i={title:"",text:"",priority:3,status:!0},[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)(i),[p,g]=Object(n.useState)(null),E=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await na.get("/announcements/".concat(r));u(a=>({...a,...e}))})()}catch(e){Ze(e)}},[r,a]);const b=()=>{u(i),g(null),t()};return l.a.createElement("div",{className:c.root},l.a.createElement(_l,{title:Qe.a.t("announcements.confirmationModal.deleteTitle"),open:s,onClose:()=>m(!1),onConfirm:async()=>{p&&(g(null),E.current.value=null),d.mediaPath&&(await na.delete("/announcements/".concat(d.id,"/media-upload")),u(e=>({...e,mediaPath:null})),h.b.success(Qe.a.t("announcements.toasts.deleted")),"function"==typeof o&&o())}},Qe.a.t("announcements.confirmationModal.deleteMessage")),l.a.createElement(rt.a,{open:a,onClose:b,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"".concat(r?Qe.a.t("announcements.dialog.edit"):Qe.a.t("announcements.dialog.add"))),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:E,onChange:e=>(e=>{const a=Object(Je.head)(e.target.files);a&&g(a)})(e)})),l.a.createElement(lt.e,{initialValues:d,enableReinitialize:!0,validationSchema:Sd,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e};try{if(r){if(await na.put("/announcements/".concat(r),a),null!=p){const e=new FormData;e.append("file",p),await na.post("/announcements/".concat(r,"/media-upload"),e)}}else{const{data:e}=await na.post("/announcements",a);if(null!=p){const a=new FormData;a.append("file",p),await na.post("/announcements/".concat(e.id,"/media-upload"),a)}}h.b.success(Qe.a.t("announcements.toasts.success")),"function"==typeof o&&o()}catch(t){Ze(t)}b()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:o}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("announcements.dialog.form.title"),name:"title",error:a.title&&Boolean(t.title),helperText:a.title&&t.title,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("announcements.dialog.form.text"),name:"text",error:a.text&&Boolean(t.text),helperText:a.text&&t.text,variant:"outlined",margin:"dense",multiline:!0,rows:7,fullWidth:!0})),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(mt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(dt.a,{id:"status-selection-label"},Qe.a.t("announcements.dialog.form.status")),l.a.createElement(lt.b,{as:ut.a,label:Qe.a.t("announcements.dialog.form.status"),placeholder:Qe.a.t("announcements.dialog.form.status"),labelId:"status-selection-label",id:"status",name:"status",error:a.status&&Boolean(t.status)},l.a.createElement(M.a,{value:!0},"Ativo"),l.a.createElement(M.a,{value:!1},"Inativo")))),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(mt.a,{variant:"outlined",margin:"dense",fullWidth:!0},l.a.createElement(dt.a,{id:"priority-selection-label"},Qe.a.t("announcements.dialog.form.priority")),l.a.createElement(lt.b,{as:ut.a,label:Qe.a.t("announcements.dialog.form.priority"),placeholder:Qe.a.t("announcements.dialog.form.priority"),labelId:"priority-selection-label",id:"priority",name:"priority",error:a.priority&&Boolean(t.priority)},l.a.createElement(M.a,{value:1},"Alta"),l.a.createElement(M.a,{value:2},"M\xe9dia"),l.a.createElement(M.a,{value:3},"Baixa")))),(d.mediaPath||p)&&l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(Ma.a,{startIcon:l.a.createElement(eo.a,null)},p?p.name:d.mediaName),l.a.createElement(k.a,{onClick:()=>m(!0),color:"secondary"},l.a.createElement(hl.a,null))))),l.a.createElement(pt.a,null,!p&&!d.mediaPath&&l.a.createElement(Ma.a,{color:"primary",onClick:()=>E.current.click(),disabled:n,variant:"outlined"},Qe.a.t("announcements.dialog.buttons.attach")),l.a.createElement(Ma.a,{onClick:b,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("announcements.dialog.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(r?Qe.a.t("announcements.dialog.buttons.add"):Qe.a.t("announcements.dialog.buttons.edit")),n&&l.a.createElement(Ra.a,{size:24,className:c.buttonProgress}))))})))};const Td=(e,a)=>{if("LOAD_ANNOUNCEMENTS"===a.type){const t=a.payload,n=[];return Object(Je.isArray)(t)&&t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_ANNOUNCEMENT"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},wd=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles}}));var Ad=()=>{const e=wd(),a=Object(f.g)(),{user:t}=Object(n.useContext)(pa),[r,o]=Object(n.useState)(!1),[c,i]=Object(n.useState)(1),[s,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[E,b]=Object(n.useState)(!1),[y,v]=Object(n.useState)(!1),[x,C]=Object(n.useState)(""),[O,S]=Object(n.useReducer)(Td,[]);Object(n.useEffect)(()=>{!async function(){t.super||(h.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{a.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{S({type:"RESET"}),i(1)},[x]),Object(n.useEffect)(()=>{o(!0);const e=setTimeout(()=>{T()},500);return()=>clearTimeout(e)},[x,c]),Object(n.useEffect)(()=>{const e=oa({companyId:localStorage.getItem("companyId")});return e.on("company-announcement",e=>{"update"!==e.action&&"create"!==e.action||S({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),"delete"===e.action&&S({type:"DELETE_ANNOUNCEMENT",payload:+e.id})}),()=>{e.disconnect()}},[]);const T=async()=>{try{const{data:e}=await na.get("/announcements/",{params:{searchParam:x,pageNumber:c}});S({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),m(e.hasMore),o(!1)}catch(e){Ze(e)}};return l.a.createElement(xc,null,l.a.createElement(_l,{title:p&&"".concat(Qe.a.t("announcements.confirmationModal.deleteTitle")," ").concat(p.name,"?"),open:y,onClose:v,onConfirm:()=>(async e=>{try{await na.delete("/announcements/".concat(e)),h.b.success(Qe.a.t("announcements.toasts.deleted"))}catch(a){Ze(a)}g(null),C(""),i(1)})(p.id)},Qe.a.t("announcements.confirmationModal.deleteMessage")),l.a.createElement(kd,{resetPagination:()=>{i(1),T()},open:E,onClose:()=>{u(null),b(!1)},"aria-labelledby":"form-dialog-title",announcementId:d&&d.id}),l.a.createElement(Oc,null,l.a.createElement($a.a,{style:{width:"99.6%"},container:!0},l.a.createElement($a.a,{xs:12,sm:8,item:!0},l.a.createElement(Tc,null,Qe.a.t("announcements.title")," (",O.length,")")),l.a.createElement($a.a,{xs:12,sm:4,item:!0},l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:6,sm:6,item:!0},l.a.createElement(it.a,{fullWidth:!0,placeholder:Qe.a.t("announcements.searchPlaceholder"),type:"search",value:x,onChange:e=>{C(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{style:{color:"gray"}}))}})),l.a.createElement($a.a,{xs:6,sm:6,item:!0},l.a.createElement(Ma.a,{fullWidth:!0,variant:"contained",onClick:()=>{u(null),b(!0)},color:"primary"},Qe.a.t("announcements.buttons.add"))))))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||r)return;const{scrollTop:a,scrollHeight:t,clientHeight:n}=e.currentTarget;t-(a+100)<n&&i(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("announcements.table.title")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("announcements.table.priority")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("announcements.table.mediaName")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("announcements.table.status")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("announcements.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,O.map(e=>{var a,t;return l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center"},e.title),l.a.createElement(Cn.a,{align:"center"},1===(t=e.priority)?"Alta":2===t?"M\xe9dia":3===t?"Baixa":void 0),l.a.createElement(Cn.a,{align:"center"},null!==(a=e.mediaName)&&void 0!==a?a:"Sem anexo"),l.a.createElement(Cn.a,{align:"center"},e.status?"ativo":"inativo"),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{u(e),b(!0)})(e)},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{size:"small",onClick:a=>{v(!0),g(e)}},l.a.createElement(hl.a,null))))}),r&&l.a.createElement(Ac,{columns:5}))))))};const jd=Object(C.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,height:"calc(100% - 58px)",overflow:"hidden",borderRadius:0,backgroundColor:"white"},chatList:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflowY:"scroll",...e.scrollbarStyles},listItem:{cursor:"pointer"}}));function Id(e){let{chats:a,handleSelectChat:t,handleDeleteChat:r,handleEditChat:o,pageInfo:c,loading:i}=e;const s=jd(),m=Object(f.g)(),{user:d}=Object(n.useContext)(pa),{datetimeToClient:u}=da(),[p,g]=Object(n.useState)(!1),[E,b]=Object(n.useState)({}),{id:h}=Object(f.h)(),y=async e=>{if(v(e)>0)try{await na.post("/chats/".concat(e.id,"/read"),{userId:d.id})}catch(a){}h!==e.uuid&&(m.push("/chats/".concat(e.uuid)),t(e))},v=e=>e.users.find(e=>e.userId===d.id).unreads,x=e=>{const a=e.title,t=v(e);return l.a.createElement(l.a.Fragment,null,a,t>0&&l.a.createElement(bt.a,{size:"small",style:{marginLeft:5},label:t,color:"secondary"}))},C=e=>""!==e.lastMessage?"".concat(u(e.updatedAt),": ").concat(e.lastMessage):"",O=e=>({borderLeft:e.uuid===h?"6px solid #002d6e":null,backgroundColor:e.uuid===h?"#eee":null});return l.a.createElement(l.a.Fragment,null,l.a.createElement(_l,{title:"Borrar Conversaci\xf3n",open:p,onClose:g,onConfirm:()=>{r(E)}},"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"),l.a.createElement("div",{className:s.mainContainer},l.a.createElement("div",{className:s.chatList},l.a.createElement(w.a,null,Array.isArray(a)&&a.length>0&&a.map((e,a)=>l.a.createElement(B.a,{onClick:()=>y(e),key:a,className:s.listItem,style:O(e),button:!0},l.a.createElement(H.a,{primary:x(e),secondary:C(e)}),e.ownerId===d.id&&l.a.createElement(Sl.a,null,l.a.createElement(k.a,{onClick:()=>{y(e).then(()=>{o(e)})},edge:"end","aria-label":"delete",size:"small",style:{marginRight:5}},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{onClick:()=>{b(e),g(!0)},edge:"end","aria-label":"delete",size:"small"},l.a.createElement(Br.a,null)))))))))}var Nd=t(937);const Md=Object(C.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflow:"hidden",borderRadius:0,height:"100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},messageList:{position:"relative",overflowY:"auto",height:"100%",...e.scrollbarStyles,backgroundColor:"#eee"},inputArea:{position:"relative",height:"auto"},input:{padding:"20px"},buttonSend:{margin:e.spacing(1)},boxLeft:{padding:"10px 10px 5px",margin:"10px",position:"relative",backgroundColor:"white",maxWidth:300,borderRadius:10,borderBottomLeftRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"},boxRight:{padding:"10px 10px 5px",margin:"10px 10px 10px auto",position:"relative",backgroundColor:"#E3F3F9",textAlign:"right",maxWidth:300,borderRadius:10,borderBottomRightRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"}}));function Rd(e){let{chat:a,messages:t,handleSendMessage:r,handleLoadMore:o,scrollToBottomRef:c,pageInfo:i,loading:s}=e;const m=Md(),{user:d}=Object(n.useContext)(pa),{datetimeToClient:u}=da(),p=Object(n.useRef)(),[g,E]=Object(n.useState)(""),b=()=>{p.current&&p.current.scrollIntoView({})};Object(n.useEffect)(()=>{if((e=>{if(void 0!==e){return e.users.find(e=>e.userId===d.id).unreads>0}return 0})(a)>0)try{na.post("/chats/".concat(a.id,"/read"),{userId:d.id})}catch(e){}c.current=b},[]);return l.a.createElement(Mt.a,{className:m.mainContainer},l.a.createElement("div",{onScroll:e=>{const{scrollTop:a}=e.currentTarget;i.hasMore&&!s&&a<600&&o()},className:m.messageList},Array.isArray(t)&&t.map((e,a)=>e.senderId===d.id?l.a.createElement(kl.a,{key:a,className:m.boxRight},l.a.createElement(I.a,{variant:"subtitle2"},e.sender.name),e.message,l.a.createElement(I.a,{variant:"caption",display:"block"},u(e.createdAt))):l.a.createElement(kl.a,{key:a,className:m.boxLeft},l.a.createElement(I.a,{variant:"subtitle2"},e.sender.name),e.message,l.a.createElement(I.a,{variant:"caption",display:"block"},u(e.createdAt)))),l.a.createElement("div",{ref:p})),l.a.createElement("div",{className:m.inputArea},l.a.createElement(mt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(Nd.a,{multiline:!0,value:g,onKeyUp:e=>{"Enter"===e.key&&""!==g.trim()&&(r(g),E(""))},onChange:e=>E(e.target.value),className:m.input,endAdornment:l.a.createElement(st.a,{position:"end"},l.a.createElement(k.a,{onClick:()=>{""!==g.trim()&&(r(g),E(""))},className:m.buttonSend},l.a.createElement(He.a,null)))}))))}const Dd=Object(C.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,padding:e.padding,height:"calc(100% - 48px)",overflowY:"hidden",border:"1px solid rgba(0, 0, 0, 0.12)"},gridContainer:{flex:1,height:"100%",border:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee"},gridItem:{height:"100%"},gridItemTab:{height:"92%",width:"100%"},btnContainer:{textAlign:"right",padding:10}}));function Pd(e){let{open:a,chat:t,type:r,handleClose:o,handleLoadNewChat:c}=e;const i=Object(f.g)(),[s,m]=Object(n.useState)([]),[d,u]=Object(n.useState)(""),{getPlanCompany:p}=fa();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId");(await p(void 0,e)).plan.useInternalChat||(h.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{i.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{if(u(""),m([]),"edit"===r){const e=t.users.map(e=>({id:e.user.id,name:e.user.name}));m(e),u(t.title)}},[t,a,r]);return l.a.createElement(rt.a,{open:a,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(ot.a,{id:"alert-dialog-title"},"Conversaci\xf3n"),l.a.createElement(ct.a,null,l.a.createElement($a.a,{spacing:2,container:!0},l.a.createElement($a.a,{xs:12,style:{padding:18},item:!0},l.a.createElement(it.a,{label:"T\xedtulo",placeholder:"T\xedtulo",value:d,onChange:e=>u(e.target.value),variant:"outlined",size:"small",fullWidth:!0})),l.a.createElement($a.a,{xs:12,item:!0},l.a.createElement(Ar,{onFiltered:e=>m(e),initialUsers:s})))),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:o,color:"primary"},"Fechar"),l.a.createElement(Ma.a,{onClick:async()=>{try{if("edit"===r)await na.put("/chats/".concat(t.id),{users:s,title:d});else{const{data:e}=await na.post("/chats",{users:s,title:d});c(e)}o()}catch(e){}},color:"primary",variant:"contained"},"Salvar")))}var Ld=Object($n.a)()((function(e){const a=Dd(),{user:t}=Object(n.useContext)(pa),r=Object(f.g)(),[o,c]=Object(n.useState)(!1),[i,s]=Object(n.useState)("new"),[m,d]=Object(n.useState)({}),[u,p]=Object(n.useState)([]),[g,E]=Object(n.useState)({hasMore:!1}),[b,h]=Object(n.useState)([]),[y,v]=Object(n.useState)({hasMore:!1}),[x,C]=Object(n.useState)(1),[O,S]=Object(n.useState)(!1),[k,T]=Object(n.useState)(0),w=Object(n.useRef)(!0),A=Object(n.useRef)(),{id:j}=Object(f.h)();Object(n.useEffect)(()=>()=>{w.current=!1},[]),Object(n.useEffect)(()=>{w.current&&P().then(e=>{const{records:a}=e;if(a.length>0&&(p(a),E(e),j&&a.length)){const e=a.find(e=>e.uuid===j);I(e)}})},[]),Object(n.useEffect)(()=>{Object(Je.isObject)(m)&&Object(Je.has)(m,"id")&&R(m.id).then(()=>{"function"===typeof A.current&&setTimeout(()=>{A.current()},300)})},[m]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=oa({companyId:e});return a.on("company-".concat(e,"-chat-user-").concat(t.id),e=>{if("create"===e.action&&p(a=>[e.record,...a]),"update"===e.action){const a=u.map(a=>a.id===e.record.id?(d(e.record),{...e.record}):a);p(a)}}),a.on("company-".concat(e,"-chat"),e=>{if("delete"===e.action){const a=u.filter(a=>a.id!==+e.id);p(a),h([]),C(1),v({hasMore:!1}),d({}),r.push("/chats")}}),Object(Je.isObject)(m)&&Object(Je.has)(m,"id")&&a.on("company-".concat(e,"-chat-").concat(m.id),e=>{if("new-message"===e.action){h(a=>[...a,e.newMessage]);const a=u.map(a=>a.id===e.newMessage.chatId?{...e.chat}:a);p(a),A.current()}if("update"===e.action){const a=u.map(a=>a.id===e.chat.id?{...e.chat}:a);p(a),A.current()}}),()=>{a.disconnect()}},[m]);const I=e=>{try{h([]),C(1),d(e),T(1)}catch(a){}},N=async e=>{S(!0);try{await na.post("/chats/".concat(m.id,"/messages"),{message:e})}catch(a){}S(!1)},M=async e=>{try{await na.delete("/chats/".concat(e.id))}catch(a){}},R=async e=>{S(!0);try{const{data:a}=await na.get("/chats/".concat(e,"/messages?pageNumber=").concat(x));C(e=>e+1),v(a),h(e=>[...a.records,...e])}catch(a){}S(!1)},D=async()=>{O||R(m.id)},P=async()=>{try{const{data:e}=await na.get("/chats");return e}catch(e){console.log(e)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pd,{type:i,open:o,chat:m,handleLoadNewChat:e=>{h([]),C(1),d(e),T(1),r.push("/chats/".concat(e.uuid))},handleClose:()=>c(!1)}),l.a.createElement(Mt.a,{className:a.mainContainer},Object($n.b)("md",e.width)?l.a.createElement($a.a,{className:a.gridContainer,container:!0},l.a.createElement($a.a,{className:a.gridItem,md:3,item:!0},"admin"===t.profile&&l.a.createElement("div",{className:a.btnContainer},l.a.createElement(Ma.a,{onClick:()=>{s("new"),c(!0)},color:"primary",variant:"contained"},"Novo")),l.a.createElement(Id,{chats:u,pageInfo:g,loading:O,handleSelectChat:e=>I(e),handleDeleteChat:e=>M(e),handleEditChat:()=>{s("edit"),c(!0)}})),l.a.createElement($a.a,{className:a.gridItem,md:9,item:!0},Object(Je.isObject)(m)&&Object(Je.has)(m,"id")&&l.a.createElement(Rd,{chat:m,scrollToBottomRef:A,pageInfo:y,messages:b,loading:O,handleSendMessage:N,handleLoadMore:D}))):l.a.createElement($a.a,{className:a.gridContainer,container:!0},l.a.createElement($a.a,{md:12,item:!0},l.a.createElement(nl.a,{value:k,indicatorColor:"primary",textColor:"primary",onChange:(e,a)=>T(a),"aria-label":"disabled tabs example"},l.a.createElement(ll.a,{label:"Chats"}),l.a.createElement(ll.a,{label:"Mensagens"}))),0===k&&l.a.createElement($a.a,{className:a.gridItemTab,md:12,item:!0},l.a.createElement("div",{className:a.btnContainer},l.a.createElement(Ma.a,{onClick:()=>c(!0),color:"primary",variant:"contained"},"Novo")),l.a.createElement(Id,{chats:u,pageInfo:g,loading:O,handleSelectChat:e=>I(e),handleDeleteChat:e=>M(e)})),1===k&&l.a.createElement($a.a,{className:a.gridItemTab,md:12,item:!0},Object(Je.isObject)(m)&&Object(Je.has)(m,"id")&&l.a.createElement(Rd,{scrollToBottomRef:A,pageInfo:y,messages:b,loading:O,handleSendMessage:N,handleLoadMore:D})))))})),Wd=t(903),Fd=t.n(Wd),qd=t(904),zd=t.n(qd);const Bd=Object(C.a)(e=>({mainContainer:{flex:1,padding:e.spacing(2),height:"calc(100% - 48px)"},contentWrapper:{height:"100%",display:"flex",flexDirection:"column"}}));var Ud,Hd,_d,Vd,Yd,Gd,Qd=e=>{let{children:a}=e;const t=Bd();return l.a.createElement(_t.a,{className:t.mainContainer},l.a.createElement("div",{className:t.contentWrapper},a))};Hi.default.div(Ud||(Ud=Object(Ui.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: ",";\n  gap: 10px;\n  width: 100%;\n  margin-left: 10px;\n  margin-top: 10px;\n"])),e=>{let{custom:a}=e;return a?"row":"column"},e=>{let{custom:a}=e;return a?"space-between":"flex-start"}),Hi.default.div(Hd||(Hd=Object(Ui.a)(["\n  width: 100%;\n"]))),Hi.default.div(_d||(_d=Object(Ui.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-top: auto;\n  padding: 10px;\n"]))),Hi.default.div(Vd||(Vd=Object(Ui.a)(["\n  width: 100%;\n  margin-bottom: 10px;\n  margin-top: 10px;\n  border-bottom: 1px solid #eee;\n"])));const Kd=Hi.default.div(Yd||(Yd=Object(Ui.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 6px 6px 6px 6px;\n  color: white;\n\n  span {\n    height: 25px;\n    font-weight: 500;\n  }\n"])));Hi.default.div(Gd||(Gd=Object(Ui.a)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n  margin-right: 10px;\n\n  &&& {\n    span > {\n      font-weight: 400;\n    }\n  }\n"])));var Xd;const Jd=Hi.default.div(Xd||(Xd=Object(Ui.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  padding: 10px;\n  width: 100%;\n  margin-bottom: auto;\n\n  img {\n    width: 150px;\n    height: 45px;\n  }\n"]))),Zd=Object(C.a)(e=>({mainPaper:{width:"100%",height:"220px",cursor:"pointer"},listPaper:{display:"flex",flex:1,flexDirection:"column",padding:e.spacing(1),...e.scrollbarStyles,width:"100%",marginBottom:"auto",minHeight:"200px"}}));var $d=e=>{let{title:a,description:t,icon:n,link:r,customStyle:o={},img:c}=e;const i=Zd(),s=Object(f.g)();return l.a.createElement(Mt.a,{className:i.mainPaper,onClick:()=>{s.push(r)}},l.a.createElement(Kd,{style:{backgroundColor:"#008080"}},l.a.createElement("span",null,a)),l.a.createElement(Jd,{style:{...o}},c&&l.a.createElement("img",{src:c,alt:a}),n&&l.a.createElement("div",null,n),t&&l.a.createElement("p",null,t)))},eu=t(905),au=t.n(eu),tu=t(906),nu=t.n(tu),lu=t(907),ru=t.n(lu);var ou,cu,iu=()=>l.a.createElement(Qd,null,l.a.createElement(Oc,null,l.a.createElement(Tc,null,"Integra\xe7\xf5es")),l.a.createElement($a.a,{container:!0,spacing:4,sx:{overflowY:"unset"}},l.a.createElement($a.a,{item:!0,xs:3},l.a.createElement($d,{title:"HINOVA",link:"/integrations/hinova",customStyle:{marginTop:"55px"},img:au.a})),l.a.createElement($a.a,{item:!0,xs:3},l.a.createElement($d,{title:"SIPROV",link:"/integrations/siprov",customStyle:{marginTop:"55px"},img:nu.a})),l.a.createElement($a.a,{item:!0,xs:3},l.a.createElement($d,{title:"MIKWEB",link:"/integrations/mikweb",customStyle:{marginTop:"55px"},img:Fd.a})),l.a.createElement($a.a,{item:!0,xs:3},l.a.createElement($d,{title:"ASAAS",link:"/integrations/asaas",customStyle:{marginTop:"55px"},img:zd.a})),l.a.createElement($a.a,{item:!0,xs:3},l.a.createElement($d,{title:"BLING",link:"/integrations/bling",customStyle:{marginTop:"55px"},img:ru.a})))),su=t(1565);const mu=Hi.default.div(ou||(ou=Object(Ui.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  margin-bottom: auto;\n  flex: 1;\n"]))),du=Hi.default.div(cu||(cu=Object(Ui.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  margin-bottom: 20px;\n\n  > span {\n    font-size: 16px;\n    font-weight: 500;\n  }\n"]))),uu=Object(C.a)(e=>({mainPaper:{width:"100%",minHeight:"20%"},listPaper:{display:"flex",flex:1,flexDirection:"column",padding:e.spacing(1),...e.scrollbarStyles,width:"100%",marginBottom:"auto",minHeight:"200px"}})),pu=nt.d().shape({mik_web:nt.b(),tokens:nt.a().when("hinova",{is:!0,then:nt.a().of(nt.d().shape({token:nt.f().required("Token \xe9 obrigat\xf3rio"),type:nt.f().required("Nome \xe9 obrigat\xf3rio")}))})});var gu=function(){const[e,a]=Object(n.useState)([]),t=uu(),r=Object(f.g)();return l.a.createElement(Qd,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0",minHeight:"48px"}},l.a.createElement(k.a,{onClick:()=>r.push("/integrations")},l.a.createElement(su.a,null),l.a.createElement("span",{style:{fontSize:"1rem"}},"Voltar"))),l.a.createElement(Oc,null,l.a.createElement(Tc,null,"MikWeb")),l.a.createElement(Mt.a,{className:t.mainPaper},l.a.createElement(Kd,null,"Configura\xe7\xf5es"),l.a.createElement(mu,null,l.a.createElement(lt.e,{enableReinitialize:!0,initialValues:!0,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{})(),a.setSubmitting(!1)},400)},validationSchema:pu},n=>{let{values:r,errors:o,touched:c,isSubmitting:i,setFieldValue:s}=n;return l.a.createElement(lt.d,null,l.a.createElement("div",{style:{display:"flex",flex:1,marginBottom:"auto",flexDirection:"column"}},l.a.createElement(pl.a,{control:l.a.createElement(lt.b,{as:gl.a,size:"small",color:"primary",name:"mik_web",checked:r.mik_web,onChange:e=>{s("mik_web",e.target.checked),e.target.checked&&s("tokens",[...r.tokens,{token:"",type:"mik_web"}])}}),style:{marginLeft:"5px"},label:"Ativar integra\xe7\xe3o"}),r.mik_web&&l.a.createElement(l.a.Fragment,null,l.a.createElement(lt.c,{name:"tokens"},n=>{var o;let{push:c,remove:i}=n;return l.a.createElement(l.a.Fragment,null,null===r||void 0===r||null===(o=r.tokens)||void 0===o?void 0:o.map((t,n)=>l.a.createElement("div",{key:n,style:{display:"flex",flexDirection:"column"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",marginTop:"20px",marginRight:"10px"}},l.a.createElement(lt.b,{as:it.a,name:"tokens[".concat(n,"].token"),label:"Token",variant:"outlined",required:!0,fullWidth:!0}),l.a.createElement(k.a,{onClick:()=>{var t;(null===(t=r.tokens[n])||void 0===t?void 0:t.id)&&a([...e,r.tokens[n].id]),i(n)},size:"small"},l.a.createElement(hl.a,null))))),l.a.createElement("div",{className:t.extraAttr},l.a.createElement(Ma.a,{color:"primary",onClick:()=>c({type:"mik_web",token:""}),style:{flex:1,marginTop:8},variant:"outlined"},"Adicionar token")))})),r.mik_web_send_billings_messages&&l.a.createElement(du,null,l.a.createElement("span",null,"Mensaje de facturaci\xf3n")),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"auto",flex:1}},l.a.createElement(Ma.a,{className:t.btnWrapper,color:"primary",disabled:i,type:"submit",variant:"contained"},"Salvar",i&&l.a.createElement(Ra.a,{className:t.buttonProgress,size:24})))))}))))};Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));const Eu=Object(C.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:ja.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),bu=nt.d().shape({name:nt.f().min(3,"nome muito curto").required("Obrigat\xf3rio"),message:nt.f().required("Obrigat\xf3rio")});var fu=e=>{let{open:a,onClose:t,ratingId:r,reload:o}=e;const c=Eu(),{user:i}=Object(n.useContext)(pa),s={name:"",message:""},[m,d]=Object(n.useState)(s);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await na.get("/ratings/".concat(r));d(a=>({...a,...e}))})()}catch(e){Ze(e)}},[r,a]);const u=()=>{d(s),t()};return l.a.createElement("div",{className:c.root},l.a.createElement(rt.a,{open:a,onClose:u,maxWidth:"xs",fullWidth:!0,scroll:"paper"},l.a.createElement(ot.a,{id:"form-dialog-title"},"".concat(r?Qe.a.t("ratingModal.title.edit"):Qe.a.t("ratingModal.title.add"))),l.a.createElement(lt.e,{initialValues:m,enableReinitialize:!0,validationSchema:bu,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a={...e,userId:i.id};try{r?await na.put("/ratings/".concat(r),a):await na.post("/ratings",a),h.b.success(Qe.a.t("ratingModal.success")),"function"==typeof o&&o()}catch(t){Ze(t)}u()})(e),a.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:t,isSubmitting:n,values:o}=e;return l.a.createElement(lt.d,null,l.a.createElement(ct.a,{dividers:!0},l.a.createElement("div",{className:c.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("ratingModal.form.name"),name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0})),l.a.createElement("br",null),l.a.createElement("div",{className:c.multFieldLine},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("ratingModal.form.message"),type:"message",multiline:!0,minRows:5,fullWidth:!0,name:"message",error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:"outlined",margin:"dense"})),l.a.createElement(I.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Qe.a.t("ratingModal.form.options")),l.a.createElement(lt.c,{name:"options"},e=>{let{push:a,remove:t}=e;return l.a.createElement(l.a.Fragment,null,o.options&&o.options.length>0&&o.options.map((e,a)=>l.a.createElement("div",{className:c.extraAttr,key:"".concat(a,"-info")},l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("ratingModal.form.extraName"),name:"options[".concat(a,"].name"),variant:"outlined",margin:"dense",className:c.textField}),l.a.createElement(lt.b,{as:it.a,label:Qe.a.t("ratingModal.form.extraValue"),name:"options[".concat(a,"].value"),variant:"outlined",margin:"dense",className:c.textField}),l.a.createElement(k.a,{size:"small",onClick:()=>t(a)},l.a.createElement(hl.a,null)))),l.a.createElement("div",{className:c.extraAttr},l.a.createElement(Ma.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>a({name:"",value:""})},"+ ".concat(Qe.a.t("ratingModal.buttons.options")))))})),l.a.createElement(pt.a,null,l.a.createElement(Ma.a,{onClick:u,color:"secondary",disabled:n,variant:"outlined"},Qe.a.t("ratingModal.buttons.cancel")),l.a.createElement(Ma.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(r?Qe.a.t("ratingModal.buttons.okEdit"):Qe.a.t("ratingModal.buttons.okAdd")),n&&l.a.createElement(Ra.a,{size:24,className:c.buttonProgress}))))})))};const hu=(e,a)=>{if("LOAD_RATINGS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_RATINGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_TAG"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},yu=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var vu=()=>{const e=yu(),{user:a}=Object(n.useContext)(pa),[t,r]=Object(n.useState)(!1),[o,c]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(""),[y,v]=Object(n.useReducer)(hu,[]),[x,C]=Object(n.useState)(!1),O=Object(n.useCallback)(async()=>{try{const{data:e}=await na.get("/ratings/",{params:{searchParam:b,pageNumber:o}});v({type:"LOAD_RATINGS",payload:e.ratings}),s(e.hasMore),r(!1)}catch(e){Ze(e)}},[b,o]);Object(n.useEffect)(()=>{v({type:"RESET"}),c(1)},[b]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{O()},500);return()=>clearTimeout(e)},[b,o,O]),Object(n.useEffect)(()=>{const e=oa({companyId:a.companyId});return e.on("user",e=>{"update"!==e.action&&"create"!==e.action||v({type:"UPDATE_RATINGS",payload:e.ratings}),"delete"===e.action&&v({type:"DELETE_USER",payload:+e.ratingId})}),()=>{e.disconnect()}},[a]);return l.a.createElement(xc,null,l.a.createElement(_l,{title:u&&"".concat(Qe.a.t("ratings.confirmationModal.deleteTitle")),open:g,onClose:E,onConfirm:()=>(async e=>{try{await na.delete("/ratings/".concat(e)),h.b.success(Qe.a.t("ratings.toasts.deleted"))}catch(a){Ze(a)}p(null),f(""),c(1),v({type:"RESET"}),c(1),await O()})(u.id)},Qe.a.t("ratings.confirmationModal.deleteMessage")),l.a.createElement(fu,{open:x,onClose:()=>{d(null),C(!1)},reload:O,"aria-labelledby":"form-dialog-title",ratingId:m&&m.id}),l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("ratings.title")," (",y.length,")"),l.a.createElement(kc,null,l.a.createElement(it.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:b,onChange:e=>{f(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{style:{color:"gray"}}))}}),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{d(null),C(!0)}},Qe.a.t("ratings.buttons.add")))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&c(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("ratings.table.name")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("ratings.table.actions")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,y.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center"},e.name),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{d(e),C(!0)})(e)},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{size:"small",onClick:a=>{E(!0),p(e)}},l.a.createElement(hl.a,null))))),t&&l.a.createElement(Ac,{columns:4}))))))};const xu=Object(C.a)(e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",margin:"2rem"},inputContainer:{display:"flex",width:"100%",marginBottom:"1rem"},input:{flex:"1 0 40%",marginRight:"1rem"},descriptionInput:{flex:"1 0 40%"},button:{flex:"1 0 20%"},listContainer:{width:"100%",marginTop:"1rem"},list:{marginBottom:"5px",backgroundColor:"#dfdfdf",color:"black",cursor:"pointer","&.completedTask":{backgroundColor:"#c5f7c5"}},description:{background:"#dfdfdf",padding:"8px",borderRadius:"4px",whiteSpace:"pre-wrap",maxHeight:"100px",overflowY:"auto"},separator:{width:"100%",borderBottom:"1px solid gray"},error:{color:"red"},card:{margin:"8px 0"}}));var Cu=()=>{const e=xu(),[a,t]=Object(n.useState)(""),[r,o]=Object(n.useState)(""),[c,i]=Object(n.useState)([]),[s,m]=Object(n.useState)(-1),[d,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null);Object(n.useEffect)(()=>{(async()=>{try{const e=await na.get("/tasks");i(e.data),u(null)}catch(d){"Network Error"===d.message?u("Erro de rede ao buscar tarefas. Verifique sua conex\xe3o \xe0 internet."):(console.error("Erro ao buscar as tarefas:",d),u("Erro ao buscar as tarefas. Tente novamente mais tarde."))}})()},[]);return l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.inputContainer},l.a.createElement(it.a,{className:e.input,label:"Nova tarefa",value:a,onChange:e=>{t(e.target.value)},variant:"outlined"}),l.a.createElement(it.a,{className:e.descriptionInput,label:"Descri\xe7\xe3o",value:r,onChange:e=>{o(e.target.value)},variant:"outlined",multiline:!0,rows:1}),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:async()=>{if(!a.trim())return;const e=new Date;if(s>=0){const e={...c[s],text:a,description:r};try{await na.put("/tasks/".concat(e.id),e);const a=[...c];a[s]=e,i(a),t(""),o(""),m(-1)}catch(d){console.error("Erro ao atualizar a tarefa:",d),u("Erro ao atualizar a tarefa.")}}else{const n={text:a,description:r,created_at:e,updated_at:e};try{const e=await na.post("/tasks",n);n.id=e.data.id,i([...c,n]),t(""),o("")}catch(d){console.error("Erro ao criar a tarefa:",d),u("Erro ao criar a tarefa.")}}}},s>=0?"Salvar":"Adicionar")),l.a.createElement("div",{className:e.listContainer},d&&l.a.createElement("div",{className:e.error},d),l.a.createElement(w.a,null,c.map((a,n)=>l.a.createElement(l.a.Fragment,{key:a.id},l.a.createElement(B.a,{className:"".concat(e.list," ").concat(a.completed?e.completedTask:""),onClick:()=>g(p===n?null:n)},l.a.createElement(H.a,{primary:a.text}),l.a.createElement(Sl.a,null,l.a.createElement(k.a,{onClick:()=>(e=>{t(c[e].text),o(c[e].description),m(e)})(n)},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{onClick:()=>(async e=>{const a=c[e].id;try{await na.delete("/tasks/".concat(a));const t=[...c];t.splice(e,1),i(t),u(null)}catch(d){console.error("Erro ao excluir a tarefa:",d),u("Erro ao excluir a tarefa.")}})(n)},l.a.createElement(Br.a,null)))),l.a.createElement(V.a,{in:p===n},l.a.createElement(En.a,{className:e.card},l.a.createElement(Si.a,null,l.a.createElement("p",{className:e.description},a.description)))),n<c.length-1&&l.a.createElement(T.a,null))))))},Ou=t(908),Su=t.n(Ou);const ku=Object(C.a)(e=>({root:{display:"flex",alignItems:"center",padding:e.spacing(1)},button:{background:"#10a110",border:"none",padding:"10px",color:"white",fontWeight:"bold",borderRadius:"5px"}}));var Tu=()=>{const e=ku(),a=Object(f.g)(),[t,r]=Object(n.useState)([]),[o,c]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{try{const e=(await na.get("/tags/kanban")).data.lista||[];r(e),await v(y)}catch(e){console.log(e)}})()},[]);const[m,d]=Object(n.useState)({lanes:[]}),[u,p]=Object(n.useState)([]),{user:g}=Object(n.useContext)(pa),{profile:E,queues:b}=g,y=g.queues.map(e=>e.UserQueue.queueId),v=async e=>{try{const{data:a}=await na.get("/ticket/kanban",{params:{queueIds:JSON.stringify(e),teste:!0}});p(a.tickets)}catch(a){console.log(a),p([])}},x=e=>{a.push("/tickets/"+e)};Object(n.useEffect)(()=>{(a=>{const n=u.filter(e=>0===e.tags.length),r=[{id:"lane0",title:Qe.a.t("Em aberto"),label:"0",cards:n.map(a=>({id:a.id.toString(),label:"Ticket n\xba "+a.id.toString(),description:l.a.createElement("div",null,l.a.createElement("p",null,a.contact.number,l.a.createElement("br",null),a.lastMessage),l.a.createElement("button",{className:e.button,onClick:()=>{x(a.uuid)}},"Ver Ticket")),title:a.contact.name,draggable:!0,href:"/tickets/"+a.uuid}))},...t.map(a=>{const t=u.filter(e=>e.tags.map(e=>e.id).includes(a.id));return{id:a.id.toString(),title:a.name,label:a.id.toString(),cards:t.map(a=>({id:a.id.toString(),label:"Ticket n\xba "+a.id.toString(),description:l.a.createElement("div",null,l.a.createElement("p",null,a.contact.number,l.a.createElement("br",null),a.lastMessage),l.a.createElement("button",{className:e.button,onClick:()=>{console.log(a.uuid),x(a.uuid)}},"Ver Ticket")),title:a.contact.name,draggable:!0,href:"/tickets/"+a.uuid})),style:{backgroundColor:a.color,color:"white"}}})];d({lanes:r})})()},[t,u,o]);return l.a.createElement("div",{className:e.root},l.a.createElement(Su.a,{data:m,onCardMoveAcrossLanes:async(e,a,t)=>{try{await na.delete("/ticket-tags/".concat(t)),h.b.success("Ticket Tag Removido!"),await na.put("/ticket-tags/".concat(t,"/").concat(a)),h.b.success("Ticket Tag Adicionado com Sucesso!")}catch(n){console.log(n)}},style:{backgroundColor:"rgba(252, 252, 252, 0.03)"}}))};const wu=(e,a)=>{if("LOAD_TAGS"===a.type){const t=a.payload,n=[];return t.forEach(a=>{const t=e.findIndex(e=>e.id===a.id);-1!==t?e[t]=a:n.push(a)}),[...e,...n]}if("UPDATE_TAGS"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t.id);return-1!==n?(e[n]=t,[...e]):[t,...e]}if("DELETE_TAG"===a.type){const t=a.payload,n=e.findIndex(e=>e.id===t);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===a.type)return[]},Au=Object(C.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var ju=()=>{const e=Au(),{user:a}=Object(n.useContext)(pa),[t,r]=Object(n.useState)(!1),[o,c]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(""),[y,v]=Object(n.useReducer)(wu,[]),[x,C]=Object(n.useState)(!1),O=Object(n.useCallback)(async()=>{try{const{data:e}=await na.get("/tags/",{params:{searchParam:b,pageNumber:o,kanban:1}});v({type:"LOAD_TAGS",payload:e.tags}),s(e.hasMore),r(!1)}catch(e){Ze(e)}},[b,o]);Object(n.useEffect)(()=>{v({type:"RESET"}),c(1)},[b]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{O()},500);return()=>clearTimeout(e)},[b,o,O]),Object(n.useEffect)(()=>{const e=oa({companyId:a.companyId});return e.on("company".concat(a.companyId,"-tag"),e=>{"update"!==e.action&&"create"!==e.action||v({type:"UPDATE_TAGS",payload:e.tag}),"delete"===e.action&&v({type:"DELETE_TAG",payload:+e.tagId})}),()=>{e.disconnect()}},[a]);return l.a.createElement(xc,null,l.a.createElement(_l,{title:u&&"".concat(Qe.a.t("Voc\xea tem certeza que quer excluir esta Lane?")),open:g,onClose:E,onConfirm:()=>(async e=>{try{await na.delete("/tags/".concat(e)),h.b.success(Qe.a.t("tags.toasts.deleted"))}catch(a){Ze(a)}p(null),f(""),c(1),v({type:"RESET"}),c(1),await O()})(u.id)},Qe.a.t("Esta a\xe7\xe3o n\xe3o pode ser revertida.")),l.a.createElement(cm,{open:x,onClose:()=>{d(null),C(!1)},reload:O,"aria-labelledby":"form-dialog-title",tagId:m&&m.id,kanban:1}),l.a.createElement(Oc,null,l.a.createElement(Tc,null,Qe.a.t("Lanes")," (",y.length,")"),l.a.createElement(kc,null,l.a.createElement(it.a,{placeholder:Qe.a.t("contacts.searchPlaceholder"),type:"search",value:b,onChange:e=>{f(e.target.value.toLowerCase())},InputProps:{startAdornment:l.a.createElement(st.a,{position:"start"},l.a.createElement(ul.a,{style:{color:"gray"}}))}}),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{d(null),C(!0)}},Qe.a.t("NOVA LANE")))),l.a.createElement(Mt.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:l}=e.currentTarget;n-(a+100)<l&&c(e=>e+1)}},l.a.createElement(vn.a,{size:"small"},l.a.createElement(Sn.a,null,l.a.createElement(kn.a,null,l.a.createElement(Cn.a,{align:"center"},Qe.a.t("Nome")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("Ticketis")),l.a.createElement(Cn.a,{align:"center"},Qe.a.t("A\xe7\xf5es")))),l.a.createElement(xn.a,null,l.a.createElement(l.a.Fragment,null,y.map(e=>l.a.createElement(kn.a,{key:e.id},l.a.createElement(Cn.a,{align:"center"},l.a.createElement(bt.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px 1px #000",color:"white"},label:e.name,size:"small"})),l.a.createElement(Cn.a,{align:"center"},(null===e||void 0===e?void 0:e.ticketsCount)?l.a.createElement("span",null,null===e||void 0===e?void 0:e.ticketsCount):l.a.createElement("span",null,"0")),l.a.createElement(Cn.a,{align:"center"},l.a.createElement(k.a,{size:"small",onClick:()=>(e=>{d(e),C(!0)})(e)},l.a.createElement(Os.a,null)),l.a.createElement(k.a,{size:"small",onClick:a=>{E(!0),p(e)}},l.a.createElement(hl.a,null))))),t&&l.a.createElement(Ac,{columns:4}))))))};var Iu=t(636),Nu=t.n(Iu);const Mu=Object(C.a)(e=>({root:{width:"100vw",height:"100vh",background:"black",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},paper:{backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",padding:"55px 30px",borderRadius:"12.5px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},powered:{color:"white"}})),Ru=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;var Du=()=>{const e=Mu(),a=Object(f.g)();let t=null;const[r,o]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[m,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,E]=Object(n.useState)(""),y=()=>{d(!m)},v=()=>{p(!u)},C=tc.a.parse(window.location.search);void 0!==C.companyId&&(t=C.companyId);const[O]=Object(n.useState)({email:""}),S=(x()().add(3,"day").format(),i),T=nt.d().shape({email:nt.f().email("Invalid email").required("Required"),newPassword:S?nt.f().required("Campo obrigat\xf3rio").matches(Ru,"Sua senha precisa ter no m\xednimo 8 caracteres, sendo uma letra mai\xfascula, uma min\xfascula e um n\xfamero."):nt.f(),confirmPassword:nt.f().when("newPassword",{is:e=>S&&e,then:nt.f().oneOf([nt.e("newPassword"),null],"As senhas n\xe3o correspondem").required("Campo obrigat\xf3rio"),otherwise:nt.f()})});return l.a.createElement("div",{className:e.root},l.a.createElement(_t.a,{component:"main",maxWidth:"xs"},l.a.createElement(c.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement("div",null,l.a.createElement("img",{style:{margin:"0 auto",height:"80px",width:"100%"},src:va.a,alt:"Whats"})),l.a.createElement(I.a,{component:"h1",variant:"h5"},Qe.a.t("Redefinir senha")),l.a.createElement(lt.e,{initialValues:{email:"",token:"",newPassword:"",confirmPassword:""},enableReinitialize:!0,validationSchema:T,onSubmit:(e,t)=>{setTimeout(()=>{i?(async e=>{const t=e.email,n=e.token,l=e.newPassword;if(l===e.confirmPassword)try{await na.post("".concat("https://api130.automizaai.shop","/resetpasswords/").concat(t,"/").concat(n,"/").concat(l)),E(""),h.b.success(Qe.a.t("Senha redefinida com sucesso.")),a.push("/")}catch(r){console.log(r)}})(e):(async e=>{const a=e.email;try{const e=await na.post("".concat("https://api130.automizaai.shop","/forgetpassword/").concat(a));console.log("API Response:",e.data),404===e.data.status?h.b.error("Email n\xe3o encontrado"):h.b.success(Qe.a.t("Email n\xe3o encontrado"))}catch(t){console.log("API Error:",t),Ze(t)}})(e),t.setSubmitting(!1),o(!r),s(!r)},400)}},a=>{let{touched:t,errors:n,isSubmitting:o}=a;return l.a.createElement(lt.d,{className:e.form},l.a.createElement($a.a,{container:!0,spacing:2},l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,variant:"outlined",fullWidth:!0,id:"email",label:Qe.a.t("signup.form.email"),name:"email",error:t.email&&Boolean(n.email),helperText:t.email&&n.email,autoComplete:"email",required:!0})),r&&l.a.createElement(l.a.Fragment,null,l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,variant:"outlined",fullWidth:!0,id:"token",label:"C\xf3digo de Verifica\xe7\xe3o",name:"token",error:t.token&&Boolean(n.token),helperText:t.token&&n.token,autoComplete:"off",required:!0})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,variant:"outlined",fullWidth:!0,type:m?"text":"password",id:"newPassword",label:"Nova senha",name:"newPassword",error:t.newPassword&&Boolean(n.newPassword),helperText:t.newPassword&&n.newPassword,autoComplete:"off",required:!0,InputProps:{endAdornment:l.a.createElement(st.a,{position:"end"},l.a.createElement(k.a,{onClick:y},m?l.a.createElement(Ml.a,null):l.a.createElement(Nu.a,null)))}})),l.a.createElement($a.a,{item:!0,xs:12},l.a.createElement(lt.b,{as:it.a,variant:"outlined",fullWidth:!0,type:u?"text":"password",id:"confirmPassword",label:"Confirme a senha",name:"confirmPassword",error:t.confirmPassword&&Boolean(n.confirmPassword),helperText:t.confirmPassword&&n.confirmPassword,autoComplete:"off",required:!0,InputProps:{endAdornment:l.a.createElement(st.a,{position:"end"},l.a.createElement(k.a,{onClick:v},u?l.a.createElement(Ml.a,null):l.a.createElement(Nu.a,null)))}})))),i?l.a.createElement(Ma.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Redefinir Senha"):l.a.createElement(Ma.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Enviar Email"),l.a.createElement($a.a,{container:!0,justifyContent:"flex-end"},l.a.createElement($a.a,{item:!0},l.a.createElement(Rr.a,{href:"#",variant:"body2",component:b.b,to:"/signup"},Qe.a.t("N\xe3o tem uma conta? Cadastre-se!")))),g&&l.a.createElement(I.a,{variant:"body2",color:"error"},g))})),l.a.createElement(kl.a,{mt:5})))};const Pu=Object(C.a)(e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"},paper:{padding:e.spacing(3),maxWidth:600,width:"100%",marginBottom:e.spacing(2)},form:{display:"flex",flexDirection:"column"},emailSection:{marginTop:e.spacing(2)}}));var Lu=()=>{const e=Pu(),[a,t]=Object(n.useState)(""),[r,o]=Object(n.useState)(""),[i,s]=Object(n.useState)(""),[m,d]=Object(n.useState)([]);return l.a.createElement(_t.a,{component:"main",maxWidth:"lg"},l.a.createElement(c.a,null),l.a.createElement("div",{className:e.root},l.a.createElement(Mt.a,{className:e.paper},l.a.createElement(I.a,{variant:"h5",gutterBottom:!0},"Disparo de Emails"),l.a.createElement("form",{className:e.form},l.a.createElement(it.a,{label:"Destinatario (separe por v\xedrgula)",value:a,onChange:e=>t(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined",required:!0}),l.a.createElement(it.a,{label:"Assunto",value:r,onChange:e=>o(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined",required:!0}),l.a.createElement(it.a,{label:"Mensagem",multiline:!0,rows:4,value:i,onChange:e=>s(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined",required:!0}),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:async()=>{if(r&&i){const n=a.split(",").map(e=>e.trim());try{for(const e of n){const a=await na.post("".concat("https://api130.automizaai.shop","/enviar-email"),{email:e,tokenSenha:"",assunto:r,mensagem:i});console.log("Resposta da API para",e,":",a.data),d([...m,{sender:e,subject:r,message:i}])}t(""),o(""),s("")}catch(e){console.error("Erro na API:",e)}}},fullWidth:!0},"Enviar")))))},Wu=t(1518);const Fu=Object(C.a)(e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"},paper:{padding:e.spacing(3),maxWidth:800,width:"100%",marginBottom:e.spacing(2)},email:{marginBottom:e.spacing(2),padding:e.spacing(2),backgroundColor:"#f5f5f5",borderRadius:e.spacing(1)},pagination:{marginTop:e.spacing(2),display:"flex",justifyContent:"center"},"email-fade-enter":{opacity:0},"email-fade-enter-active":{opacity:1,transition:"opacity 300ms ease-in"},"email-fade-exit":{opacity:1},"email-fade-exit-active":{opacity:0,transition:"opacity 300ms ease-out"}}));var qu=()=>{const e=Fu(),[a,t]=Object(n.useState)([]),[r,o]=Object(n.useState)(1),[i,s]=Object(n.useState)(null);Object(n.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await na.get("".concat("https://api130.automizaai.shop","/listar-emails-enviados"));t(e.data)}catch(e){console.error("Erro ao carregar emails:",e)}},d=5*r,u=d-5,p=a.slice(u,d);return l.a.createElement(_t.a,{component:"main",maxWidth:"lg"},l.a.createElement(c.a,null),l.a.createElement("div",{className:e.root},l.a.createElement(Mt.a,{className:e.paper},l.a.createElement(I.a,{variant:"h5",gutterBottom:!0},"Lista de Emails Enviados"),p.map(a=>l.a.createElement("div",{key:a.id,className:e.email},l.a.createElement(I.a,{variant:"h6"},a.subject),l.a.createElement(I.a,{variant:"subtitle1"},"Destinat\xe1rio: ",a.sender),l.a.createElement(I.a,{variant:"body1"},a.message.length>100?a.message.substring(0,100)+"...":a.message),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>(e=>{s(e)})(a)},"Abrir Email"))),l.a.createElement("div",{className:e.pagination},Array.from({length:Math.ceil(a.length/5)},(e,a)=>l.a.createElement(Ma.a,{key:a,variant:"outlined",color:r===a+1?"primary":"default",onClick:()=>{o(a+1)}},a+1)))),l.a.createElement(Wu.a,{in:null!==i,timeout:300,classNames:"email-fade",unmountOnExit:!0},l.a.createElement(Mt.a,{className:e.paper},l.a.createElement(I.a,{variant:"h6"},"Email Completo"),l.a.createElement(I.a,{variant:"h6"},null===i||void 0===i?void 0:i.subject),l.a.createElement(I.a,{variant:"subtitle1"},"Destinat\xe1rio: ",null===i||void 0===i?void 0:i.sender),l.a.createElement(I.a,{variant:"body1"},null===i||void 0===i?void 0:i.message),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{s(null)}},"Fechar Email")))))};const zu=Object(C.a)(e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"},paper:{padding:e.spacing(3),maxWidth:600,width:"100%",marginBottom:e.spacing(2)},form:{display:"flex",flexDirection:"column"},emailSection:{marginTop:e.spacing(2)}}));var Bu=()=>{const e=zu(),[a,t]=Object(n.useState)(""),[r,o]=Object(n.useState)(""),[i,s]=Object(n.useState)(""),[m,d]=Object(n.useState)([]),[u,p]=Object(n.useState)("");return l.a.createElement(_t.a,{component:"main",maxWidth:"lg"},l.a.createElement(c.a,null),l.a.createElement("div",{className:e.root},l.a.createElement(Mt.a,{className:e.paper},l.a.createElement(I.a,{variant:"h5",gutterBottom:!0},"Agendamento de Emails"),l.a.createElement("form",{className:e.form},l.a.createElement(it.a,{label:"Destinatario (separe por v\xedrgula)",value:a,onChange:e=>t(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined",required:!0}),l.a.createElement(it.a,{label:"Assunto",value:r,onChange:e=>o(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined",required:!0}),l.a.createElement(it.a,{label:"Mensagem",multiline:!0,rows:4,value:i,onChange:e=>s(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined",required:!0}),l.a.createElement(it.a,{label:"",value:u,onChange:e=>p(e.target.value),type:"datetime-local",fullWidth:!0,margin:"normal",variant:"outlined",required:!0}),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:async()=>{if(r&&i&&u){const n=a.split(",").map(e=>e.trim());try{for(const e of n){const a=x()(u).format("YYYY-MM-DDTHH:mm");console.log("Valor de selectedDate:",u);const t=await na.post("".concat("https://api130.automizaai.shop","/agendar-envio-email"),{email:e,tokenSenha:"",assunto:r,mensagem:i,sendAt:a});console.log("Resposta da API para",e,":",t.data),d([...m,{sender:e,subject:r,message:i}])}t(""),o(""),s(""),p("")}catch(e){console.error("Erro na API:",e)}}},fullWidth:!0},"Agendar Envio")))))};const Uu=Object(C.a)(e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"},paper:{padding:e.spacing(3),maxWidth:800,width:"100%",marginBottom:e.spacing(2)},email:{marginBottom:e.spacing(2),padding:e.spacing(2),backgroundColor:"#f5f5f5",borderRadius:e.spacing(1)},pagination:{marginTop:e.spacing(2),display:"flex",justifyContent:"center"},"email-fade-enter":{opacity:0},"email-fade-enter-active":{opacity:1,transition:"opacity 300ms ease-in"},"email-fade-exit":{opacity:1},"email-fade-exit-active":{opacity:0,transition:"opacity 300ms ease-out"}}));var Hu=()=>{const e=Uu(),[a,t]=Object(n.useState)([]),[r,o]=Object(n.useState)(1),[i,s]=Object(n.useState)(null);Object(n.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await na.get("".concat("https://api130.automizaai.shop","/listar-emails-agendados"));t(e.data)}catch(e){console.error("Erro ao carregar emails:",e)}},d=5*r,u=d-5,p=a.slice(u,d);return l.a.createElement(_t.a,{component:"main",maxWidth:"lg"},l.a.createElement(c.a,null),l.a.createElement("div",{className:e.root},l.a.createElement(Mt.a,{className:e.paper},l.a.createElement(I.a,{variant:"h5",gutterBottom:!0},"Agendados Aguardando Envio"),p.map(a=>l.a.createElement("div",{key:a.id,className:e.email},l.a.createElement(I.a,{variant:"h6"},a.subject),l.a.createElement(I.a,{variant:"subtitle1"},"Destinat\xe1rio: ",a.sender),l.a.createElement(I.a,{variant:"body1"},a.message.length>100?a.message.substring(0,100)+"...":a.message),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>(e=>{s(e)})(a)},"Abrir Email"))),l.a.createElement("div",{className:e.pagination},Array.from({length:Math.ceil(a.length/5)},(e,a)=>l.a.createElement(Ma.a,{key:a,variant:"outlined",color:r===a+1?"primary":"default",onClick:()=>{o(a+1)}},a+1)))),l.a.createElement(Wu.a,{in:null!==i,timeout:300,classNames:"email-fade",unmountOnExit:!0},l.a.createElement(Mt.a,{className:e.paper},l.a.createElement(I.a,{variant:"h6"},"Email Completo"),l.a.createElement(I.a,{variant:"h6"},null===i||void 0===i?void 0:i.subject),l.a.createElement(I.a,{variant:"subtitle1"},"Destinat\xe1rio: ",null===i||void 0===i?void 0:i.sender),l.a.createElement(I.a,{variant:"body1"},null===i||void 0===i?void 0:i.message),l.a.createElement(Ma.a,{variant:"contained",color:"primary",onClick:()=>{s(null)}},"Fechar Email")))))};t(1351);var _u=function(){const{handleLogout:e,loading:a}=Object(n.useContext)(pa),{user:t}=Object(n.useContext)(pa),r=t&&t.name?"Ol\xe1 ".concat(t.name,", Bem Vindo,\n\nComo posso ajudar voc\xea hoje?"):"Ol\xe1, Bem Vindo,\n\nComo posso ajudar voc\xea hoje?",[o,c]=Object(n.useState)([{text:r,type:"ai"}]),[i,s]=Object(n.useState)(""),[m,d]=Object(n.useState)(!1),u=Object(n.useRef)(null);return Object(n.useEffect)(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[o]),l.a.createElement("div",{className:"ChatApp"},l.a.createElement("div",{className:"Chat"},l.a.createElement("h1",{className:"ChatTitle"},"Gera\xe7\xe3o de Textos com IA"),l.a.createElement("div",{className:"MessageContainer",ref:u},o.map((e,a)=>l.a.createElement("div",{key:a,className:"Message ".concat("user"===e.type?"UserMessage":"AIMessage")},e.text)),m&&l.a.createElement("div",{className:"TypingIndicator"},"Digitando...")),l.a.createElement("div",{className:"QuestionInput"},l.a.createElement("input",{type:"text",placeholder:"Digite sua pergunta aqui",value:i,onChange:e=>s(e.target.value)}),l.a.createElement("button",{onClick:async()=>{if(!i)return;d(!0);const e=[...o,{text:i,type:"user"}];c(e),s("");try{const a=await na.post("/openai",{prompt:i});if(200===a.status){const t={text:a.data.answer,type:"ai"};c([...e,t])}else console.error("Erro ao consultar a API da OpenAI")}catch(a){console.error("Erro ao consultar a API da OpenAI:",a)}finally{d(!1)}}},"Enviar"))))},Vu=t(637);t(1352),t(1353),t(1354);x.a.locale("pt-br");const Yu=Object(Vu.b)(x.a);var Gu=e=>{let{onEventCompleted:a}=e;const[t,r]=Object(n.useState)([]),[o,c]=Object(n.useState)(!1),[i,s]=Object(n.useState)(""),[m,d]=Object(n.useState)(""),[u,p]=Object(n.useState)("");Object(n.useEffect)(()=>{(async()=>{try{const e=await na.get("".concat("https://api130.automizaai.shop","/eventos"));r(e.data)}catch(e){console.error("Erro ao carregar eventos:",e)}})()},[]);const g=()=>{c(!1),s(""),d(""),p("")};return l.a.createElement("div",{className:"calendar-container"},l.a.createElement(Vu.a,{localizer:Yu,events:t,startAccessor:"start",endAccessor:"end",selectable:!0,onSelectSlot:e=>{let{start:a}=e;p(x()(a).format("YYYY-MM-DDTHH:mm")),c(!0)},messages:{today:"Hoje",previous:"Anterior",next:"Pr\xf3ximo",month:"M\xeas",week:"Semana",day:"Dia",agenda:"Agenda"},className:"react-big-calendar"}),o&&l.a.createElement("div",{className:"modal"},l.a.createElement("h2",null,"Agendar Evento"),l.a.createElement(it.a,{className:"date-time-picker",value:u,onChange:e=>p(e.target.value),type:"datetime-local",fullWidth:!0,margin:"normal",variant:"outlined",required:!0,InputProps:{style:{border:"none"}}}),l.a.createElement("input",{type:"text",placeholder:"T\xedtulo do Evento",value:i,onChange:e=>s(e.target.value),className:"input-field"}),l.a.createElement("textarea",{placeholder:"Descri\xe7\xe3o do Evento",value:m,onChange:e=>d(e.target.value),className:"text-area"}),l.a.createElement("button",{onClick:async()=>{const e={title:i,description:m,start:new Date(u),end:new Date(u)};try{const a=await na.post("".concat("https://api130.automizaai.shop","/eventos"),e);r([...t,a.data]),g()}catch(a){console.error("Erro ao adicionar evento:",a)}}},"Agendar"),l.a.createElement("button",{onClick:g},"Cancelar"),l.a.createElement("button",{onClick:()=>(async e=>{try{await na.put("".concat("https://api130.automizaai.shop","/eventos/").concat(e,"/concluido"));const a=t.map(a=>a.id===e?{...a,concluido:!0}:a);r(a)}catch(a){console.error("Erro ao marcar evento como conclu\xeddo:",a)}})()},"Conclu\xeddo")))};var Qu=()=>{const[e,a]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{void 0!==localStorage.getItem("cshow")&&a(!0)},[]),l.a.createElement(b.a,null,l.a.createElement(ga,null,l.a.createElement(wl,null,l.a.createElement(f.d,null,l.a.createElement(Jm,{exact:!0,path:"/login",component:cc}),l.a.createElement(Jm,{exact:!0,path:"/signup",component:rc}),l.a.createElement(Jm,{exact:!0,path:"/forgetpsw",component:Du}),l.a.createElement(Jm,{exact:!0,path:"/financeiro-aberto",component:xs,isPrivate:!0}),l.a.createElement(ma,null,l.a.createElement(Ht,null,l.a.createElement(Jm,{exact:!0,path:"/companies",component:zm,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/",component:Zn,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/tickets/:ticketId?",component:ec,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/connections",component:qc,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/quick-messages",component:Xm,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/schedules",component:ed,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/financeiro",component:xs,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/tags",component:mm,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/contacts",component:Ls,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/helps",component:fm,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/users",component:As,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/Kanban",component:Tu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/TagsKanban",component:ju,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/todolist",component:Cu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/Email",component:Lu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/EmailLis",component:qu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/EmailScheduler",component:Bu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/EmailsAgendado",component:Hu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/ChatGPT",component:_u,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/Calendario",component:Gu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/messages-api",component:um,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/settings",component:gi,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/queues",component:nm,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/announcements",component:Ad,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/chats/:id?",component:Ld,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/ratings",component:vu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/integrations",component:iu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/integrations/hinova",component:gu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/integrations/siprov",component:gu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/integrations/mikweb",component:gu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/integrations/asaas",component:gu,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/integrations/bling",component:gu,isPrivate:!0}),e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Jm,{exact:!0,path:"/contact-lists",component:wm,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/contact-lists/:contactListId/contacts",component:Dm,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/campaigns",component:ud,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/campaign/:campaignId/report",component:Cd,isPrivate:!0}),l.a.createElement(Jm,{exact:!0,path:"/campaigns-config",component:Ed,isPrivate:!0}))))),l.a.createElement(h.a,{autoClose:3e3}))))};const Ku=new m.QueryClient;var Xu=()=>{const[e,a]=Object(n.useState)(),t=Object(g.a)("(prefers-color-scheme: dark)"),r=window.localStorage.getItem("preferredTheme"),[o,c]=Object(n.useState)(r||(t?"dark":"light")),i=l.a.useMemo(()=>({toggleColorMode:()=>{c(e=>"light"===e?"dark":"light")}}),[]),s=Object(u.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"#e8e8e8"}},scrollbarStylesSoft:{"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"light"===o?"#F3F3F3":"#333333"}},palette:{type:o,primary:{main:"#0b5394"},primaryDark:{main:"#2c3145"},textPrimary:"light"===o?"#0b5394":"#FFFFFF",borderPrimary:"light"===o?"#0b5394":"#FFFFFF",dark:{main:"#2c3145"},light:{main:"light"===o?"#F3F3F3":"#333333"},tabHeaderBackground:"light"===o?"#EEE":"#666",optionsBackground:"light"===o?"#fafafa":"#333",fancyBackground:"light"===o?"#fafafa":"#333",total:"light"===o?"#fff":"#222",messageIcons:"light"===o?"grey":"#F3F3F3",inputBackground:"light"===o?"#FFFFFF":"#333",barraSuperior:"#0b5394"},mode:o},e);return Object(n.useEffect)(()=>{const e=localStorage.getItem("i18nextLng");"ptBR"===e.substring(0,2)+e.substring(3,5)&&a(d.ptBR)},[]),Object(n.useEffect)(()=>{window.localStorage.setItem("preferredTheme",o)},[o]),l.a.createElement(E.Provider,{value:{colorMode:i}},l.a.createElement(p.a,{theme:s},l.a.createElement(m.QueryClientProvider,{client:Ku},l.a.createElement(Qu,null))))};o.a.render(l.a.createElement(c.a,null,l.a.createElement(Xu,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const a="".concat("","/service-worker.js");i?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then(t=>{const n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):s(e,a)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):s(a,e)})}}()},217:function(e,a,t){e.exports=t.p+"static/media/logo.b801b20b.png"},527:function(e,a,t){e.exports=t.p+"static/media/planilha.549edeba.xlsx"},795:function(e,a,t){},835:function(e,a,t){e.exports=t.p+"static/media/sound.9fd5812c.mp3"},842:function(e,a,t){e.exports=t.p+"static/media/chat_notify.2529c259.mp3"},873:function(e,a,t){e.exports=t.p+"static/media/wa-background.adbccee0.png"},874:function(e,a,t){e.exports=t.p+"static/media/wa-background-dark.8244f042.png"},903:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASQAAABQCAYAAACwPQiPAAAABHNCSVQICAgIfAhkiAAAGGNJREFUeJztnXl8VEW2x391by9JOumG7FsHwq7IroAEJAkQVsFlcN9lno6jz9GnqE9xFmeGz4zLzLiPDr4RGZVREWQLIKsEIvu+B7Lv+9bpvrdvvT+SYLbuW7e70yFMfT8fPnzSfepUpdP966pTp04BHA6Hw+FwOBwOh8PhcDgcDofD4XA4HA6Hw+FwOBwOh8PhcDgcDofD4XA4HA6Hw+FwOBwOh8PhcPwL6ekB9FZEc9y9urDBL7k1kpsKHEWHH6KyvahdW1PkPH3U8NfdNaWyvcRRdORRKjVm+WC4nN7I+KVvwjpzplubksy9yHjycVDF6adRdSu6nh5Ab4WIhjAxwDLcvZVluGhJeFiuOP/Hdg+LerNgNA9z29SIYbo+/X8hlZ16ztuxcnopwdZ4EjbS/XssbORwen75cpRk/uCnUXUrQk8P4GqHCLpAjxsLQoAPh8K5WhGMxp4egq/ggsThcK4YuCBxOJwrBi5IHA7nioELEofDuWLgu2weQmV7iWKr3q9uZyvwx3g4nKsBLkge4qwrXOmsK1zZ0+PgcK4m+JKNw+FcMfhmhkTEYGO/SVvdmVDZXiaVHH+SSrbszs0NUYIpIlUwmkcRfaAVgt4MAFCkGupovKQ0VR1wNpZvg+KsYx6TIJrEwNCbSECfcYLBNACiPhQQ9KBOG5XtJdRRf1axVe5VmmoOAlC0/cKAGBw1X+zb/3F3NlRqypdLTz5PFblGq39fQAymIfrI4W+CENGlEaWKs7ZwpbM2/zMAQGxKGkY8/StV51WnT+HAkpegyJKmQQ342V0YfN8Dbm1qzp3FvpdfgCI5NPkecv8jSLz9Zy6ft1eU48f/fQG2kiKXNq4IjIhGbEoqwsddjz5DhyIoOgb6EBOgUNira9BQkI+q06dR+mMmin7YCbmB/b3qa8wDhiAmORnho8fAPHAQAiMjoTMFQpFk2KuqUJ+bi6oTJ1C8dw9KMzM0v87diI8EiejEwNDxamZUasySSk483fqzEBSWrAsb/KJoiphOiOD6QwOAOuVGuTb/c7n83GtUtuW6shOMISN1YYMXiyExt7EkJSqSrdBZnbNMrrr4N+qUKtTsWyH6oP664OjZanbUUX9ersxye0ykOyAG0xBjQtJ2QR8Yq2YrmiLTbHVFq0CdDai9eIEkzJkFIrg/VtRv3mxaceQwslb+S9PAhj2yiMSnTVOxmk0rjx/Huc8+0eR76COPkpgpk9yZ0KaKcmQufpbJn2AwYuAd92Dow48gevIkIojuVhSX3/9UttmRtzEdZ5Z9jLzNGwBK2X4BLzCGhmPYw4sw+P4HSOh116hYX36NqL2yBpdWf4tTH36A8kP7unmUqvh1yUYEXVBzr7oQQ+zYFcaEpG264KiZamIEAETUBen79l8UMCD1lGixPtKF80B91Ih3jYnJh3QW672sGdKCPjBWHzFsiXHA9As6S8Iirb+T+rgNZl/7VO1TgxgBzV8UoE4bAKA+5yKtOnWGqSPrLFVBboc+2IyYm6Yw2fa7+WZtvkMsiJyo+qWIxuISVRsiiBj26OO4+/wlkvLPT0js1MkqYtS+uS7QSBJvW0Bmr1+H2/YfhXXmXNa2HjHi6WdwT1Y2mfCnpQxi1A5iDLWQYY88RG7NzMScDd8jbNTY7homC36PIRFRH2ZMmLRTZ7HeSwjRfLiXiDqTIWbMP3RhQ1796TFDhLFf0i596IBfsohbVwg6Qx99zOiPDDGjPwEhvTbYTwymwcaEpG2sYqQ46rPsuXtmoO2yNXfDeqbO4mbMACHs76G46WlEDDCw2U6bBsHAfiQiNjmViHr1v1vexg1un7cMuQYLfsgkN/39A2KKi2Hu3wUkfPQIzFq7FtM+/xrG0HBv/XXZR//5c4g+xOSdE4GQ+LRpuPXHfZiw9E1Nr70P8bMgEb0hfvwaMbDvGK+8EEL0EcN+I1riH4SgCzEkTNoiBoZe7/XoCCG6Pv0eNsSMWY5eWAmhRYy2C/rAOBZ7xVGfZc/JSKZyU367JxgFiZiiIxE6kv1vmTCbeaZADJYQxEyeyuw7fkaamgmtvZSLqtPHXRok3n4XbvtxP4mc4PV7qS2ECIQMvON23H7gMMLH3uBL376GCDqRjHr+WczfkYGg2Hh/9+9XQRLNsXeIQeFJvvBFCCGGqJHvGuKu/0oMsIzyhc9WdBbr3bqwIUt86bO7IfqgQcaESds0ilFKJzECgNLMDGqvZAvEx6e5L49xeYBEgHWOtiWedQ77UodBkNzOjoY/8StM+/xfXs803ECCE+Jx89btiEtVH2sPQyLHj8Mtu/fCMmioP/v1dwzJ85PvXfkT9cG64Ci2D4RG9OFDlwhGS4+up1khBtNgY7/JOwR9ENM3muJouGjP2ZNK5aa8rg1kCflbNjN1rlavp5WwMdcTU0wUk20rCbPnMNmFJA4i5oGJqna5LgTpmp8/QSb99S0tcSJPIfoQE9K+XY2oG9liaT0ICU6Ix9wtWxEc389fffI8JBcQQdDpo659o6fHoYb2ZVrDxeaZkeudSgBA7gb3sZZWoiZOhD5YPXCfMHcek7+2WAYPhGWQ+7pRABA/PU1tV5DKjU0o2rGt0xNxqWlIeudt1V1FH0L0pkCkrfoWwQnqItrDkGBrHNJWr4UuqNtmjm3hguQGISgiWQiwXLFrfu3LtIZLTGIEAHmbNlLFqZqfRcQAA2Kmpqj6S9Cw/Gr1TQTC1I5luVa4YydkW0O7xwIiopCy/DMi6DzaCPEGEhgRhtQVn8PDTRh/QsJHj8DE1//ij756dDdJke2Vzrqib6itaj9VHOUgokkwmq8TzXELBYNpgFe+JVuRs67wa6Wp5jAUqRpEFyIEWEaL5tiFrEsbQggRLQkPKU3HVc+s+RuiDxpk7Je0XcMy7ZI9l1GMAKCpvARl+w4g6kb1rfT4tJnIXb/G5fNB0XEIHzuaqd+OJMydh+Nvv+nyeUGnR2yKuiB2FT+a9NbbJCg6UuuQaF1OPiqOHIGttAREFBEcb0XEuHHEGNZHix8SPWkivfaJ/8bJd7vlw06pQlF99jwqTxyHvbISuqBAhPRLRPi4sURv0hY+uebni5C18ksU7eo8y/QhPSJIlFIqV2d/JJWeWgxFrm37nBMFkMrPvKILHfSCPmLY7wgRNM3iKFUUufzcUqni/Gugir2d79r85VLZ6Zf04UN/rwsb/D8saQdicNQ8qeT4L7WMobsh+qCBGsUo256bkUIlW46mjnI3rGcSJKtKYNs6a47H8ZnoyUnQh1gg1XUdZI+4YSIx9nW/ZKQKRW56e0GKHD8JA+9cyDoMqshOnFu+AiffewcVRw92MiCijsZPn4mR//M8iUtl3x28/tVXcX7Fp3BUVzK3URurVNeAE++9hzP/+Ah12Z1rsusCTbT/Lbdj9OIXSOiIa1l8EiIQeuMbb2HVhDHdmejZI0s2ueLcn6TiY493FKPLUCrLFef/IJWd+bVW31LpycVS+dlXOorRT74Vu1R2+nm5MuttFn9EH2QluoAErePoLog+aGBzzKibxQhwHQTuOCbzwESEDBjs0sCT+FGrb9GoR/x010sylu3+6jPnUHfpQrsHx77yKmGMG9Ga81lYPWkSdv3XQ12KEQBQp4y8TeuxPi2Zbr33fuqorWfxTYyhfTD8iadYbJnGWrhrN/49Yjj2v/JCl2IEALKtARe+WI5vrh9F9y/5NVVkpgsCSPjYUUiYM99XY+0KvwuS01Z1UCo78zKLrVxxYalirzvH7LuhbIdcedH19L4NUtnplxSpqVjNjhBCBKN5BOsYupPLYmQIsrLYtxGjbI86rDh6kDYUqr5GIAKBdUbXsyTRGID46WpHRdxjdZO/xBI/6iis5kFDYZ3FtPVOyw4eweqkiZqOVWStXIG1qcm0qaKKyf6axx4DEb1erdCsr1Zhw8xpaMhn+/KhThmHl/4O3991N3VKMlOb4U886c0Y1fC7IMkV55aC+TArdcrVuf/H7vsC+5kxqtictfmfs5gSfZDftj3djGGAMSFpG7sYNebYczNSPRYjAAClyN2wkcnUVT5S9JRkr3N7rHNmd5kRbugTiogbxqm27xg/GnT3vSyzI9pYVIL0BXNhryzXMNpmKo4cxJY7FrLMPkhwXAxik70SbVqSuR/bH7zHo4Oy2au/QuZzzzPZxk1LQWCk1xnsrvCrIFFFtjnrS9mOJbSg2CqYrnehTqne2Vi2RZPvRjbfEA1hWvz6mhYx2i4YgpiWjs1itDuFSrZLXneet5Ht7xWbkgxB3/lYiBfLtVaIKToS4eM6x7LiUqer7ZBRR00dijN2tXuw3zy2c3K7n3oKtuJCDUNtT9HOrTj5wYdMtl68TtTpkLDz0YegOLoOU7Bw8v2/0YJtO9XMiKAT3c5YvcSvgqQ01RwDVZq0tKFSYzaTb3vNMVCqqRQGq29Ceu46IqIPSmyZGbGKUW7LzMh7MQKAgq1bqLNJ9VuXGMzBiJrYOQtfJbmR2sqqKFXUg6Rdbf+7iy21UrB1a7tZgz7EgrDRI9Wa0fJDR5G9+itV/2pc/OrfTHYxkz1PlLzwry9QffaUx+0BAJTiwG9eVbcDEDOl25I6/TtDkj0IrCqKjcm3xLid3bYNdTYymvbIubYWMdohGNiWjC1ilEKlxos+G4RUX4uiXWwzyY7Ltj7DriPmAf3dtjm3/J+oOn1W1XdXghQ3Y4Zqu47xo9DrRjLt+J399FM0fz48/ycGBGHoQ50rU3RF3+HXguj0TLYdufi198IJACV7dtHqsxdU7cJG+vSoVlv8u+3v1FBgTSNUkZl2NTo28/lAfIguJIbt6AS6SYxayd2wHuo1jJoFaf+SFy//nDBnrmoGdPaa1VAcDoQOd5+RHT52NIKi49BY3Fyj3DJoGDEnup01UqpQ5KW3j4GZBzDlt5Eb33gdE/78ZxZblwiiAEHH9KVPRKOemmKtqM/V/veTmzStOtxSsPV79Bk6yK1NSGK3ZZj7N6hNulEAKL0q7jb3BMXRmNe8TOsGMQKaZxksy6qw0SMRGBF9+WeVLGvaWFyG0swMZH/nOqmyBUIEAmub5R/L7lrFkWNoLGp/eDggjK0EiKAXoTPqvPrHKEY/jS28W8qTaKL6zGlVG4MlBIK+W8qT8KMjvZwWMUqhUmPXOSe+oDbrLK05r+qfCKKAuBahMPQJRVTSjW4b5KxbB6o4UXYgk9YXqJeVbVu+hGm7v4syKjrTlXs9udgzNYja4ajuOjewDYQIhAsSpxNtZkbdJ0atMCZJXs7atqbNUi2YlrO2ZWZEKXLWrlX1HTd9GkRDAAS9ATHJ6tnQXY1Ztl0x9aM7obU+eXfAkqJBFQpF7pbXkQtSL6XNzEg9COkL8hirSMZOn95c+8j91jCV6htRsPWnNI2cNavVXBODORjRNyUjcmISMZiD3fpvKqtE2f7MTk/YK312RMPnXAljMw9ynXHfApUabFAcvotbtaHXlmr9T8Yvy7SOFO3eSR01dcRgCXFnRkzRkTRszA1ImDXLrb/8zVvgbPppl7Nw5zYW/0iYMxdSvfoGRt6WzaBK57hiXU62atsegCqyE/X5mneKAQCC6LuKAbHJ6geV67OzfdZfB/gMqZehSI35flumtevYYUfBVrdXXV1m3JLfkoCIULc2HQPZisOOvPR0Vd8Jc+Z6HD8CgKqTJ5jynvxNxZFjHs86rLO1VeJ0RejwUSRslPoxqcoTrssAewmfIfUiFKkx31F46AEhsO8NJCh0gis7SqnsrCv8BpSynU9iJWf9eiTedouaGel3s9vT/9TpkJG7oXPMKPu7NWon8Fvymvq79a/ITuRv3tTlk03lJag+dwF9h6kvTbLXbCDlhw+p2XkLVWQJF774zGMH1yxahGNvvY7GIu+ubR/76m+YCtUVZ2R41Y8buCD1EhSpMd+RlznHYJ20RdAHqJaClWvz/+0oPHSvT0Upf9NGShXKekreJcW7M7o8H5a3cT112iUiGl0nCLL0XbpvP+yVZS6fz0vfyCJIsAwbTLc/cBekHrz0kQGiDzHRKe/9HZtuv9nj0iCJt92JxFsXqJk153ZtYjvf6AF8ydYLUCRbgT13TyqVmvKJqHe/FGpBZ46/wxAzdgXg5tZarTQWF6D80BGv/eS4yDty1FajcIfqeSpV8lTK72Z9+QXLso30HToY07/8GqLxyk0VaIH0mz8XE5YyVbroROTEJCQvW8b0RVP64/5OpVx8CBekK5xmMcpIoY6G81SRqhzFRx+nVGGqlqCzxN9piB3jW1Fi3f53AaUKRfZa14mQ2eq7baqojbHsQCbKDh5mcUWss9MwJ/17mGKZqiwAACInJGHe1h8w9eNPIQb49GILd5BRzz2Dqcs+g87kdgeyHQPvvA9z0zczV2Q49eEHno6PBS5IVzCKZCu052akUkfD+dbHnDV5n0hFWkTJepchdswKn11+yXqJpCsqjp1AfY7rjPKcdd95E3Sm9QVFqDimHvc5/Mc/sPokMVOS8LNjJzD6hVfcXvZoHjgEU97/B+bv3Elip04mQx9+gKR9851fRWnog/dh4bFTGPLgIrf9Ro6fhFlrNpLUz5YTfXAQi29aczFb89XpGuExpCsYZ13ht9TR0KlAnVyT+zEIEfTRI99nKfGrs1jvAiGCT2JK5Qd+pI3FZSQoOsKj9mozoMbCPJQdOITI8ep1jroib2M6UxwlZ+0qWrhzN4mdOpnFLTH2MWP8H16j45YsQfGevSg/fAhNpaUgogiT1YqoCRMRNnpkp2WPdeZ0kvbNd3Tz7fPhbGI6KO4tJKSfFcnLPqaT/vIXFO3YicqTJ9BUWQldQADMAwcievIUYhmk/Tzavhdf7O7kTS5IvRS5OufvABH10SPfZakNrjPH3wEK6ig8dC/gxbk/ShXkb0rHkAfv96i9q/hRRxuPBSmdfUm5+4nH6K37DmgpeE/EAAPiUqdCS91s68zpSPt6DbYsvAWyjbXChNcQgzkY/ebPRb/5XtcvopfWrMOlVSt9MS538CVbL0auzn5fKjn2NKVsOys+iyl5GEeiddl5TMsphsO2Xfp3NjnaZX+rUX32FPY++yzTwWEvIdZZM+Dn5ZuvoPW5+fjhsUf90RcXpF6OXJX9jlRy/Bl2UfJBTCl/yybqtGufumd/t4ZpOVV16hitPqc98bN4d4bL20lccWbZh/TEO+9p7ssDSHzatN4mStRRU4dNty5AU3mpP/rjgnQVIFdd+ptUeuJ5TaIUM9ZzUXLUVKFkz17N7ViWa57YtuLpDmDm80/T0x8t86itVuKmpSDmplS/9OUl1FFTh/Sb56HiaLcnh7bCBekqQa68+KZUenKxpuWbN3lKGnfbaFN5FYp3s+cYaV22UYV6LEhUUfDDL39OD/729yy39XoKddTWY8vChcjf7N1OpR+g9Tl5WJuajOI9u1SNfQgXpKsIuTLrDans1Mt+iSlp/fDnpm/UtENTmplBG0uYb/ugtZdyUHPOi7rSlOLga0uwacECpquftHov3X8I304cj5y13/rat0+hCqWXvv0Oq8aP8+fMqBUuSFcZcsWFpVLZqVe0Ld9GM181dZnqMydo7UX2GukM5UXaQRUnctetY7bv6qpsT8hLX4evRg6nx99+l+VyAzWorbSCZjz9DNZMnoCac+rVGD3po+zgUV/M7Gj1+Sy6ZeEd2LJwAZoqXB+96Ua4IF2FyBUX/iiVnf41qyiJFut9EET311F3BeOyjcqNTcjbrH6SvyM5bjK6O+IrQQIAR3Ul9j77FL4cOpge+dPrmmdMVKG08vgpmvH0M/hycCJOvvdXUKdvDzq3JXPxc1g1diw9/fEn1FGj6dwdVZwKLdqVQbfecx++um4Ystd83V3DZMFHeUiUKrKjqu3Pzf+3z4+hitzgvW9XZsw3iLRpA4XFN6XOzglt1Nnkvm3za0AV2S/JcB2RK86/RggRdeHDXnWXp0Qppc7a/JVQnKqlSzuRs24tHXjn3a4NWt4Hhdu3Q/bggGr+95tpfV4RxAD3Z8kUux2FO7dr9q9GQ0Eu9r28GPuXvEQjJyYhLiUVEeOuh3nIEJhiYiAGBgKUwlFbh8bCAlSdPoXSfT8if/NmVJ854XX/Ul0DtZWpv/cVSULlyaP44RePYs+vnqSxyamImZqM8NFjYB40CAEREUQ0GikUJ+zVNajPzUXVyRMo3rsH+ZvS0VDgWR2mbqBHrvfhgIAwxG0oFIB6NxVn2UnzdZmS/xhab9P18m/kDwgRQamCK/ymHQ6Hw+FwOBwOh8PhcDgcDofD4XA4HA6Hw+FwOBwOh8PhcDgcDofD4XA4HA6Hw+FwOBwOh8PhcDgcDofD4XA4nJ7m/wFWqNSiaYiyOgAAAABJRU5ErkJggg=="},904:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZ8AAAB5CAMAAADRVtyNAAAAnFBMVEX///8ALL4AALkAKr4AJb0AIrwAJ70AH7wAHbwAF7sAE7sAG7ttedAADboAELoAGbuBi9Xu7/nz9PvU1/D3+Pxkcc6vteOrseJ0f9Ld3/Oco91seNDq6/fDx+rk5vXY2/GVndu6v+dQYMmkq+DKzuyIkdd9h9QcOMAwRsM4TMTP0u5VZMq7wOdEVseNltkTM78oQMJCVMZgbc0sQ8L3492eAAAS9UlEQVR4nO1d53qruhI9iA4G9x73uJfE2e//bpdimxGojLDj3OTz+rl3LIHKlDWF//77P8Pia/JDM0++Fj808+/Bm+Oa1g/NbZiuXf+huX8L1oam2fsfmXpvapqx/pGpfw06oRYhnP7A1NN06s4PTP17sDXiRdLI6Okzj0gys3F++sy/CI10kTSd9J88c5/o6dSk9eSZfxPeQ+2yQe5zFXXdvWyPFu6eOvHvQse9rJJmac88xy3duk7svhQQH4vqdZmea0l9GLd5qy8fiI+Bf1snzfx82rSfZjatP3jatL8PcH+iDXqOiGutwfa89keEQRWslGZ8NJ4wZwMIt5d8EyOzD9INMt++fco3k9qel30gwsij1kqzgu/mSpuBRU/pPd81/j2YBPRiRY7q7FsnnF3d0huCZ3vGvwktouVBTt8434kx34s/EOAjf5wjh/772Ox9WJhN//i22f4CKmZhxTR7/T1WwtvaLk5mVr5lrr+CrltcMs0ih2+YakYsxlwv802It6JCiIUO6T18pl7BMkhAvt+i/9X4xzrUkVe/Hj90mvHaZ85jbR46zd/DgL1ukYx7pF+/YMo27cUeSNFgCrgY4fFRbE/jWLTbruLtGYzSr0abYcGlMILH6O5OYPCmMNsPmeEvY8K9QJoezO8/3o15wDQM0uvzU6l3vwhz7umOzvfdV6gTcO9ndEPnD3mDv40+/wLFV+h4T2JC/Si4PNH1eXFvCFQYbj0446R8AG1ABHdT0+zHe1l/ES1PdMY13V03S43bXLPICTjwixpF4SCScFrsC1XUV7JV4fk8V3wLi/QnUeE4qTfYQVdxyG4glJoR/BczigaH5cmge/9UTOHmP7HM1F7MjhLG+TgqYz3JECvkWkOZaIsQPJbg+9uYiTV5ChtJyS2koi2G+72B9L+FnsCJzKCHW7kzVN+GMtGW7vbLuMbjUy6PEhjS9JGZ2OXJYP17ypv9DUgM7Aw6WQkHWrGjcCyQJ73bH0AdvT+R3jgKBjpi9Nh1f16lp1j05eZbBptvGH9iDIMrXolvaBTSFIXgFjp8oqyM2/68YgtYqO2PZm6Zo2yVtue1P3goybcI/hdjkC8ZSZTfn5eDioWKfZCubTHmMOXmGHDwSj3AQ3V/NJIPOTTVh/iRN/2d2CD90xt0PTeCgfZ7LrDYSuwFFnoqhnECn/ZTe47qALbY0X0BoqPgV15AoHoX5jCw8eJHFaBsIORyb45I0g3gZR6oYKuqgKjcNXXj4KV+1MCsMxHDzJygvfr1cVUD5n8cjf5udDgcRrs+k5Zs4XnnG24SqoR01J9tXbfGk/doAUbvk/GjsoYOy9XgARxIv7PcfxAShF6MMCBEm9c6+YFXyhZcVnvAq4EQwKkhnnw8WC3vtyIao0FlG14XIAwCEmwrg9G96m9nho7tk/ldu/222JPAtXPOiW7YbkDmFAfAr2Pg4qZClL0nnHXQJr7teMFdOzRafRDPNy1qAXTL9D2y7t1DoDcvAse+oytOd0OqXL9RNwKqeGCpfgkupdclttZfyp/+nPY20cv3Dmz2gtDmym3dJncwgB/XM+mVTK9tLQNXliBI/YD/JjxcWkvkm1zIoZvy5+8GCn/MwmhDTPErueWLwwY3e0ov5ygMiCPNQKM7ir0rXwN/mvzwpMwdkHf5C2QJdNUyHRnGZ3mOV/nWJQ1gTpWpYapvpPmBRYZlpWpjm8Pkd/wKLw5cBLWzApteooZ4iklTKd8ag3plotwBcodKovHymlcxwHbt7arq23LCexQowki9TGiOCXaUzyCi/XFLtbPhCOfMFBI0Wpqan6mnD6apKS4D0zHkTD2JqomwQUlcG2PjM5FLR/PU9FgTtz26Vvhlw1LaoMsIaqEFQ0Po0xkd0GU8qghHnC/nla2f6OZupx6oCMqWW1gvw656kV+aIPCqdrL9JiOBs8FqwcJFmftjrzHmTt7wcqcKC7As2JO66bvhZQGC0HXS4csmeBXrpWyVUowvWovoTkDOq8WoX483uVXvj7qrMwmqNlutzRWMhIuDquKeuihVUvTFFNYyX/BsekRrT2fNcXIwGuPdbNo2ieeEZYtfV0XpqVDnTOsuI1hPWdVvzcWKY3W08d6MkTKkCuyoN8S8AqPpjIlvqrWFj6NXyXDG2Nu32bJs2SYr1qVgasBybJ3M1UsTh+gNuhjoeOouxMkBVkU5xmVKsIPLZ/uP709yZh3HEEvHQy7ZqmJfikIPy/RcCFK6yazo73Eh7RHLUbawfeJgx7TgG0r0gOliZbpA95AmAgjk6HpJjharUMJ0+9+RmVXYkBywN6rZWXWR8ggYr4wssPuRmS7WBpwkB1kuAzzb0vTfGbk/ivyohftUyTQ7YcEsC5wjeS6QCmuilJ0igOkSGVhwtXFs+Pq2veU7EyIJAetKra9xBjZufwC1ZcyhMsbxXCDT5TsyHIDpEseP4cPipEP2+/Lsn6jjC4BzDRLUcAaCgbLB4JF8oxK3UDzX9Ha+kddVDfPcfR6Ay45qhZPtT/n6DVZTUgaCq/WBVEAsh7gAYH4lQSLgDKJ4ruVtP7+jsylQOBeX+RYH0nQfM8Ij9meKMuB07/YDYZOdbL2niLkzakt3kn8AZAqG58qCHajjoIjMdLkm0IKoDCpmD+RbKeM6Bi7gBsITuPJijMBdZFNfA9uZNYnhubJciG9ojgVMlxtlu1czyLLz5yBiyGzg8nGU898Q+roVFPUt4GsQPNcs2+CHpwjRpssFYLEw39LLdIdevsATU85twcSINeYHCA4E5IFn9iroryXnuUApE0reqCBnulwA/QE5Iw78U0sru0EYBeRBc6WDkIgI9QOsadAeAVwqxB4DXUjkM6qgmTNdrgBKSZ4qQfE7ZFougsvuik1BN6hfSJMdUBR0Rm1SqgYoJTnPBY1P71iuMxobBdPlghFn39ig+FGffHXKmHFySjr3XVn5BUJ4P51MNtGmWiY+5TwXxY8aZH16f5CbCk0X+uXBkstTJXb02TfdgKz3veWgOxvtJmPkswqaxqYo+CJSDVSouCvC57k6OxWei2YPLSckzrFdmy46h/dm/610SgjLdLkAiBuE0bgvGLu6YTp+1U1yW0mwPg6Xi5HkVhUHya123lZmks4AiABOjaK2KKjwXMWzFb2/7UTv78XvT4zNfjXtNFVvFdN0uWCZMfjyVAlJu8pkt+Jw93q44B9piYltFJuIMMMi2aRy7TOmqS0KSjxXTSxrdcuwfTck3nx5wBtQbNPlCqPgtwqAzQ8xqwHZdznnaCAsuWccYnEJXSB3/fPUFv04KjzXEZW+oxuOR9ZLZPIax3S54JCtVnUqHesdXSyiGy6Zs432uYD0ZFLJojRFWy7ditQWBSWeC98GSHcC44S4RVzT5TojMBHkw/VNhTQcI7SYRusHX2AxH0EgEjHfJtYzEcHKpgI8ly/3OysK5Uy6Q4ZSq4trulwAhTOGph9i27AlT+hpDK6uYfCG4DjmNZ5YMQy5Mp7KVKwaz3VwqgpZX6aka5rIdGH8BYb4nMyJQkGCThixxrrGllg8mrLFobFNREZinUVtcf8CE9mZhrLyDQjfFJn/ItPliuyGIT+p1195gYO+RQ4jb7C1ZcpxbibAgP3nW4TP8cWktiio8VwRulviSipMMuiiNvmYKDvQUNhUif92p2OcL+qYhqXLHtRwGetSYxRp6BZ3PsYkFsGwlPmoHBNKPFeCemdokdD17XgBZDvEf1CJ6XLBVjVVIsV4tFhW9tt1Nc5tDTw33i3ms1oOY9TmuuBNCQoOZ4XP3XprVGblGmOdqfFcVzR2nenq6/jPCpLkXi/aLYMt+Lh0qo7ybpRTJYqPOp68z6LdOhrRrXIKu2QwyeF8t2QhhZzrc24j3J5kDi61RUGJ52Kg9dbfHbrT1f6TkLBaFH0cxc6KyrGgmiohQv9wmgdBjnV2mYVqrR4l5IRTU+SfRXo4tktAbVFQ47mEqO8WvQ/i0uqZ/cEOuelyhWKqhBTNkxVSB57jWvVBwpXkEcERt85Y5rwioLYonFR4LjnqncjIhe/vsMzsL7Rhr5gqgcFoA8kqXs/wFfoRoSWKbVA1EVJbFEwVnguDeo1yFBmKHYgEW6b11FIlcOhCV5tdkQk1n4ze7ylnVMK3kn0R6JCdJqWSIAHetsCtZsR4QeAklL3QKNNUSiVBQkzABrG/tgwqNqRdwZrZCiIzKjuZVJCnRIHc7If1z95nMq5ILS2gfAns/bL7zmoQ89acTdtr+LeP+/ThQeIdU1azSzaV6axZNJ8a/ffucm/Av8VlVMJyPzMafXCYMFa+0R8tVkf4aQeFkiAJwBXJ24U5TiTuvBJXIq7P+2Gvtlwua6vK1/zTjezBa1XeFQ/8fgFg9lneR44nsuJiwTjOd963K73Vqjf8mm/0uHAy30hGdxGT56rR4tYr0QLYm3m7t4oWYBmNv99qaV0mPTy6JEiGHXD9c/KB820+3TBM03Ycx7ZNnu+LLgmSAuQjMhQkp/GLrlvRM5rJA/K8c6Y9RGPMZr2Twe1kBbgLgOS5EPi4je9Mqf+QxvkFQJcESQEKRIpJwYhcHj7kTLM47CoGmueSIbNPc0Znic5PGR73BZ1sC8KC94ksZmBDyjQfFDujUyjZ+qYIkBRMMTMd1Z7eNB72eddM7Rb2R5b3IYGsO5hyW2YKj/p89+Lm99L7U+xUoASkASuH4P4oNgfJQ8I0n7ClqxzczXOlyPJlDRgHYxTSq+FBH5gHKib/UYSpel9SGkKmuURjTBqP4bn+G2b6BwQZoOniOlhNpIPcAr36kMeDNYH0/8A+Wi6D8eWsmg2uhYhpBjFrEz26bvjZWj2G58o8CFiPD0yXYLY8MxpR5h7MMqshWfdOmTnMygToEtW6ZUCw5M4j5AZni7jthm+KDlLaOXNTA8FEAaEKcj7sSlc+epoSFcwHQp6rsSVzNcUMWCNQNAVzphJiv99Zzs3YzXMSj+KyVYmfkSQUBtveYhc/DoyDFAzYMdF111QRfIB2zbWE2+WZy/r7oLIhaUw2CcomsKIntP3YsTavnWdhmTOXac7cjtSTrY8Gw3/kFvCEC2AnDXQ+vk6H+IVBJYFdSJzYO5pBhiqWHQj7AgIS5BwCJdrqj7qn3tfxUw/Tdj7meruvLBeQ9BCWBCWp7Xq4RrdVhX0TQ3ot1+xzWp8cFtEzzrfryI82jI/P83xYm3YoYgrBNIN0Behrv+1mg9pwvv3w045GrrY5tlfx8NnfDMG9zvFc6d6ZZIWm547ZYGA5gemi3KJW8Nurx2uF+gB1hhZAxeT0GeAGleX8LC8dCgC6zVJtggvaded5rqvWsEkbZdzVN4DC8W7nBN4BdTPZYt49+HhJccl+JqMYJmfogtG5qbAuSt1OOssyKmHOu3KZDrckCPhrZqCdpCQy1QgTlDzv1eMk7KegDVjanTRccp4KTtHsSEWnwOPFgBn76lSkLKOyeV86BRC9ITyEVGmm7gRmb8Y3ICe10IcWWdYr+R0fM2SClypRqBw1/JD86y1G+aBFpOnnxKO5G9qd6ksWWAaQTsra3iyVpBRNUzBdUhQziEyX+PvTrJm/w/1Oz8qlcAIpAUyXUpFQTqoEuxVOZJfH5t/n8avSq9VWlfZ+E5DQzxNruSR2wA2WC4UJMyqB0VguEvrFFEDMD01FZnlk9RN9u2/3VrU4IHLUI2+m4HBlxjAwXUp6WBwD9oOfGK+nQQtuxCLXtxVwg36ZBtR0RuU093+tUG7ficEuCeoIEuMvMYvo/dkZgKTDGLs0Q2EzX7AxL/EhkvQlLVrKZNygbpd8REFGJTjnuGTdItglQQui/qGPFCDBF97NskHAGackaPSBaE1ehP9Ji1nADZb+QkWfGzgH/8MoxUMC6AjgF7QqRLVfejIEyczA3Z2aNwXXgO1ooWrMRic5E2p8l/l/xYqXUQl1W+mPVPBa34zbKqUbKWwHmPjrezVv+hj8XT6clZ5Q9/28jIGbXz7KxGs+BXQbIgTOBbck6K0WeCpH1CBDdruFkpo3xUpgwPaXToDcosiPLTwFEJ53RWk5GZVAt3n8H0sh4rk6R1JFbpFBttA/BtxEac2boioyYP/b1XQiJe11MzQZTUacO83/G6CXcxsIHCzvriQXIUdWX0QOnjRsY1XJnvbgaw/QvClkRav/jbttOybt2ZukG34QVljsMig2LPv5oQtAAsxNkgHBrEy85cDnuRK0RstN3IqdE7axbI9sF3kNM/TijKQY7r3x6a1rXBBwBeXbaNpeExJ61SRVyYidINOJU9j8/YDDey2JeYF7b4Cydxvq1ux4Qq4LYKoTbzRG5DJSNBTvb5rd1dGLwza+c5k3Tl2LoyGb1YzBXDR6vUqC4T3KJ0HrNLwMJStSq09GncEpcp3b7XZlVTstDhMRqXJa1RKsSjZYAlhchqqdbkN1K+kKDCt3ZxiOKukKDIfioVrj99liWutVovcf9lbLARWugPgfQPUzpuNE1TUAAAAASUVORK5CYII="},905:function(e,a,t){e.exports=t.p+"static/media/hinova.e6eaa98d.png"},906:function(e,a,t){e.exports=t.p+"static/media/siprov.70524441.png"},907:function(e,a,t){e.exports=t.p+"static/media/bling.2c07b0d6.png"},998:function(e,a,t){e.exports=t(1355)}},[[998,1,2]]]);
//# sourceMappingURL=main.3181ba72.chunk.js.map